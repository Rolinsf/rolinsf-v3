import{_ as wr,r as ge,c as wt,o as Me,a as ze,b as q,w as $,d as Te,u as $e,C as Nn,O as Ty,m as kt,g as Ge,t as ut,F as Ri,k as Ni,D as iS,P as aS,K as oS,Q as sS,h as lS,B as Dh,T as uS,U as Ql,e as Ve,f as yl,V as xy,E as Tt,W as Ih,n as Vr,p as Et,X as cS,Y as cf,Z as tl,$ as fS,a0 as rl,a1 as My,q as Jl,a2 as hS,a3 as ff,a4 as Gu,a5 as dS,a6 as Oh,a7 as pS,a8 as qi,a9 as Ph,aa as Ly,ab as Ey,ac as vS,z as gS,ad as mS,s as oo}from"./index-BDvhqHdq.js";const yS={class:"page-header"},_S={__name:"PageHeader",emits:["create-novel"],setup(t){return(e,r)=>{const n=ge("el-button");return Me(),wt("div",yS,[r[2]||(r[2]=ze("h2",{class:"title"},"我的小说",-1)),q(n,{type:"primary",icon:$e(Nn),onClick:r[0]||(r[0]=i=>e.$emit("create-novel"))},{default:$(()=>[...r[1]||(r[1]=[Te("新建小说",-1)])]),_:1},8,["icon"])])}}},bS=wr(_S,[["__scopeId","data-v-618caf5e"]]),wS={class:"filters"},SS={__name:"SearchFilter",props:{modelValue:{type:String,default:""}},emits:["update:modelValue"],setup(t){return(e,r)=>{const n=ge("el-icon"),i=ge("el-input");return Me(),wt("div",wS,[q(i,{"model-value":t.modelValue,"onUpdate:modelValue":r[0]||(r[0]=a=>e.$emit("update:modelValue",a)),placeholder:"按标题搜索我的小说...",clearable:"",style:{width:"300px","margin-bottom":"20px"}},{prepend:$(()=>[q(n,null,{default:$(()=>[q($e(Ty))]),_:1})]),_:1},8,["model-value"])])}}},CS={class:"novel-cover"},TS={class:"novel-info"},xS={class:"novel-title"},MS={class:"novel-tags"},LS={class:"novel-stats"},ES={class:"last-updated"},AS={class:"novel-actions"},kS="https://shadow.elemecdn.com/app/element/hamburger.9cf7b091-55e9-11e9-a976-7f4d0b07eef6.png",DS={__name:"NovelCard",props:{novel:{type:Object,required:!0}},emits:["manage-chapters","edit","analytics","delete"],setup(t){const e=t,r=u=>u>=1e4?(u/1e4).toFixed(1)+"万":u,n=kt(()=>r(e.novel.wordCount)),i=kt(()=>r(e.novel.views)),a=kt(()=>r(e.novel.collections)),o=kt(()=>{switch(e.novel.status){case"已发布":return"success";case"草稿":return"info";case"审核中":return"warning";case"已下架":return"danger";default:return"primary"}}),s=["#409EFF","#67C23A","#E6A23C","#F56C6C","#909399","#7B68EE","#FF69B4"],l=u=>{let p=0;for(let h=0;h<u.length;h++)p=u.charCodeAt(h)+((p<<5)-p);const c=Math.abs(p%s.length);return s[c]};return(u,p)=>{const c=ge("el-image"),h=ge("el-tag"),v=ge("el-icon"),m=ge("el-button"),_=ge("el-dropdown-item"),y=ge("el-dropdown-menu"),b=ge("el-dropdown"),C=ge("el-card");return Me(),Ge(C,{class:"novel-card",shadow:"hover"},{default:$(()=>[ze("div",CS,[q(c,{src:t.novel.cover||kS,fit:"cover",class:"novel-image"},null,8,["src"]),q(h,{type:o.value,class:"novel-status-tag",effect:"dark"},{default:$(()=>[Te(ut(t.novel.status),1)]),_:1},8,["type"]),q(h,{type:"warning",class:"novel-serialization-tag",effect:"light"},{default:$(()=>[Te(ut(t.novel.serializationStatus),1)]),_:1})]),ze("div",TS,[ze("h3",xS,ut(t.novel.title),1),ze("div",MS,[(Me(!0),wt(Ri,null,Ni(t.novel.tags,M=>(Me(),Ge(h,{key:M,size:"small",class:"tag-item",color:l(M),style:{color:"white"}},{default:$(()=>[Te(ut(M),1)]),_:2},1032,["color"]))),128))]),ze("div",LS,[ze("span",null,[q(v,null,{default:$(()=>[q($e(iS))]),_:1}),Te(" "+ut(n.value)+" 字",1)]),ze("span",null,[q(v,null,{default:$(()=>[q($e(aS))]),_:1}),Te(" "+ut(i.value),1)]),ze("span",null,[q(v,null,{default:$(()=>[q($e(oS))]),_:1}),Te(" "+ut(a.value),1)])]),ze("div",ES,[q(v,null,{default:$(()=>[q($e(sS))]),_:1}),ze("span",null,"最新更新: "+ut(t.novel.lastUpdated),1)])]),ze("div",AS,[q(m,{type:"primary",link:"",onClick:p[0]||(p[0]=M=>u.$emit("manage-chapters",t.novel.id))},{default:$(()=>[...p[4]||(p[4]=[Te("管理章节",-1)])]),_:1}),q(b,null,{dropdown:$(()=>[q(y,null,{default:$(()=>[q(_,{onClick:p[1]||(p[1]=M=>u.$emit("edit",t.novel.id))},{default:$(()=>[q(v,null,{default:$(()=>[q($e(Dh))]),_:1}),p[6]||(p[6]=Te("编辑信息",-1))]),_:1}),q(_,{onClick:p[2]||(p[2]=M=>u.$emit("analytics",t.novel.id))},{default:$(()=>[q(v,null,{default:$(()=>[q($e(uS))]),_:1}),p[7]||(p[7]=Te("数据分析",-1))]),_:1}),q(_,{divided:"",onClick:p[3]||(p[3]=M=>u.$emit("delete",t.novel.id)),class:"delete-item"},{default:$(()=>[q(v,null,{default:$(()=>[q($e(Ql))]),_:1}),p[8]||(p[8]=Te("删除作品 ",-1))]),_:1})]),_:1})]),default:$(()=>[q(m,{type:"primary",link:""},{default:$(()=>[p[5]||(p[5]=Te(" 更多",-1)),q(v,{class:"el-icon--right"},{default:$(()=>[q($e(lS))]),_:1})]),_:1})]),_:1})])]),_:1})}}},IS=wr(DS,[["__scopeId","data-v-c8c2b14b"]]),OS={class:"novel-list"},PS={__name:"NovelList",props:{novels:{type:Array,required:!0}},emits:["manage-chapters","edit","analytics","delete"],setup(t){return(e,r)=>{const n=ge("el-col"),i=ge("el-row");return Me(),wt("div",OS,[q(i,{gutter:20},{default:$(()=>[(Me(!0),wt(Ri,null,Ni(t.novels,a=>(Me(),Ge(n,{key:a.id,xs:24,sm:12,md:8,lg:6},{default:$(()=>[q(IS,{novel:a,onManageChapters:r[0]||(r[0]=o=>e.$emit("manage-chapters",o)),onEdit:r[1]||(r[1]=o=>e.$emit("edit",o)),onAnalytics:r[2]||(r[2]=o=>e.$emit("analytics",o)),onDelete:r[3]||(r[3]=o=>e.$emit("delete",o))},null,8,["novel"])]),_:2},1024))),128))]),_:1})])}}},RS={class:"empty-state"},NS={__name:"EmptyState",emits:["create-novel"],setup(t){return(e,r)=>{const n=ge("el-button"),i=ge("el-empty");return Me(),wt("div",RS,[q(i,{description:"你还没有创作任何小说哦"},{default:$(()=>[q(n,{type:"primary",icon:$e(Nn),onClick:r[0]||(r[0]=a=>e.$emit("create-novel"))},{default:$(()=>[...r[1]||(r[1]=[Te("开始创作第一部小说",-1)])]),_:1},8,["icon"])]),_:1})])}}},BS=wr(NS,[["__scopeId","data-v-7177a783"]]),HS=["src"],FS={class:"dynamic-tags-container"},VS={class:"dialog-footer"},zS={__name:"CreateNovelDialog",props:{visible:{type:Boolean,default:!1}},emits:["update:visible","create"],setup(t,{emit:e}){const r=e,n=Ve(null),i=yl({title:"",description:"",cover:"",coverFile:null,serializationStatus:"连载中",tags:[]}),a=yl({title:[{required:!0,message:"请输入小说标题",trigger:"blur"}],description:[{required:!0,message:"请输入小说简介",trigger:"blur"}],serializationStatus:[{required:!0,message:"请选择连载状态",trigger:"change"}],tags:[{type:"array",required:!0,message:"请至少添加一个类型标签",trigger:"change"}]}),o=b=>{if(!(b.size/1024/1024<2)){Tt.error("上传封面图片大小不能超过 2MB!");return}i.cover=URL.createObjectURL(b.raw),i.coverFile=b.raw},s=Ve(""),l=Ve(!1),u=Ve(null),p=b=>{i.tags.splice(i.tags.indexOf(b),1)},c=()=>{l.value=!0,Ih(()=>{u.value?.input.focus()})},h=()=>{s.value&&!i.tags.includes(s.value)&&i.tags.push(s.value),l.value=!1,s.value=""},v=["#409EFF","#67C23A","#E6A23C","#F56C6C","#909399"],m=b=>{let C=0;for(let L=0;L<b.length;L++)C=b.charCodeAt(L)+((C<<5)-C);const M=Math.abs(C%v.length);return v[M]},_=()=>{n.value?.resetFields(),i.tags=[],i.cover="",i.coverFile=null},y=()=>{n.value.validate(b=>{if(b)r("create",{...i}),r("update:visible",!1);else return Tt.error("请填写所有必填项"),!1})};return(b,C)=>{const M=ge("el-input"),L=ge("el-form-item"),T=ge("el-icon"),E=ge("el-upload"),k=ge("el-radio"),P=ge("el-radio-group"),D=ge("el-tag"),N=ge("el-button"),B=ge("el-form"),U=ge("el-dialog");return Me(),Ge(U,{"model-value":t.visible,title:"新建小说",width:"50%","onUpdate:modelValue":C[5]||(C[5]=F=>b.$emit("update:visible",F)),onClose:_},{footer:$(()=>[ze("span",VS,[q(N,{onClick:C[4]||(C[4]=F=>b.$emit("update:visible",!1))},{default:$(()=>[...C[10]||(C[10]=[Te("取消",-1)])]),_:1}),q(N,{type:"primary",onClick:y},{default:$(()=>[...C[11]||(C[11]=[Te("确定",-1)])]),_:1})])]),default:$(()=>[q(B,{ref_key:"formRef",ref:n,model:i,rules:a,"label-width":"80px"},{default:$(()=>[q(L,{label:"小说标题",prop:"title"},{default:$(()=>[q(M,{modelValue:i.title,"onUpdate:modelValue":C[0]||(C[0]=F=>i.title=F),placeholder:"请输入小说标题"},null,8,["modelValue"])]),_:1}),q(L,{label:"小说简介",prop:"description"},{default:$(()=>[q(M,{modelValue:i.description,"onUpdate:modelValue":C[1]||(C[1]=F=>i.description=F),type:"textarea",rows:4,placeholder:"请输入小说简介"},null,8,["modelValue"])]),_:1}),q(L,{label:"小说封面",prop:"cover"},{default:$(()=>[q(E,{class:"cover-uploader",action:"#","show-file-list":!1,"on-change":o,"auto-upload":!1,accept:"image/png, image/jpeg, image/gif"},{default:$(()=>[i.cover?(Me(),wt("img",{key:0,src:i.cover,class:"cover-image"},null,8,HS)):(Me(),Ge(T,{key:1,class:"cover-uploader-icon"},{default:$(()=>[q($e(Nn))]),_:1}))]),_:1}),C[6]||(C[6]=ze("div",{class:"el-upload__tip"}," 支持 jpg/png/gif 格式，大小不超过 2MB。 ",-1))]),_:1}),q(L,{label:"连载状态",prop:"serializationStatus"},{default:$(()=>[q(P,{modelValue:i.serializationStatus,"onUpdate:modelValue":C[2]||(C[2]=F=>i.serializationStatus=F)},{default:$(()=>[q(k,{label:"连载中"},{default:$(()=>[...C[7]||(C[7]=[Te("连载中",-1)])]),_:1}),q(k,{label:"已完结"},{default:$(()=>[...C[8]||(C[8]=[Te("已完结",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),q(L,{label:"类型标签",prop:"tags"},{default:$(()=>[ze("div",FS,[(Me(!0),wt(Ri,null,Ni(i.tags,F=>(Me(),Ge(D,{key:F,closable:"","disable-transitions":!1,onClose:G=>p(F),color:m(F),style:{color:"white",margin:"2px"}},{default:$(()=>[Te(ut(F),1)]),_:2},1032,["onClose","color"]))),128)),l.value?(Me(),Ge(M,{key:0,ref_key:"InputRef",ref:u,modelValue:s.value,"onUpdate:modelValue":C[3]||(C[3]=F=>s.value=F),size:"small",onKeyup:xy(h,["enter"]),onBlur:h,style:{width:"100px"}},null,8,["modelValue"])):(Me(),Ge(N,{key:1,size:"small",onClick:c,style:{margin:"2px"}},{default:$(()=>[...C[9]||(C[9]=[Te(" + 新建标签 ",-1)])]),_:1}))])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["model-value"])}}},US=wr(zS,[["__scopeId","data-v-bee7431a"]]),GS=["src"],WS={class:"dynamic-tags-container"},jS={class:"dialog-footer"},qS={__name:"EditNovelDialog",props:{visible:{type:Boolean,default:!1},novel:{type:Object,default:()=>null}},emits:["update:visible","update"],setup(t,{emit:e}){const r=t,n=e,i=Ve(null),a=Ve(null);Vr(()=>r.novel,C=>{C?a.value=yl({...C}):a.value=null},{immediate:!0});const o=yl({title:[{required:!0,message:"请输入小说标题",trigger:"blur"}],description:[{required:!0,message:"请输入小说简介",trigger:"blur"}],serializationStatus:[{required:!0,message:"请选择连载状态",trigger:"change"}],tags:[{type:"array",required:!0,message:"请至少添加一个类型标签",trigger:"change"}]}),s=C=>{if(!(C.size/1024/1024<2)){Tt.error("上传封面图片大小不能超过 2MB!");return}a.value.cover=URL.createObjectURL(C.raw),a.value.coverFile=C.raw},l=Ve(""),u=Ve(!1),p=Ve(null),c=C=>{a.value.tags.splice(a.value.tags.indexOf(C),1)},h=()=>{u.value=!0,Ih(()=>{p.value?.input.focus()})},v=()=>{l.value&&!a.value.tags.includes(l.value)&&a.value.tags.push(l.value),u.value=!1,l.value=""},m=["#409EFF","#67C23A","#E6A23C","#F56C6C","#909399"],_=C=>{let M=0;for(let T=0;T<C.length;T++)M=C.charCodeAt(T)+((M<<5)-M);const L=Math.abs(M%m.length);return m[L]},y=()=>{},b=()=>{i.value.validate(C=>{if(C)n("update",{...a.value}),n("update:visible",!1);else return Tt.error("请填写所有必填项"),!1})};return(C,M)=>{const L=ge("el-input"),T=ge("el-form-item"),E=ge("el-icon"),k=ge("el-upload"),P=ge("el-radio"),D=ge("el-radio-group"),N=ge("el-tag"),B=ge("el-button"),U=ge("el-form"),F=ge("el-dialog");return Me(),Ge(F,{"model-value":t.visible,title:"编辑小说信息",width:"50%","onUpdate:modelValue":M[5]||(M[5]=G=>C.$emit("update:visible",G)),onClose:y},{footer:$(()=>[ze("span",jS,[q(B,{onClick:M[4]||(M[4]=G=>C.$emit("update:visible",!1))},{default:$(()=>[...M[10]||(M[10]=[Te("取消",-1)])]),_:1}),q(B,{type:"primary",onClick:b},{default:$(()=>[...M[11]||(M[11]=[Te("保存修改",-1)])]),_:1})])]),default:$(()=>[a.value?(Me(),Ge(U,{key:0,ref_key:"formRef",ref:i,model:a.value,rules:o,"label-width":"80px"},{default:$(()=>[q(T,{label:"小说标题",prop:"title"},{default:$(()=>[q(L,{modelValue:a.value.title,"onUpdate:modelValue":M[0]||(M[0]=G=>a.value.title=G),placeholder:"请输入小说标题"},null,8,["modelValue"])]),_:1}),q(T,{label:"小说简介",prop:"description"},{default:$(()=>[q(L,{modelValue:a.value.description,"onUpdate:modelValue":M[1]||(M[1]=G=>a.value.description=G),type:"textarea",rows:4,placeholder:"请输入小说简介"},null,8,["modelValue"])]),_:1}),q(T,{label:"小说封面",prop:"cover"},{default:$(()=>[q(k,{class:"cover-uploader",action:"#","show-file-list":!1,"on-change":s,"auto-upload":!1,accept:"image/png, image/jpeg, image/gif"},{default:$(()=>[a.value.cover?(Me(),wt("img",{key:0,src:a.value.cover,class:"cover-image"},null,8,GS)):(Me(),Ge(E,{key:1,class:"cover-uploader-icon"},{default:$(()=>[q($e(Nn))]),_:1}))]),_:1}),M[6]||(M[6]=ze("div",{class:"el-upload__tip"}," 支持 jpg/png/gif 格式，大小不超过 2MB。 ",-1))]),_:1}),q(T,{label:"连载状态",prop:"serializationStatus"},{default:$(()=>[q(D,{modelValue:a.value.serializationStatus,"onUpdate:modelValue":M[2]||(M[2]=G=>a.value.serializationStatus=G)},{default:$(()=>[q(P,{label:"连载中"},{default:$(()=>[...M[7]||(M[7]=[Te("连载中",-1)])]),_:1}),q(P,{label:"已完结"},{default:$(()=>[...M[8]||(M[8]=[Te("已完结",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),q(T,{label:"类型标签",prop:"tags"},{default:$(()=>[ze("div",WS,[(Me(!0),wt(Ri,null,Ni(a.value.tags,G=>(Me(),Ge(N,{key:G,closable:"","disable-transitions":!1,onClose:Y=>c(G),color:_(G),style:{color:"white",margin:"2px"}},{default:$(()=>[Te(ut(G),1)]),_:2},1032,["onClose","color"]))),128)),u.value?(Me(),Ge(L,{key:0,ref_key:"InputRef",ref:p,modelValue:l.value,"onUpdate:modelValue":M[3]||(M[3]=G=>l.value=G),size:"small",onKeyup:xy(v,["enter"]),onBlur:v,style:{width:"100px"}},null,8,["modelValue"])):(Me(),Ge(B,{key:1,size:"small",onClick:h,style:{margin:"2px"}},{default:$(()=>[...M[9]||(M[9]=[Te(" + 新建标签 ",-1)])]),_:1}))])]),_:1})]),_:1},8,["model","rules"])):Et("",!0)]),_:1},8,["model-value"])}}},$S=wr(qS,[["__scopeId","data-v-d0980c99"]]);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var hf=function(t,e){return hf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},hf(t,e)};function _e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");hf(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var YS=(function(){function t(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return t})(),KS=(function(){function t(){this.browser=new YS,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return t})(),Pe=new KS;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(Pe.wxa=!0,Pe.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?Pe.worker=!0:!Pe.hasGlobalWindow||"Deno"in window||typeof navigator<"u"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Node.js")>-1?(Pe.node=!0,Pe.svgSupported=!0):XS(navigator.userAgent,Pe);function XS(t,e){var r=e.browser,n=t.match(/Firefox\/([\d.]+)/),i=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),a=t.match(/Edge?\/([\d.]+)/),o=/micromessenger/i.test(t);n&&(r.firefox=!0,r.version=n[1]),i&&(r.ie=!0,r.version=i[1]),a&&(r.edge=!0,r.version=a[1],r.newEdge=+a[1].split(".")[0]>18),o&&(r.weChat=!0),e.svgSupported=typeof SVGRect<"u",e.touchEventsSupported="ontouchstart"in window&&!r.ie&&!r.edge,e.pointerEventsSupported="onpointerdown"in window&&(r.edge||r.ie&&+r.version>=11);var s=e.domSupported=typeof document<"u";if(s){var l=document.documentElement.style;e.transform3dSupported=(r.ie&&"transition"in l||r.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in l)&&!("OTransition"in l),e.transformSupported=e.transform3dSupported||r.ie&&+r.version>=9}}var Rh=12,ZS="sans-serif",Bn=Rh+"px "+ZS,QS=20,JS=100,eC="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function tC(t){var e={};if(typeof JSON>"u")return e;for(var r=0;r<t.length;r++){var n=String.fromCharCode(r+32),i=(t.charCodeAt(r)-QS)/JS;e[n]=i}return e}var rC=tC(eC),hn={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:(function(){var t,e;return function(r,n){if(!t){var i=hn.createCanvas();t=i&&i.getContext("2d")}if(t)return e!==n&&(e=t.font=n||Bn),t.measureText(r);r=r||"",n=n||Bn;var a=/((?:\d+)?\.?\d*)px/.exec(n),o=a&&+a[1]||Rh,s=0;if(n.indexOf("mono")>=0)s=o*r.length;else for(var l=0;l<r.length;l++){var u=rC[r[l]];s+=u==null?o:u*o}return{width:s}}})(),loadImage:function(t,e,r){var n=new Image;return n.onload=e,n.onerror=r,n.src=t,n}},Ay=Aa(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(t,e){return t["[object "+e+"]"]=!0,t},{}),ky=Aa(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(t,e){return t["[object "+e+"Array]"]=!0,t},{}),$o=Object.prototype.toString,eu=Array.prototype,nC=eu.forEach,iC=eu.filter,Nh=eu.slice,aC=eu.map,Hp=(function(){}).constructor,ds=Hp?Hp.prototype:null,Bh="__proto__",oC=2311;function Dy(){return oC++}function Hh(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];typeof console<"u"&&console.error.apply(console,t)}function je(t){if(t==null||typeof t!="object")return t;var e=t,r=$o.call(t);if(r==="[object Array]"){if(!vo(t)){e=[];for(var n=0,i=t.length;n<i;n++)e[n]=je(t[n])}}else if(ky[r]){if(!vo(t)){var a=t.constructor;if(a.from)e=a.from(t);else{e=new a(t.length);for(var n=0,i=t.length;n<i;n++)e[n]=t[n]}}}else if(!Ay[r]&&!vo(t)&&!Eo(t)){e={};for(var o in t)t.hasOwnProperty(o)&&o!==Bh&&(e[o]=je(t[o]))}return e}function Ze(t,e,r){if(!Ae(e)||!Ae(t))return r?je(e):t;for(var n in e)if(e.hasOwnProperty(n)&&n!==Bh){var i=t[n],a=e[n];Ae(a)&&Ae(i)&&!be(a)&&!be(i)&&!Eo(a)&&!Eo(i)&&!Fp(a)&&!Fp(i)&&!vo(a)&&!vo(i)?Ze(i,a,r):(r||!(n in t))&&(t[n]=je(e[n]))}return t}function pe(t,e){if(Object.assign)Object.assign(t,e);else for(var r in e)e.hasOwnProperty(r)&&r!==Bh&&(t[r]=e[r]);return t}function tt(t,e,r){for(var n=ft(e),i=0,a=n.length;i<a;i++){var o=n[i];t[o]==null&&(t[o]=e[o])}return t}function Ye(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r}return-1}function sC(t,e){var r=t.prototype;function n(){}n.prototype=e.prototype,t.prototype=new n;for(var i in r)r.hasOwnProperty(i)&&(t.prototype[i]=r[i]);t.prototype.constructor=t,t.superClass=e}function Zr(t,e,r){if(t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,Object.getOwnPropertyNames)for(var n=Object.getOwnPropertyNames(e),i=0;i<n.length;i++){var a=n[i];a!=="constructor"&&t[a]==null&&(t[a]=e[a])}else tt(t,e)}function Qt(t){return!t||typeof t=="string"?!1:typeof t.length=="number"}function z(t,e,r){if(t&&e)if(t.forEach&&t.forEach===nC)t.forEach(e,r);else if(t.length===+t.length)for(var n=0,i=t.length;n<i;n++)e.call(r,t[n],n,t);else for(var a in t)t.hasOwnProperty(a)&&e.call(r,t[a],a,t)}function De(t,e,r){if(!t)return[];if(!e)return Fh(t);if(t.map&&t.map===aC)return t.map(e,r);for(var n=[],i=0,a=t.length;i<a;i++)n.push(e.call(r,t[i],i,t));return n}function Aa(t,e,r,n){if(t&&e){for(var i=0,a=t.length;i<a;i++)r=e.call(n,r,t[i],i,t);return r}}function At(t,e,r){if(!t)return[];if(!e)return Fh(t);if(t.filter&&t.filter===iC)return t.filter(e,r);for(var n=[],i=0,a=t.length;i<a;i++)e.call(r,t[i],i,t)&&n.push(t[i]);return n}function lC(t,e,r){if(t&&e){for(var n=0,i=t.length;n<i;n++)if(e.call(r,t[n],n,t))return t[n]}}function ft(t){if(!t)return[];if(Object.keys)return Object.keys(t);var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(r);return e}function uC(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return function(){return t.apply(e,r.concat(Nh.call(arguments)))}}var it=ds&&Ie(ds.bind)?ds.call.bind(ds.bind):uC;function Dt(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return function(){return t.apply(this,e.concat(Nh.call(arguments)))}}function be(t){return Array.isArray?Array.isArray(t):$o.call(t)==="[object Array]"}function Ie(t){return typeof t=="function"}function xe(t){return typeof t=="string"}function df(t){return $o.call(t)==="[object String]"}function ct(t){return typeof t=="number"}function Ae(t){var e=typeof t;return e==="function"||!!t&&e==="object"}function Fp(t){return!!Ay[$o.call(t)]}function Jt(t){return!!ky[$o.call(t)]}function Eo(t){return typeof t=="object"&&typeof t.nodeType=="number"&&typeof t.ownerDocument=="object"}function tu(t){return t.colorStops!=null}function cC(t){return t.image!=null}function Ao(t){return t!==t}function _l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=0,n=t.length;r<n;r++)if(t[r]!=null)return t[r]}function ke(t,e){return t??e}function ya(t,e,r){return t??e??r}function Fh(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return Nh.apply(t,e)}function Vh(t){if(typeof t=="number")return[t,t,t,t];var e=t.length;return e===2?[t[0],t[1],t[0],t[1]]:e===3?[t[0],t[1],t[2],t[1]]:t}function dn(t,e){if(!t)throw new Error(e)}function zr(t){return t==null?null:typeof t.trim=="function"?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var Iy="__ec_primitive__";function pf(t){t[Iy]=!0}function vo(t){return t[Iy]}var fC=(function(){function t(){this.data={}}return t.prototype.delete=function(e){var r=this.has(e);return r&&delete this.data[e],r},t.prototype.has=function(e){return this.data.hasOwnProperty(e)},t.prototype.get=function(e){return this.data[e]},t.prototype.set=function(e,r){return this.data[e]=r,this},t.prototype.keys=function(){return ft(this.data)},t.prototype.forEach=function(e){var r=this.data;for(var n in r)r.hasOwnProperty(n)&&e(r[n],n)},t})(),Oy=typeof Map=="function";function hC(){return Oy?new Map:new fC}var dC=(function(){function t(e){var r=be(e);this.data=hC();var n=this;e instanceof t?e.each(i):e&&z(e,i);function i(a,o){r?n.set(a,o):n.set(o,a)}}return t.prototype.hasKey=function(e){return this.data.has(e)},t.prototype.get=function(e){return this.data.get(e)},t.prototype.set=function(e,r){return this.data.set(e,r),r},t.prototype.each=function(e,r){this.data.forEach(function(n,i){e.call(r,n,i)})},t.prototype.keys=function(){var e=this.data.keys();return Oy?Array.from(e):e},t.prototype.removeKey=function(e){this.data.delete(e)},t})();function He(t){return new dC(t)}function pC(t,e){for(var r=new t.constructor(t.length+e.length),n=0;n<t.length;n++)r[n]=t[n];for(var i=t.length,n=0;n<e.length;n++)r[n+i]=e[n];return r}function ru(t,e){var r;if(Object.create)r=Object.create(t);else{var n=function(){};n.prototype=t,r=new n}return e&&pe(r,e),r}function Py(t){var e=t.style;e.webkitUserSelect="none",e.userSelect="none",e.webkitTapHighlightColor="rgba(0,0,0,0)",e["-webkit-touch-callout"]="none"}function Lr(t,e){return t.hasOwnProperty(e)}function Zt(){}var vC=180/Math.PI;function ka(t,e){return t==null&&(t=0),e==null&&(e=0),[t,e]}function gC(t){return[t[0],t[1]]}function Vp(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t}function mC(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t}function yC(t){return Math.sqrt(_C(t))}function _C(t){return t[0]*t[0]+t[1]*t[1]}function Wu(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t}function bC(t,e){var r=yC(e);return r===0?(t[0]=0,t[1]=0):(t[0]=e[0]/r,t[1]=e[1]/r),t}function vf(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var wC=vf;function SC(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}var _a=SC;function br(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[2]*i+r[4],t[1]=r[1]*n+r[3]*i+r[5],t}function fa(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t}function ha(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t}var $i=(function(){function t(e,r){this.target=e,this.topTarget=r&&r.topTarget}return t})(),CC=(function(){function t(e){this.handler=e,e.on("mousedown",this._dragStart,this),e.on("mousemove",this._drag,this),e.on("mouseup",this._dragEnd,this)}return t.prototype._dragStart=function(e){for(var r=e.target;r&&!r.draggable;)r=r.parent||r.__hostTarget;r&&(this._draggingTarget=r,r.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.handler.dispatchToElement(new $i(r,e),"dragstart",e.event))},t.prototype._drag=function(e){var r=this._draggingTarget;if(r){var n=e.offsetX,i=e.offsetY,a=n-this._x,o=i-this._y;this._x=n,this._y=i,r.drift(a,o,e),this.handler.dispatchToElement(new $i(r,e),"drag",e.event);var s=this.handler.findHover(n,i,r).target,l=this._dropTarget;this._dropTarget=s,r!==s&&(l&&s!==l&&this.handler.dispatchToElement(new $i(l,e),"dragleave",e.event),s&&s!==l&&this.handler.dispatchToElement(new $i(s,e),"dragenter",e.event))}},t.prototype._dragEnd=function(e){var r=this._draggingTarget;r&&(r.dragging=!1),this.handler.dispatchToElement(new $i(r,e),"dragend",e.event),this._dropTarget&&this.handler.dispatchToElement(new $i(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null},t})(),Qr=(function(){function t(e){e&&(this._$eventProcessor=e)}return t.prototype.on=function(e,r,n,i){this._$handlers||(this._$handlers={});var a=this._$handlers;if(typeof r=="function"&&(i=n,n=r,r=null),!n||!e)return this;var o=this._$eventProcessor;r!=null&&o&&o.normalizeQuery&&(r=o.normalizeQuery(r)),a[e]||(a[e]=[]);for(var s=0;s<a[e].length;s++)if(a[e][s].h===n)return this;var l={h:n,query:r,ctx:i||this,callAtLast:n.zrEventfulCallAtLast},u=a[e].length-1,p=a[e][u];return p&&p.callAtLast?a[e].splice(u,0,l):a[e].push(l),this},t.prototype.isSilent=function(e){var r=this._$handlers;return!r||!r[e]||!r[e].length},t.prototype.off=function(e,r){var n=this._$handlers;if(!n)return this;if(!e)return this._$handlers={},this;if(r){if(n[e]){for(var i=[],a=0,o=n[e].length;a<o;a++)n[e][a].h!==r&&i.push(n[e][a]);n[e]=i}n[e]&&n[e].length===0&&delete n[e]}else delete n[e];return this},t.prototype.trigger=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];if(!this._$handlers)return this;var i=this._$handlers[e],a=this._$eventProcessor;if(i)for(var o=r.length,s=i.length,l=0;l<s;l++){var u=i[l];if(!(a&&a.filter&&u.query!=null&&!a.filter(e,u.query)))switch(o){case 0:u.h.call(u.ctx);break;case 1:u.h.call(u.ctx,r[0]);break;case 2:u.h.call(u.ctx,r[0],r[1]);break;default:u.h.apply(u.ctx,r);break}}return a&&a.afterTrigger&&a.afterTrigger(e),this},t.prototype.triggerWithContext=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];if(!this._$handlers)return this;var i=this._$handlers[e],a=this._$eventProcessor;if(i)for(var o=r.length,s=r[o-1],l=i.length,u=0;u<l;u++){var p=i[u];if(!(a&&a.filter&&p.query!=null&&!a.filter(e,p.query)))switch(o){case 0:p.h.call(s);break;case 1:p.h.call(s,r[0]);break;case 2:p.h.call(s,r[0],r[1]);break;default:p.h.apply(s,r.slice(1,o-1));break}}return a&&a.afterTrigger&&a.afterTrigger(e),this},t})(),TC=Math.log(2);function gf(t,e,r,n,i,a){var o=n+"-"+i,s=t.length;if(a.hasOwnProperty(o))return a[o];if(e===1){var l=Math.round(Math.log((1<<s)-1&~i)/TC);return t[r][l]}for(var u=n|1<<r,p=r+1;n&1<<p;)p++;for(var c=0,h=0,v=0;h<s;h++){var m=1<<h;m&i||(c+=(v%2?-1:1)*t[r][h]*gf(t,e-1,p,u,i|m,a),v++)}return a[o]=c,c}function zp(t,e){var r=[[t[0],t[1],1,0,0,0,-e[0]*t[0],-e[0]*t[1]],[0,0,0,t[0],t[1],1,-e[1]*t[0],-e[1]*t[1]],[t[2],t[3],1,0,0,0,-e[2]*t[2],-e[2]*t[3]],[0,0,0,t[2],t[3],1,-e[3]*t[2],-e[3]*t[3]],[t[4],t[5],1,0,0,0,-e[4]*t[4],-e[4]*t[5]],[0,0,0,t[4],t[5],1,-e[5]*t[4],-e[5]*t[5]],[t[6],t[7],1,0,0,0,-e[6]*t[6],-e[6]*t[7]],[0,0,0,t[6],t[7],1,-e[7]*t[6],-e[7]*t[7]]],n={},i=gf(r,8,0,0,0,n);if(i!==0){for(var a=[],o=0;o<8;o++)for(var s=0;s<8;s++)a[s]==null&&(a[s]=0),a[s]+=((o+s)%2?-1:1)*gf(r,7,o===0?1:0,1<<o,1<<s,n)/i*e[o];return function(l,u,p){var c=u*a[6]+p*a[7]+1;l[0]=(u*a[0]+p*a[1]+a[2])/c,l[1]=(u*a[3]+p*a[4]+a[5])/c}}}var bl="___zrEVENTSAVED",ju=[];function xC(t,e,r,n,i){return mf(ju,e,n,i,!0)&&mf(t,r,ju[0],ju[1])}function MC(t,e){t&&r(t),e&&r(e);function r(n){var i=n[bl];i&&(i.clearMarkers&&i.clearMarkers(),delete n[bl])}}function mf(t,e,r,n,i){if(e.getBoundingClientRect&&Pe.domSupported&&!Ry(e)){var a=e[bl]||(e[bl]={}),o=LC(e,a),s=EC(o,a,i);if(s)return s(t,r,n),!0}return!1}function LC(t,e){var r=e.markers;if(r)return r;r=e.markers=[];for(var n=["left","right"],i=["top","bottom"],a=0;a<4;a++){var o=document.createElement("div"),s=o.style,l=a%2,u=(a>>1)%2;s.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",n[l]+":0",i[u]+":0",n[1-l]+":auto",i[1-u]+":auto",""].join("!important;"),t.appendChild(o),r.push(o)}return e.clearMarkers=function(){z(r,function(p){p.parentNode&&p.parentNode.removeChild(p)})},r}function EC(t,e,r){for(var n=r?"invTrans":"trans",i=e[n],a=e.srcCoords,o=[],s=[],l=!0,u=0;u<4;u++){var p=t[u].getBoundingClientRect(),c=2*u,h=p.left,v=p.top;o.push(h,v),l=l&&a&&h===a[c]&&v===a[c+1],s.push(t[u].offsetLeft,t[u].offsetTop)}return l&&i?i:(e.srcCoords=o,e[n]=r?zp(s,o):zp(o,s))}function Ry(t){return t.nodeName.toUpperCase()==="CANVAS"}var AC=/([&<>"'])/g,kC={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function $t(t){return t==null?"":(t+"").replace(AC,function(e,r){return kC[r]})}var DC=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,qu=[],IC=Pe.browser.firefox&&+Pe.browser.version.split(".")[0]<39;function yf(t,e,r,n){return r=r||{},n?Up(t,e,r):IC&&e.layerX!=null&&e.layerX!==e.offsetX?(r.zrX=e.layerX,r.zrY=e.layerY):e.offsetX!=null?(r.zrX=e.offsetX,r.zrY=e.offsetY):Up(t,e,r),r}function Up(t,e,r){if(Pe.domSupported&&t.getBoundingClientRect){var n=e.clientX,i=e.clientY;if(Ry(t)){var a=t.getBoundingClientRect();r.zrX=n-a.left,r.zrY=i-a.top;return}else if(mf(qu,t,n,i)){r.zrX=qu[0],r.zrY=qu[1];return}}r.zrX=r.zrY=0}function zh(t){return t||window.event}function hr(t,e,r){if(e=zh(e),e.zrX!=null)return e;var n=e.type,i=n&&n.indexOf("touch")>=0;if(i){var o=n!=="touchend"?e.targetTouches[0]:e.changedTouches[0];o&&yf(t,o,e,r)}else{yf(t,e,e,r);var a=OC(e);e.zrDelta=a?a/120:-(e.detail||0)/3}var s=e.button;return e.which==null&&s!==void 0&&DC.test(e.type)&&(e.which=s&1?1:s&2?3:s&4?2:0),e}function OC(t){var e=t.wheelDelta;if(e)return e;var r=t.deltaX,n=t.deltaY;if(r==null||n==null)return e;var i=Math.abs(n!==0?n:r),a=n>0?-1:n<0?1:r>0?-1:1;return 3*i*a}function PC(t,e,r,n){t.addEventListener(e,r,n)}function RC(t,e,r,n){t.removeEventListener(e,r,n)}var Ny=function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0},NC=(function(){function t(){this._track=[]}return t.prototype.recognize=function(e,r,n){return this._doTrack(e,r,n),this._recognize(e)},t.prototype.clear=function(){return this._track.length=0,this},t.prototype._doTrack=function(e,r,n){var i=e.touches;if(i){for(var a={points:[],touches:[],target:r,event:e},o=0,s=i.length;o<s;o++){var l=i[o],u=yf(n,l,{});a.points.push([u.zrX,u.zrY]),a.touches.push(l)}this._track.push(a)}},t.prototype._recognize=function(e){for(var r in $u)if($u.hasOwnProperty(r)){var n=$u[r](this._track,e);if(n)return n}},t})();function Gp(t){var e=t[1][0]-t[0][0],r=t[1][1]-t[0][1];return Math.sqrt(e*e+r*r)}function BC(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]}var $u={pinch:function(t,e){var r=t.length;if(r){var n=(t[r-1]||{}).points,i=(t[r-2]||{}).points||n;if(i&&i.length>1&&n&&n.length>1){var a=Gp(n)/Gp(i);!isFinite(a)&&(a=1),e.pinchScale=a;var o=BC(n);return e.pinchX=o[0],e.pinchY=o[1],{type:"pinch",target:t[0].target,event:e}}}}};function fn(){return[1,0,0,1,0,0]}function Uh(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function By(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function go(t,e,r){var n=e[0]*r[0]+e[2]*r[1],i=e[1]*r[0]+e[3]*r[1],a=e[0]*r[2]+e[2]*r[3],o=e[1]*r[2]+e[3]*r[3],s=e[0]*r[4]+e[2]*r[5]+e[4],l=e[1]*r[4]+e[3]*r[5]+e[5];return t[0]=n,t[1]=i,t[2]=a,t[3]=o,t[4]=s,t[5]=l,t}function _f(t,e,r){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+r[0],t[5]=e[5]+r[1],t}function Gh(t,e,r,n){n===void 0&&(n=[0,0]);var i=e[0],a=e[2],o=e[4],s=e[1],l=e[3],u=e[5],p=Math.sin(r),c=Math.cos(r);return t[0]=i*c+s*p,t[1]=-i*p+s*c,t[2]=a*c+l*p,t[3]=-a*p+c*l,t[4]=c*(o-n[0])+p*(u-n[1])+n[0],t[5]=c*(u-n[1])-p*(o-n[0])+n[1],t}function HC(t,e,r){var n=r[0],i=r[1];return t[0]=e[0]*n,t[1]=e[1]*i,t[2]=e[2]*n,t[3]=e[3]*i,t[4]=e[4]*n,t[5]=e[5]*i,t}function Yo(t,e){var r=e[0],n=e[2],i=e[4],a=e[1],o=e[3],s=e[5],l=r*o-a*n;return l?(l=1/l,t[0]=o*l,t[1]=-a*l,t[2]=-n*l,t[3]=r*l,t[4]=(n*s-o*i)*l,t[5]=(a*i-r*s)*l,t):null}var nt=(function(){function t(e,r){this.x=e||0,this.y=r||0}return t.prototype.copy=function(e){return this.x=e.x,this.y=e.y,this},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.set=function(e,r){return this.x=e,this.y=r,this},t.prototype.equal=function(e){return e.x===this.x&&e.y===this.y},t.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this},t.prototype.scale=function(e){this.x*=e,this.y*=e},t.prototype.scaleAndAdd=function(e,r){this.x+=e.x*r,this.y+=e.y*r},t.prototype.sub=function(e){return this.x-=e.x,this.y-=e.y,this},t.prototype.dot=function(e){return this.x*e.x+this.y*e.y},t.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},t.prototype.normalize=function(){var e=this.len();return this.x/=e,this.y/=e,this},t.prototype.distance=function(e){var r=this.x-e.x,n=this.y-e.y;return Math.sqrt(r*r+n*n)},t.prototype.distanceSquare=function(e){var r=this.x-e.x,n=this.y-e.y;return r*r+n*n},t.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},t.prototype.transform=function(e){if(e){var r=this.x,n=this.y;return this.x=e[0]*r+e[2]*n+e[4],this.y=e[1]*r+e[3]*n+e[5],this}},t.prototype.toArray=function(e){return e[0]=this.x,e[1]=this.y,e},t.prototype.fromArray=function(e){this.x=e[0],this.y=e[1]},t.set=function(e,r,n){e.x=r,e.y=n},t.copy=function(e,r){e.x=r.x,e.y=r.y},t.len=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},t.lenSquare=function(e){return e.x*e.x+e.y*e.y},t.dot=function(e,r){return e.x*r.x+e.y*r.y},t.add=function(e,r,n){e.x=r.x+n.x,e.y=r.y+n.y},t.sub=function(e,r,n){e.x=r.x-n.x,e.y=r.y-n.y},t.scale=function(e,r,n){e.x=r.x*n,e.y=r.y*n},t.scaleAndAdd=function(e,r,n,i){e.x=r.x+n.x*i,e.y=r.y+n.y*i},t.lerp=function(e,r,n,i){var a=1-i;e.x=a*r.x+i*n.x,e.y=a*r.y+i*n.y},t})(),wi=Math.min,da=Math.max,bf=Math.abs,Wp=["x","y"],FC=["width","height"],Kn=new nt,Xn=new nt,Zn=new nt,Qn=new nt,nr=Hy(),so=nr.minTv,wf=nr.maxTv,mo=[0,0],Be=(function(){function t(e,r,n,i){t.set(this,e,r,n,i)}return t.set=function(e,r,n,i,a){return i<0&&(r=r+i,i=-i),a<0&&(n=n+a,a=-a),e.x=r,e.y=n,e.width=i,e.height=a,e},t.prototype.union=function(e){var r=wi(e.x,this.x),n=wi(e.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=da(e.x+e.width,this.x+this.width)-r:this.width=e.width,isFinite(this.y)&&isFinite(this.height)?this.height=da(e.y+e.height,this.y+this.height)-n:this.height=e.height,this.x=r,this.y=n},t.prototype.applyTransform=function(e){t.applyTransform(this,this,e)},t.prototype.calculateTransform=function(e){var r=this,n=e.width/r.width,i=e.height/r.height,a=fn();return _f(a,a,[-r.x,-r.y]),HC(a,a,[n,i]),_f(a,a,[e.x,e.y]),a},t.prototype.intersect=function(e,r,n){return t.intersect(this,e,r,n)},t.intersect=function(e,r,n,i){n&&nt.set(n,0,0);var a=i&&i.outIntersectRect||null,o=i&&i.clamp;if(a&&(a.x=a.y=a.width=a.height=NaN),!e||!r)return!1;e instanceof t||(e=t.set(VC,e.x,e.y,e.width,e.height)),r instanceof t||(r=t.set(zC,r.x,r.y,r.width,r.height));var s=!!n;nr.reset(i,s);var l=nr.touchThreshold,u=e.x+l,p=e.x+e.width-l,c=e.y+l,h=e.y+e.height-l,v=r.x+l,m=r.x+r.width-l,_=r.y+l,y=r.y+r.height-l;if(u>p||c>h||v>m||_>y)return!1;var b=!(p<v||m<u||h<_||y<c);return(s||a)&&(mo[0]=1/0,mo[1]=0,jp(u,p,v,m,0,s,a,o),jp(c,h,_,y,1,s,a,o),s&&nt.copy(n,b?nr.useDir?nr.dirMinTv:so:wf)),b},t.contain=function(e,r,n){return r>=e.x&&r<=e.x+e.width&&n>=e.y&&n<=e.y+e.height},t.prototype.contain=function(e,r){return t.contain(this,e,r)},t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copy=function(e){t.copy(this,e)},t.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},t.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},t.prototype.isZero=function(){return this.width===0||this.height===0},t.create=function(e){return new t(e.x,e.y,e.width,e.height)},t.copy=function(e,r){return e.x=r.x,e.y=r.y,e.width=r.width,e.height=r.height,e},t.applyTransform=function(e,r,n){if(!n){e!==r&&t.copy(e,r);return}if(n[1]<1e-5&&n[1]>-1e-5&&n[2]<1e-5&&n[2]>-1e-5){var i=n[0],a=n[3],o=n[4],s=n[5];e.x=r.x*i+o,e.y=r.y*a+s,e.width=r.width*i,e.height=r.height*a,e.width<0&&(e.x+=e.width,e.width=-e.width),e.height<0&&(e.y+=e.height,e.height=-e.height);return}Kn.x=Zn.x=r.x,Kn.y=Qn.y=r.y,Xn.x=Qn.x=r.x+r.width,Xn.y=Zn.y=r.y+r.height,Kn.transform(n),Qn.transform(n),Xn.transform(n),Zn.transform(n),e.x=wi(Kn.x,Xn.x,Zn.x,Qn.x),e.y=wi(Kn.y,Xn.y,Zn.y,Qn.y);var l=da(Kn.x,Xn.x,Zn.x,Qn.x),u=da(Kn.y,Xn.y,Zn.y,Qn.y);e.width=l-e.x,e.height=u-e.y},t})(),VC=new Be(0,0,0,0),zC=new Be(0,0,0,0);function jp(t,e,r,n,i,a,o,s){var l=bf(e-r),u=bf(n-t),p=wi(l,u),c=Wp[i],h=Wp[1-i],v=FC[i];e<r||n<t?l<u?(a&&(wf[c]=-l),s&&(o[c]=e,o[v]=0)):(a&&(wf[c]=u),s&&(o[c]=t,o[v]=0)):(o&&(o[c]=da(t,r),o[v]=wi(e,n)-o[c]),a&&(p<mo[0]||nr.useDir)&&(mo[0]=wi(p,mo[0]),(l<u||!nr.bidirectional)&&(so[c]=l,so[h]=0,nr.useDir&&nr.calcDirMTV()),(l>=u||!nr.bidirectional)&&(so[c]=-u,so[h]=0,nr.useDir&&nr.calcDirMTV())))}function Hy(){var t=0,e=new nt,r=new nt,n={minTv:new nt,maxTv:new nt,useDir:!1,dirMinTv:new nt,touchThreshold:0,bidirectional:!0,negativeSize:!1,reset:function(a,o){n.touchThreshold=0,a&&a.touchThreshold!=null&&(n.touchThreshold=da(0,a.touchThreshold)),n.negativeSize=!1,o&&(n.minTv.set(1/0,1/0),n.maxTv.set(0,0),n.useDir=!1,a&&a.direction!=null&&(n.useDir=!0,n.dirMinTv.copy(n.minTv),r.copy(n.minTv),t=a.direction,n.bidirectional=a.bidirectional==null||!!a.bidirectional,n.bidirectional||e.set(Math.cos(t),Math.sin(t))))},calcDirMTV:function(){var a=n.minTv,o=n.dirMinTv,s=a.y*a.y+a.x*a.x,l=Math.sin(t),u=Math.cos(t),p=l*a.y+u*a.x;if(i(p)){i(a.x)&&i(a.y)&&o.set(0,0);return}if(r.x=s*u/p,r.y=s*l/p,i(r.x)&&i(r.y)){o.set(0,0);return}(n.bidirectional||e.dot(r)>0)&&r.len()<o.len()&&o.copy(r)}};function i(a){return bf(a)<1e-10}return n}var Fy="silent";function UC(t,e,r){return{type:t,event:r,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:r.zrX,offsetY:r.zrY,gestureEvent:r.gestureEvent,pinchX:r.pinchX,pinchY:r.pinchY,pinchScale:r.pinchScale,wheelDelta:r.zrDelta,zrByTouch:r.zrByTouch,which:r.which,stop:GC}}function GC(){Ny(this.event)}var WC=(function(t){_e(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.handler=null,r}return e.prototype.dispose=function(){},e.prototype.setCursor=function(){},e})(Qr),Ua=(function(){function t(e,r){this.x=e,this.y=r}return t})(),jC=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],Yu=new Be(0,0,0,0),Vy=(function(t){_e(e,t);function e(r,n,i,a,o){var s=t.call(this)||this;return s._hovered=new Ua(0,0),s.storage=r,s.painter=n,s.painterRoot=a,s._pointerSize=o,i=i||new WC,s.proxy=null,s.setHandlerProxy(i),s._draggingMgr=new CC(s),s}return e.prototype.setHandlerProxy=function(r){this.proxy&&this.proxy.dispose(),r&&(z(jC,function(n){r.on&&r.on(n,this[n],this)},this),r.handler=this),this.proxy=r},e.prototype.mousemove=function(r){var n=r.zrX,i=r.zrY,a=zy(this,n,i),o=this._hovered,s=o.target;s&&!s.__zr&&(o=this.findHover(o.x,o.y),s=o.target);var l=this._hovered=a?new Ua(n,i):this.findHover(n,i),u=l.target,p=this.proxy;p.setCursor&&p.setCursor(u?u.cursor:"default"),s&&u!==s&&this.dispatchToElement(o,"mouseout",r),this.dispatchToElement(l,"mousemove",r),u&&u!==s&&this.dispatchToElement(l,"mouseover",r)},e.prototype.mouseout=function(r){var n=r.zrEventControl;n!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",r),n!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:r})},e.prototype.resize=function(){this._hovered=new Ua(0,0)},e.prototype.dispatch=function(r,n){var i=this[r];i&&i.call(this,n)},e.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},e.prototype.setCursorStyle=function(r){var n=this.proxy;n.setCursor&&n.setCursor(r)},e.prototype.dispatchToElement=function(r,n,i){r=r||{};var a=r.target;if(!(a&&a.silent)){for(var o="on"+n,s=UC(n,r,i);a&&(a[o]&&(s.cancelBubble=!!a[o].call(a,s)),a.trigger(n,s),a=a.__hostTarget?a.__hostTarget:a.parent,!s.cancelBubble););s.cancelBubble||(this.trigger(n,s),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(l){typeof l[o]=="function"&&l[o].call(l,s),l.trigger&&l.trigger(n,s)}))}},e.prototype.findHover=function(r,n,i){var a=this.storage.getDisplayList(),o=new Ua(r,n);if(qp(a,o,r,n,i),this._pointerSize&&!o.target){for(var s=[],l=this._pointerSize,u=l/2,p=new Be(r-u,n-u,l,l),c=a.length-1;c>=0;c--){var h=a[c];h!==i&&!h.ignore&&!h.ignoreCoarsePointer&&(!h.parent||!h.parent.ignoreCoarsePointer)&&(Yu.copy(h.getBoundingRect()),h.transform&&Yu.applyTransform(h.transform),Yu.intersect(p)&&s.push(h))}if(s.length)for(var v=4,m=Math.PI/12,_=Math.PI*2,y=0;y<u;y+=v)for(var b=0;b<_;b+=m){var C=r+y*Math.cos(b),M=n+y*Math.sin(b);if(qp(s,o,C,M,i),o.target)return o}}return o},e.prototype.processGesture=function(r,n){this._gestureMgr||(this._gestureMgr=new NC);var i=this._gestureMgr;n==="start"&&i.clear();var a=i.recognize(r,this.findHover(r.zrX,r.zrY,null).target,this.proxy.dom);if(n==="end"&&i.clear(),a){var o=a.type;r.gestureEvent=o;var s=new Ua;s.target=a.target,this.dispatchToElement(s,o,a.event)}},e})(Qr);z(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){Vy.prototype[t]=function(e){var r=e.zrX,n=e.zrY,i=zy(this,r,n),a,o;if((t!=="mouseup"||!i)&&(a=this.findHover(r,n),o=a.target),t==="mousedown")this._downEl=o,this._downPoint=[e.zrX,e.zrY],this._upEl=o;else if(t==="mouseup")this._upEl=o;else if(t==="click"){if(this._downEl!==this._upEl||!this._downPoint||wC(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(a,t,e)}});function qC(t,e,r){if(t[t.rectHover?"rectContain":"contain"](e,r)){for(var n=t,i=void 0,a=!1;n;){if(n.ignoreClip&&(a=!0),!a){var o=n.getClipPath();if(o&&!o.contain(e,r))return!1}n.silent&&(i=!0);var s=n.__hostTarget;n=s?n.ignoreHostSilent?null:s:n.parent}return i?Fy:!0}return!1}function qp(t,e,r,n,i){for(var a=t.length-1;a>=0;a--){var o=t[a],s=void 0;if(o!==i&&!o.ignore&&(s=qC(o,r,n))&&(!e.topTarget&&(e.topTarget=o),s!==Fy)){e.target=o;break}}}function zy(t,e,r){var n=t.painter;return e<0||e>n.getWidth()||r<0||r>n.getHeight()}var Uy=32,Ga=7;function $C(t){for(var e=0;t>=Uy;)e|=t&1,t>>=1;return t+e}function $p(t,e,r,n){var i=e+1;if(i===r)return 1;if(n(t[i++],t[e])<0){for(;i<r&&n(t[i],t[i-1])<0;)i++;YC(t,e,i)}else for(;i<r&&n(t[i],t[i-1])>=0;)i++;return i-e}function YC(t,e,r){for(r--;e<r;){var n=t[e];t[e++]=t[r],t[r--]=n}}function Yp(t,e,r,n,i){for(n===e&&n++;n<r;n++){for(var a=t[n],o=e,s=n,l;o<s;)l=o+s>>>1,i(a,t[l])<0?s=l:o=l+1;var u=n-o;switch(u){case 3:t[o+3]=t[o+2];case 2:t[o+2]=t[o+1];case 1:t[o+1]=t[o];break;default:for(;u>0;)t[o+u]=t[o+u-1],u--}t[o]=a}}function Ku(t,e,r,n,i,a){var o=0,s=0,l=1;if(a(t,e[r+i])>0){for(s=n-i;l<s&&a(t,e[r+i+l])>0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s),o+=i,l+=i}else{for(s=i+1;l<s&&a(t,e[r+i-l])<=0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s);var u=o;o=i-l,l=i-u}for(o++;o<l;){var p=o+(l-o>>>1);a(t,e[r+p])>0?o=p+1:l=p}return l}function Xu(t,e,r,n,i,a){var o=0,s=0,l=1;if(a(t,e[r+i])<0){for(s=i+1;l<s&&a(t,e[r+i-l])<0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s);var u=o;o=i-l,l=i-u}else{for(s=n-i;l<s&&a(t,e[r+i+l])>=0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s),o+=i,l+=i}for(o++;o<l;){var p=o+(l-o>>>1);a(t,e[r+p])<0?l=p:o=p+1}return l}function KC(t,e){var r=Ga,n,i,a=0,o=[];n=[],i=[];function s(v,m){n[a]=v,i[a]=m,a+=1}function l(){for(;a>1;){var v=a-2;if(v>=1&&i[v-1]<=i[v]+i[v+1]||v>=2&&i[v-2]<=i[v]+i[v-1])i[v-1]<i[v+1]&&v--;else if(i[v]>i[v+1])break;p(v)}}function u(){for(;a>1;){var v=a-2;v>0&&i[v-1]<i[v+1]&&v--,p(v)}}function p(v){var m=n[v],_=i[v],y=n[v+1],b=i[v+1];i[v]=_+b,v===a-3&&(n[v+1]=n[v+2],i[v+1]=i[v+2]),a--;var C=Xu(t[y],t,m,_,0,e);m+=C,_-=C,_!==0&&(b=Ku(t[m+_-1],t,y,b,b-1,e),b!==0&&(_<=b?c(m,_,y,b):h(m,_,y,b)))}function c(v,m,_,y){var b=0;for(b=0;b<m;b++)o[b]=t[v+b];var C=0,M=_,L=v;if(t[L++]=t[M++],--y===0){for(b=0;b<m;b++)t[L+b]=o[C+b];return}if(m===1){for(b=0;b<y;b++)t[L+b]=t[M+b];t[L+y]=o[C];return}for(var T=r,E,k,P;;){E=0,k=0,P=!1;do if(e(t[M],o[C])<0){if(t[L++]=t[M++],k++,E=0,--y===0){P=!0;break}}else if(t[L++]=o[C++],E++,k=0,--m===1){P=!0;break}while((E|k)<T);if(P)break;do{if(E=Xu(t[M],o,C,m,0,e),E!==0){for(b=0;b<E;b++)t[L+b]=o[C+b];if(L+=E,C+=E,m-=E,m<=1){P=!0;break}}if(t[L++]=t[M++],--y===0){P=!0;break}if(k=Ku(o[C],t,M,y,0,e),k!==0){for(b=0;b<k;b++)t[L+b]=t[M+b];if(L+=k,M+=k,y-=k,y===0){P=!0;break}}if(t[L++]=o[C++],--m===1){P=!0;break}T--}while(E>=Ga||k>=Ga);if(P)break;T<0&&(T=0),T+=2}if(r=T,r<1&&(r=1),m===1){for(b=0;b<y;b++)t[L+b]=t[M+b];t[L+y]=o[C]}else{if(m===0)throw new Error;for(b=0;b<m;b++)t[L+b]=o[C+b]}}function h(v,m,_,y){var b=0;for(b=0;b<y;b++)o[b]=t[_+b];var C=v+m-1,M=y-1,L=_+y-1,T=0,E=0;if(t[L--]=t[C--],--m===0){for(T=L-(y-1),b=0;b<y;b++)t[T+b]=o[b];return}if(y===1){for(L-=m,C-=m,E=L+1,T=C+1,b=m-1;b>=0;b--)t[E+b]=t[T+b];t[L]=o[M];return}for(var k=r;;){var P=0,D=0,N=!1;do if(e(o[M],t[C])<0){if(t[L--]=t[C--],P++,D=0,--m===0){N=!0;break}}else if(t[L--]=o[M--],D++,P=0,--y===1){N=!0;break}while((P|D)<k);if(N)break;do{if(P=m-Xu(o[M],t,v,m,m-1,e),P!==0){for(L-=P,C-=P,m-=P,E=L+1,T=C+1,b=P-1;b>=0;b--)t[E+b]=t[T+b];if(m===0){N=!0;break}}if(t[L--]=o[M--],--y===1){N=!0;break}if(D=y-Ku(t[C],o,0,y,y-1,e),D!==0){for(L-=D,M-=D,y-=D,E=L+1,T=M+1,b=0;b<D;b++)t[E+b]=o[T+b];if(y<=1){N=!0;break}}if(t[L--]=t[C--],--m===0){N=!0;break}k--}while(P>=Ga||D>=Ga);if(N)break;k<0&&(k=0),k+=2}if(r=k,r<1&&(r=1),y===1){for(L-=m,C-=m,E=L+1,T=C+1,b=m-1;b>=0;b--)t[E+b]=t[T+b];t[L]=o[M]}else{if(y===0)throw new Error;for(T=L-(y-1),b=0;b<y;b++)t[T+b]=o[b]}}return{mergeRuns:l,forceMergeRuns:u,pushRun:s}}function nl(t,e,r,n){r||(r=0),n||(n=t.length);var i=n-r;if(!(i<2)){var a=0;if(i<Uy){a=$p(t,r,n,e),Yp(t,r,n,r+a,e);return}var o=KC(t,e),s=$C(i);do{if(a=$p(t,r,n,e),a<s){var l=i;l>s&&(l=s),Yp(t,r,r+l,r+a,e),a=l}o.pushRun(r,a),o.mergeRuns(),i-=a,r+=a}while(i!==0);o.forceMergeRuns()}}var ir=1,lo=2,ca=4,Kp=!1;function Zu(){Kp||(Kp=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function Xp(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}var XC=(function(){function t(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=Xp}return t.prototype.traverse=function(e,r){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(e,r)},t.prototype.getDisplayList=function(e,r){r=r||!1;var n=this._displayList;return(e||!n.length)&&this.updateDisplayList(r),n},t.prototype.updateDisplayList=function(e){this._displayListLen=0;for(var r=this._roots,n=this._displayList,i=0,a=r.length;i<a;i++)this._updateAndAddDisplayable(r[i],null,e);n.length=this._displayListLen,nl(n,Xp)},t.prototype._updateAndAddDisplayable=function(e,r,n){if(!(e.ignore&&!n)){e.beforeUpdate(),e.update(),e.afterUpdate();var i=e.getClipPath(),a=r&&r.length,o=0,s=e.__clipPaths;if(!e.ignoreClip&&(a||i)){if(s||(s=e.__clipPaths=[]),a)for(var l=0;l<r.length;l++)s[o++]=r[l];for(var u=i,p=e;u;)u.parent=p,u.updateTransform(),s[o++]=u,p=u,u=u.getClipPath()}if(s&&(s.length=o),e.childrenRef){for(var c=e.childrenRef(),h=0;h<c.length;h++){var v=c[h];e.__dirty&&(v.__dirty|=ir),this._updateAndAddDisplayable(v,s,n)}e.__dirty=0}else{var m=e;isNaN(m.z)&&(Zu(),m.z=0),isNaN(m.z2)&&(Zu(),m.z2=0),isNaN(m.zlevel)&&(Zu(),m.zlevel=0),this._displayList[this._displayListLen++]=m}var _=e.getDecalElement&&e.getDecalElement();_&&this._updateAndAddDisplayable(_,s,n);var y=e.getTextGuideLine();y&&this._updateAndAddDisplayable(y,s,n);var b=e.getTextContent();b&&this._updateAndAddDisplayable(b,s,n)}},t.prototype.addRoot=function(e){e.__zr&&e.__zr.storage===this||this._roots.push(e)},t.prototype.delRoot=function(e){if(e instanceof Array){for(var r=0,n=e.length;r<n;r++)this.delRoot(e[r]);return}var i=Ye(this._roots,e);i>=0&&this._roots.splice(i,1)},t.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},t.prototype.getRoots=function(){return this._roots},t.prototype.dispose=function(){this._displayList=null,this._roots=null},t})(),wl;wl=Pe.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){return setTimeout(t,16)};var yo={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return .5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return t===0?0:Math.pow(1024,t-1)},exponentialOut:function(t){return t===1?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return t===0?0:t===1?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,r=.1,n=.4;return t===0?0:t===1?1:(!r||r<1?(r=1,e=n/4):e=n*Math.asin(1/r)/(2*Math.PI),-(r*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)))},elasticOut:function(t){var e,r=.1,n=.4;return t===0?0:t===1?1:(!r||r<1?(r=1,e=n/4):e=n*Math.asin(1/r)/(2*Math.PI),r*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/n)+1)},elasticInOut:function(t){var e,r=.1,n=.4;return t===0?0:t===1?1:(!r||r<1?(r=1,e=n/4):e=n*Math.asin(1/r)/(2*Math.PI),(t*=2)<1?-.5*(r*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)):r*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-yo.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?yo.bounceIn(t*2)*.5:yo.bounceOut(t*2-1)*.5+.5}},ps=Math.pow,In=Math.sqrt,Sl=1e-8,Gy=1e-4,Zp=In(3),vs=1/3,Fr=ka(),vr=ka(),ba=ka();function kn(t){return t>-Sl&&t<Sl}function Wy(t){return t>Sl||t<-Sl}function Ot(t,e,r,n,i){var a=1-i;return a*a*(a*t+3*i*e)+i*i*(i*n+3*a*r)}function Qp(t,e,r,n,i){var a=1-i;return 3*(((e-t)*a+2*(r-e)*i)*a+(n-r)*i*i)}function Cl(t,e,r,n,i,a){var o=n+3*(e-r)-t,s=3*(r-e*2+t),l=3*(e-t),u=t-i,p=s*s-3*o*l,c=s*l-9*o*u,h=l*l-3*s*u,v=0;if(kn(p)&&kn(c))if(kn(s))a[0]=0;else{var m=-l/s;m>=0&&m<=1&&(a[v++]=m)}else{var _=c*c-4*p*h;if(kn(_)){var y=c/p,m=-s/o+y,b=-y/2;m>=0&&m<=1&&(a[v++]=m),b>=0&&b<=1&&(a[v++]=b)}else if(_>0){var C=In(_),M=p*s+1.5*o*(-c+C),L=p*s+1.5*o*(-c-C);M<0?M=-ps(-M,vs):M=ps(M,vs),L<0?L=-ps(-L,vs):L=ps(L,vs);var m=(-s-(M+L))/(3*o);m>=0&&m<=1&&(a[v++]=m)}else{var T=(2*p*s-3*o*c)/(2*In(p*p*p)),E=Math.acos(T)/3,k=In(p),P=Math.cos(E),m=(-s-2*k*P)/(3*o),b=(-s+k*(P+Zp*Math.sin(E)))/(3*o),D=(-s+k*(P-Zp*Math.sin(E)))/(3*o);m>=0&&m<=1&&(a[v++]=m),b>=0&&b<=1&&(a[v++]=b),D>=0&&D<=1&&(a[v++]=D)}}return v}function jy(t,e,r,n,i){var a=6*r-12*e+6*t,o=9*e+3*n-3*t-9*r,s=3*e-3*t,l=0;if(kn(o)){if(Wy(a)){var u=-s/a;u>=0&&u<=1&&(i[l++]=u)}}else{var p=a*a-4*o*s;if(kn(p))i[0]=-a/(2*o);else if(p>0){var c=In(p),u=(-a+c)/(2*o),h=(-a-c)/(2*o);u>=0&&u<=1&&(i[l++]=u),h>=0&&h<=1&&(i[l++]=h)}}return l}function Tl(t,e,r,n,i,a){var o=(e-t)*i+t,s=(r-e)*i+e,l=(n-r)*i+r,u=(s-o)*i+o,p=(l-s)*i+s,c=(p-u)*i+u;a[0]=t,a[1]=o,a[2]=u,a[3]=c,a[4]=c,a[5]=p,a[6]=l,a[7]=n}function ZC(t,e,r,n,i,a,o,s,l,u,p){var c,h=.005,v=1/0,m,_,y,b;Fr[0]=l,Fr[1]=u;for(var C=0;C<1;C+=.05)vr[0]=Ot(t,r,i,o,C),vr[1]=Ot(e,n,a,s,C),y=_a(Fr,vr),y<v&&(c=C,v=y);v=1/0;for(var M=0;M<32&&!(h<Gy);M++)m=c-h,_=c+h,vr[0]=Ot(t,r,i,o,m),vr[1]=Ot(e,n,a,s,m),y=_a(vr,Fr),m>=0&&y<v?(c=m,v=y):(ba[0]=Ot(t,r,i,o,_),ba[1]=Ot(e,n,a,s,_),b=_a(ba,Fr),_<=1&&b<v?(c=_,v=b):h*=.5);return In(v)}function QC(t,e,r,n,i,a,o,s,l){for(var u=t,p=e,c=0,h=1/l,v=1;v<=l;v++){var m=v*h,_=Ot(t,r,i,o,m),y=Ot(e,n,a,s,m),b=_-u,C=y-p;c+=Math.sqrt(b*b+C*C),u=_,p=y}return c}function Yt(t,e,r,n){var i=1-n;return i*(i*t+2*n*e)+n*n*r}function Jp(t,e,r,n){return 2*((1-n)*(e-t)+n*(r-e))}function JC(t,e,r,n,i){var a=t-2*e+r,o=2*(e-t),s=t-n,l=0;if(kn(a)){if(Wy(o)){var u=-s/o;u>=0&&u<=1&&(i[l++]=u)}}else{var p=o*o-4*a*s;if(kn(p)){var u=-o/(2*a);u>=0&&u<=1&&(i[l++]=u)}else if(p>0){var c=In(p),u=(-o+c)/(2*a),h=(-o-c)/(2*a);u>=0&&u<=1&&(i[l++]=u),h>=0&&h<=1&&(i[l++]=h)}}return l}function qy(t,e,r){var n=t+r-2*e;return n===0?.5:(t-e)/n}function xl(t,e,r,n,i){var a=(e-t)*n+t,o=(r-e)*n+e,s=(o-a)*n+a;i[0]=t,i[1]=a,i[2]=s,i[3]=s,i[4]=o,i[5]=r}function eT(t,e,r,n,i,a,o,s,l){var u,p=.005,c=1/0;Fr[0]=o,Fr[1]=s;for(var h=0;h<1;h+=.05){vr[0]=Yt(t,r,i,h),vr[1]=Yt(e,n,a,h);var v=_a(Fr,vr);v<c&&(u=h,c=v)}c=1/0;for(var m=0;m<32&&!(p<Gy);m++){var _=u-p,y=u+p;vr[0]=Yt(t,r,i,_),vr[1]=Yt(e,n,a,_);var v=_a(vr,Fr);if(_>=0&&v<c)u=_,c=v;else{ba[0]=Yt(t,r,i,y),ba[1]=Yt(e,n,a,y);var b=_a(ba,Fr);y<=1&&b<c?(u=y,c=b):p*=.5}}return In(c)}function tT(t,e,r,n,i,a,o){for(var s=t,l=e,u=0,p=1/o,c=1;c<=o;c++){var h=c*p,v=Yt(t,r,i,h),m=Yt(e,n,a,h),_=v-s,y=m-l;u+=Math.sqrt(_*_+y*y),s=v,l=m}return u}var rT=/cubic-bezier\(([0-9,\.e ]+)\)/;function $y(t){var e=t&&rT.exec(t);if(e){var r=e[1].split(","),n=+zr(r[0]),i=+zr(r[1]),a=+zr(r[2]),o=+zr(r[3]);if(isNaN(n+i+a+o))return;var s=[];return function(l){return l<=0?0:l>=1?1:Cl(0,n,a,1,l,s)&&Ot(0,i,o,1,s[0])}}}var nT=(function(){function t(e){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=e.life||1e3,this._delay=e.delay||0,this.loop=e.loop||!1,this.onframe=e.onframe||Zt,this.ondestroy=e.ondestroy||Zt,this.onrestart=e.onrestart||Zt,e.easing&&this.setEasing(e.easing)}return t.prototype.step=function(e,r){if(this._inited||(this._startTime=e+this._delay,this._inited=!0),this._paused){this._pausedTime+=r;return}var n=this._life,i=e-this._startTime-this._pausedTime,a=i/n;a<0&&(a=0),a=Math.min(a,1);var o=this.easingFunc,s=o?o(a):a;if(this.onframe(s),a===1)if(this.loop){var l=i%n;this._startTime=e-l,this._pausedTime=0,this.onrestart()}else return!0;return!1},t.prototype.pause=function(){this._paused=!0},t.prototype.resume=function(){this._paused=!1},t.prototype.setEasing=function(e){this.easing=e,this.easingFunc=Ie(e)?e:yo[e]||$y(e)},t})(),Yy=(function(){function t(e){this.value=e}return t})(),iT=(function(){function t(){this._len=0}return t.prototype.insert=function(e){var r=new Yy(e);return this.insertEntry(r),r},t.prototype.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},t.prototype.remove=function(e){var r=e.prev,n=e.next;r?r.next=n:this.head=n,n?n.prev=r:this.tail=r,e.next=e.prev=null,this._len--},t.prototype.len=function(){return this._len},t.prototype.clear=function(){this.head=this.tail=null,this._len=0},t})(),Sa=(function(){function t(e){this._list=new iT,this._maxSize=10,this._map={},this._maxSize=e}return t.prototype.put=function(e,r){var n=this._list,i=this._map,a=null;if(i[e]==null){var o=n.len(),s=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var l=n.head;n.remove(l),delete i[l.key],a=l.value,this._lastRemovedEntry=l}s?s.value=r:s=new Yy(r),s.key=e,n.insertEntry(s),i[e]=s}return a},t.prototype.get=function(e){var r=this._map[e],n=this._list;if(r!=null)return r!==n.tail&&(n.remove(r),n.insertEntry(r)),r.value},t.prototype.clear=function(){this._list.clear(),this._map={}},t.prototype.len=function(){return this._list.len()},t})(),ev={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function On(t){return t=Math.round(t),t<0?0:t>255?255:t}function Sf(t){return t<0?0:t>1?1:t}function Qu(t){var e=t;return e.length&&e.charAt(e.length-1)==="%"?On(parseFloat(e)/100*255):On(parseInt(e,10))}function xi(t){var e=t;return e.length&&e.charAt(e.length-1)==="%"?Sf(parseFloat(e)/100):Sf(parseFloat(e))}function Ju(t,e,r){return r<0?r+=1:r>1&&(r-=1),r*6<1?t+(e-t)*r*6:r*2<1?e:r*3<2?t+(e-t)*(2/3-r)*6:t}function gs(t,e,r){return t+(e-t)*r}function fr(t,e,r,n,i){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t}function Cf(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}var Ky=new Sa(20),ms=null;function Yi(t,e){ms&&Cf(ms,e),ms=Ky.put(t,ms||e.slice())}function Wr(t,e){if(t){e=e||[];var r=Ky.get(t);if(r)return Cf(e,r);t=t+"";var n=t.replace(/ /g,"").toLowerCase();if(n in ev)return Cf(e,ev[n]),Yi(t,e),e;var i=n.length;if(n.charAt(0)==="#"){if(i===4||i===5){var a=parseInt(n.slice(1,4),16);if(!(a>=0&&a<=4095)){fr(e,0,0,0,1);return}return fr(e,(a&3840)>>4|(a&3840)>>8,a&240|(a&240)>>4,a&15|(a&15)<<4,i===5?parseInt(n.slice(4),16)/15:1),Yi(t,e),e}else if(i===7||i===9){var a=parseInt(n.slice(1,7),16);if(!(a>=0&&a<=16777215)){fr(e,0,0,0,1);return}return fr(e,(a&16711680)>>16,(a&65280)>>8,a&255,i===9?parseInt(n.slice(7),16)/255:1),Yi(t,e),e}return}var o=n.indexOf("("),s=n.indexOf(")");if(o!==-1&&s+1===i){var l=n.substr(0,o),u=n.substr(o+1,s-(o+1)).split(","),p=1;switch(l){case"rgba":if(u.length!==4)return u.length===3?fr(e,+u[0],+u[1],+u[2],1):fr(e,0,0,0,1);p=xi(u.pop());case"rgb":if(u.length>=3)return fr(e,Qu(u[0]),Qu(u[1]),Qu(u[2]),u.length===3?p:xi(u[3])),Yi(t,e),e;fr(e,0,0,0,1);return;case"hsla":if(u.length!==4){fr(e,0,0,0,1);return}return u[3]=xi(u[3]),Tf(u,e),Yi(t,e),e;case"hsl":if(u.length!==3){fr(e,0,0,0,1);return}return Tf(u,e),Yi(t,e),e;default:return}}fr(e,0,0,0,1)}}function Tf(t,e){var r=(parseFloat(t[0])%360+360)%360/360,n=xi(t[1]),i=xi(t[2]),a=i<=.5?i*(n+1):i+n-i*n,o=i*2-a;return e=e||[],fr(e,On(Ju(o,a,r+1/3)*255),On(Ju(o,a,r)*255),On(Ju(o,a,r-1/3)*255),1),t.length===4&&(e[3]=t[3]),e}function aT(t){if(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.min(e,r,n),a=Math.max(e,r,n),o=a-i,s=(a+i)/2,l,u;if(o===0)l=0,u=0;else{s<.5?u=o/(a+i):u=o/(2-a-i);var p=((a-e)/6+o/2)/o,c=((a-r)/6+o/2)/o,h=((a-n)/6+o/2)/o;e===a?l=h-c:r===a?l=1/3+p-h:n===a&&(l=2/3+c-p),l<0&&(l+=1),l>1&&(l-=1)}var v=[l*360,u,s];return t[3]!=null&&v.push(t[3]),v}}function tv(t,e){var r=Wr(t);if(r){for(var n=0;n<3;n++)r[n]=r[n]*(1-e)|0,r[n]>255?r[n]=255:r[n]<0&&(r[n]=0);return Ko(r,r.length===4?"rgba":"rgb")}}function oT(t,e,r){if(!(!(e&&e.length)||!(t>=0&&t<=1))){var n=t*(e.length-1),i=Math.floor(n),a=Math.ceil(n),o=Wr(e[i]),s=Wr(e[a]),l=n-i,u=Ko([On(gs(o[0],s[0],l)),On(gs(o[1],s[1],l)),On(gs(o[2],s[2],l)),Sf(gs(o[3],s[3],l))],"rgba");return r?{color:u,leftIndex:i,rightIndex:a,value:n}:u}}function xf(t,e,r,n){var i=Wr(t);if(t)return i=aT(i),r!=null&&(i[1]=xi(Ie(r)?r(i[1]):r)),n!=null&&(i[2]=xi(Ie(n)?n(i[2]):n)),Ko(Tf(i),"rgba")}function Ko(t,e){if(!(!t||!t.length)){var r=t[0]+","+t[1]+","+t[2];return(e==="rgba"||e==="hsva"||e==="hsla")&&(r+=","+t[3]),e+"("+r+")"}}function Ml(t,e){var r=Wr(t);return r?(.299*r[0]+.587*r[1]+.114*r[2])*r[3]/255+(1-r[3])*e:0}var rv=new Sa(100);function nv(t){if(xe(t)){var e=rv.get(t);return e||(e=tv(t,-.1),rv.put(t,e)),e}else if(tu(t)){var r=pe({},t);return r.colorStops=De(t.colorStops,function(n){return{offset:n.offset,color:tv(n.color,-.1)}}),r}return t}function sT(t){return t.type==="linear"}function lT(t){return t.type==="radial"}(function(){return Pe.hasGlobalWindow&&Ie(window.btoa)?function(t){return window.btoa(unescape(encodeURIComponent(t)))}:typeof Buffer<"u"?function(t){return Buffer.from(t).toString("base64")}:function(t){return null}})();var Mf=Array.prototype.slice;function sn(t,e,r){return(e-t)*r+t}function ec(t,e,r,n){for(var i=e.length,a=0;a<i;a++)t[a]=sn(e[a],r[a],n);return t}function uT(t,e,r,n){for(var i=e.length,a=i&&e[0].length,o=0;o<i;o++){t[o]||(t[o]=[]);for(var s=0;s<a;s++)t[o][s]=sn(e[o][s],r[o][s],n)}return t}function ys(t,e,r,n){for(var i=e.length,a=0;a<i;a++)t[a]=e[a]+r[a]*n;return t}function iv(t,e,r,n){for(var i=e.length,a=i&&e[0].length,o=0;o<i;o++){t[o]||(t[o]=[]);for(var s=0;s<a;s++)t[o][s]=e[o][s]+r[o][s]*n}return t}function cT(t,e){for(var r=t.length,n=e.length,i=r>n?e:t,a=Math.min(r,n),o=i[a-1]||{color:[0,0,0,0],offset:0},s=a;s<Math.max(r,n);s++)i.push({offset:o.offset,color:o.color.slice()})}function fT(t,e,r){var n=t,i=e;if(!(!n.push||!i.push)){var a=n.length,o=i.length;if(a!==o){var s=a>o;if(s)n.length=o;else for(var l=a;l<o;l++)n.push(r===1?i[l]:Mf.call(i[l]))}for(var u=n[0]&&n[0].length,l=0;l<n.length;l++)if(r===1)isNaN(n[l])&&(n[l]=i[l]);else for(var p=0;p<u;p++)isNaN(n[l][p])&&(n[l][p]=i[l][p])}}function il(t){if(Qt(t)){var e=t.length;if(Qt(t[0])){for(var r=[],n=0;n<e;n++)r.push(Mf.call(t[n]));return r}return Mf.call(t)}return t}function al(t){return t[0]=Math.floor(t[0])||0,t[1]=Math.floor(t[1])||0,t[2]=Math.floor(t[2])||0,t[3]=t[3]==null?1:t[3],"rgba("+t.join(",")+")"}function hT(t){return Qt(t&&t[0])?2:1}var _s=0,ol=1,Xy=2,uo=3,Lf=4,Ef=5,av=6;function ov(t){return t===Lf||t===Ef}function bs(t){return t===ol||t===Xy}var Wa=[0,0,0,0],dT=(function(){function t(e){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=e}return t.prototype.isFinished=function(){return this._finished},t.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},t.prototype.needsAnimate=function(){return this.keyframes.length>=1},t.prototype.getAdditiveTrack=function(){return this._additiveTrack},t.prototype.addKeyframe=function(e,r,n){this._needsSort=!0;var i=this.keyframes,a=i.length,o=!1,s=av,l=r;if(Qt(r)){var u=hT(r);s=u,(u===1&&!ct(r[0])||u===2&&!ct(r[0][0]))&&(o=!0)}else if(ct(r)&&!Ao(r))s=_s;else if(xe(r))if(!isNaN(+r))s=_s;else{var p=Wr(r);p&&(l=p,s=uo)}else if(tu(r)){var c=pe({},l);c.colorStops=De(r.colorStops,function(v){return{offset:v.offset,color:Wr(v.color)}}),sT(r)?s=Lf:lT(r)&&(s=Ef),l=c}a===0?this.valType=s:(s!==this.valType||s===av)&&(o=!0),this.discrete=this.discrete||o;var h={time:e,value:l,rawValue:r,percent:0};return n&&(h.easing=n,h.easingFunc=Ie(n)?n:yo[n]||$y(n)),i.push(h),h},t.prototype.prepare=function(e,r){var n=this.keyframes;this._needsSort&&n.sort(function(_,y){return _.time-y.time});for(var i=this.valType,a=n.length,o=n[a-1],s=this.discrete,l=bs(i),u=ov(i),p=0;p<a;p++){var c=n[p],h=c.value,v=o.value;c.percent=c.time/e,s||(l&&p!==a-1?fT(h,v,i):u&&cT(h.colorStops,v.colorStops))}if(!s&&i!==Ef&&r&&this.needsAnimate()&&r.needsAnimate()&&i===r.valType&&!r._finished){this._additiveTrack=r;for(var m=n[0].value,p=0;p<a;p++)i===_s?n[p].additiveValue=n[p].value-m:i===uo?n[p].additiveValue=ys([],n[p].value,m,-1):bs(i)&&(n[p].additiveValue=i===ol?ys([],n[p].value,m,-1):iv([],n[p].value,m,-1))}},t.prototype.step=function(e,r){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var n=this._additiveTrack!=null,i=n?"additiveValue":"value",a=this.valType,o=this.keyframes,s=o.length,l=this.propName,u=a===uo,p,c=this._lastFr,h=Math.min,v,m;if(s===1)v=m=o[0];else{if(r<0)p=0;else if(r<this._lastFrP){var _=h(c+1,s-1);for(p=_;p>=0&&!(o[p].percent<=r);p--);p=h(p,s-2)}else{for(p=c;p<s&&!(o[p].percent>r);p++);p=h(p-1,s-2)}m=o[p+1],v=o[p]}if(v&&m){this._lastFr=p,this._lastFrP=r;var y=m.percent-v.percent,b=y===0?1:h((r-v.percent)/y,1);m.easingFunc&&(b=m.easingFunc(b));var C=n?this._additiveValue:u?Wa:e[l];if((bs(a)||u)&&!C&&(C=this._additiveValue=[]),this.discrete)e[l]=b<1?v.rawValue:m.rawValue;else if(bs(a))a===ol?ec(C,v[i],m[i],b):uT(C,v[i],m[i],b);else if(ov(a)){var M=v[i],L=m[i],T=a===Lf;e[l]={type:T?"linear":"radial",x:sn(M.x,L.x,b),y:sn(M.y,L.y,b),colorStops:De(M.colorStops,function(k,P){var D=L.colorStops[P];return{offset:sn(k.offset,D.offset,b),color:al(ec([],k.color,D.color,b))}}),global:L.global},T?(e[l].x2=sn(M.x2,L.x2,b),e[l].y2=sn(M.y2,L.y2,b)):e[l].r=sn(M.r,L.r,b)}else if(u)ec(C,v[i],m[i],b),n||(e[l]=al(C));else{var E=sn(v[i],m[i],b);n?this._additiveValue=E:e[l]=E}n&&this._addToTarget(e)}}},t.prototype._addToTarget=function(e){var r=this.valType,n=this.propName,i=this._additiveValue;r===_s?e[n]=e[n]+i:r===uo?(Wr(e[n],Wa),ys(Wa,Wa,i,1),e[n]=al(Wa)):r===ol?ys(e[n],e[n],i,1):r===Xy&&iv(e[n],e[n],i,1)},t})(),Wh=(function(){function t(e,r,n,i){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=e,this._loop=r,r&&i){Hh("Can' use additive animation on looped animation.");return}this._additiveAnimators=i,this._allowDiscrete=n}return t.prototype.getMaxTime=function(){return this._maxTime},t.prototype.getDelay=function(){return this._delay},t.prototype.getLoop=function(){return this._loop},t.prototype.getTarget=function(){return this._target},t.prototype.changeTarget=function(e){this._target=e},t.prototype.when=function(e,r,n){return this.whenWithKeys(e,r,ft(r),n)},t.prototype.whenWithKeys=function(e,r,n,i){for(var a=this._tracks,o=0;o<n.length;o++){var s=n[o],l=a[s];if(!l){l=a[s]=new dT(s);var u=void 0,p=this._getAdditiveTrack(s);if(p){var c=p.keyframes,h=c[c.length-1];u=h&&h.value,p.valType===uo&&u&&(u=al(u))}else u=this._target[s];if(u==null)continue;e>0&&l.addKeyframe(0,il(u),i),this._trackKeys.push(s)}l.addKeyframe(e,il(r[s]),i)}return this._maxTime=Math.max(this._maxTime,e),this},t.prototype.pause=function(){this._clip.pause(),this._paused=!0},t.prototype.resume=function(){this._clip.resume(),this._paused=!1},t.prototype.isPaused=function(){return!!this._paused},t.prototype.duration=function(e){return this._maxTime=e,this._force=!0,this},t.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var e=this._doneCbs;if(e)for(var r=e.length,n=0;n<r;n++)e[n].call(this)},t.prototype._abortedCallback=function(){this._setTracksFinished();var e=this.animation,r=this._abortedCbs;if(e&&e.removeClip(this._clip),this._clip=null,r)for(var n=0;n<r.length;n++)r[n].call(this)},t.prototype._setTracksFinished=function(){for(var e=this._tracks,r=this._trackKeys,n=0;n<r.length;n++)e[r[n]].setFinished()},t.prototype._getAdditiveTrack=function(e){var r,n=this._additiveAnimators;if(n)for(var i=0;i<n.length;i++){var a=n[i].getTrack(e);a&&(r=a)}return r},t.prototype.start=function(e){if(!(this._started>0)){this._started=1;for(var r=this,n=[],i=this._maxTime||0,a=0;a<this._trackKeys.length;a++){var o=this._trackKeys[a],s=this._tracks[o],l=this._getAdditiveTrack(o),u=s.keyframes,p=u.length;if(s.prepare(i,l),s.needsAnimate())if(!this._allowDiscrete&&s.discrete){var c=u[p-1];c&&(r._target[s.propName]=c.rawValue),s.setFinished()}else n.push(s)}if(n.length||this._force){var h=new nT({life:i,loop:this._loop,delay:this._delay||0,onframe:function(v){r._started=2;var m=r._additiveAnimators;if(m){for(var _=!1,y=0;y<m.length;y++)if(m[y]._clip){_=!0;break}_||(r._additiveAnimators=null)}for(var y=0;y<n.length;y++)n[y].step(r._target,v);var b=r._onframeCbs;if(b)for(var y=0;y<b.length;y++)b[y](r._target,v)},ondestroy:function(){r._doneCallback()}});this._clip=h,this.animation&&this.animation.addClip(h),e&&h.setEasing(e)}else this._doneCallback();return this}},t.prototype.stop=function(e){if(this._clip){var r=this._clip;e&&r.onframe(1),this._abortedCallback()}},t.prototype.delay=function(e){return this._delay=e,this},t.prototype.during=function(e){return e&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(e)),this},t.prototype.done=function(e){return e&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(e)),this},t.prototype.aborted=function(e){return e&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(e)),this},t.prototype.getClip=function(){return this._clip},t.prototype.getTrack=function(e){return this._tracks[e]},t.prototype.getTracks=function(){var e=this;return De(this._trackKeys,function(r){return e._tracks[r]})},t.prototype.stopTracks=function(e,r){if(!e.length||!this._clip)return!0;for(var n=this._tracks,i=this._trackKeys,a=0;a<e.length;a++){var o=n[e[a]];o&&!o.isFinished()&&(r?o.step(this._target,1):this._started===1&&o.step(this._target,0),o.setFinished())}for(var s=!0,a=0;a<i.length;a++)if(!n[i[a]].isFinished()){s=!1;break}return s&&this._abortedCallback(),s},t.prototype.saveTo=function(e,r,n){if(e){r=r||this._trackKeys;for(var i=0;i<r.length;i++){var a=r[i],o=this._tracks[a];if(!(!o||o.isFinished())){var s=o.keyframes,l=s[n?0:s.length-1];l&&(e[a]=il(l.rawValue))}}}},t.prototype.__changeFinalValue=function(e,r){r=r||ft(e);for(var n=0;n<r.length;n++){var i=r[n],a=this._tracks[i];if(a){var o=a.keyframes;if(o.length>1){var s=o.pop();a.addKeyframe(s.time,e[i]),a.prepare(this._maxTime,a.getAdditiveTrack())}}}},t})();function pa(){return new Date().getTime()}var pT=(function(t){_e(e,t);function e(r){var n=t.call(this)||this;return n._running=!1,n._time=0,n._pausedTime=0,n._pauseStart=0,n._paused=!1,r=r||{},n.stage=r.stage||{},n}return e.prototype.addClip=function(r){r.animation&&this.removeClip(r),this._head?(this._tail.next=r,r.prev=this._tail,r.next=null,this._tail=r):this._head=this._tail=r,r.animation=this},e.prototype.addAnimator=function(r){r.animation=this;var n=r.getClip();n&&this.addClip(n)},e.prototype.removeClip=function(r){if(r.animation){var n=r.prev,i=r.next;n?n.next=i:this._head=i,i?i.prev=n:this._tail=n,r.next=r.prev=r.animation=null}},e.prototype.removeAnimator=function(r){var n=r.getClip();n&&this.removeClip(n),r.animation=null},e.prototype.update=function(r){for(var n=pa()-this._pausedTime,i=n-this._time,a=this._head;a;){var o=a.next,s=a.step(n,i);s&&(a.ondestroy(),this.removeClip(a)),a=o}this._time=n,r||(this.trigger("frame",i),this.stage.update&&this.stage.update())},e.prototype._startLoop=function(){var r=this;this._running=!0;function n(){r._running&&(wl(n),!r._paused&&r.update())}wl(n)},e.prototype.start=function(){this._running||(this._time=pa(),this._pausedTime=0,this._startLoop())},e.prototype.stop=function(){this._running=!1},e.prototype.pause=function(){this._paused||(this._pauseStart=pa(),this._paused=!0)},e.prototype.resume=function(){this._paused&&(this._pausedTime+=pa()-this._pauseStart,this._paused=!1)},e.prototype.clear=function(){for(var r=this._head;r;){var n=r.next;r.prev=r.next=r.animation=null,r=n}this._head=this._tail=null},e.prototype.isFinished=function(){return this._head==null},e.prototype.animate=function(r,n){n=n||{},this.start();var i=new Wh(r,n.loop);return this.addAnimator(i),i},e})(Qr),vT=300,tc=Pe.domSupported,rc=(function(){var t=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],e=["touchstart","touchend","touchmove"],r={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},n=De(t,function(i){var a=i.replace("mouse","pointer");return r.hasOwnProperty(a)?a:i});return{mouse:t,touch:e,pointer:n}})(),sv={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},lv=!1;function Af(t){var e=t.pointerType;return e==="pen"||e==="touch"}function gT(t){t.touching=!0,t.touchTimer!=null&&(clearTimeout(t.touchTimer),t.touchTimer=null),t.touchTimer=setTimeout(function(){t.touching=!1,t.touchTimer=null},700)}function nc(t){t&&(t.zrByTouch=!0)}function mT(t,e){return hr(t.dom,new yT(t,e),!0)}function Zy(t,e){for(var r=e,n=!1;r&&r.nodeType!==9&&!(n=r.domBelongToZr||r!==e&&r===t.painterRoot);)r=r.parentNode;return n}var yT=(function(){function t(e,r){this.stopPropagation=Zt,this.stopImmediatePropagation=Zt,this.preventDefault=Zt,this.type=r.type,this.target=this.currentTarget=e.dom,this.pointerType=r.pointerType,this.clientX=r.clientX,this.clientY=r.clientY}return t})(),xr={mousedown:function(t){t=hr(this.dom,t),this.__mayPointerCapture=[t.zrX,t.zrY],this.trigger("mousedown",t)},mousemove:function(t){t=hr(this.dom,t);var e=this.__mayPointerCapture;e&&(t.zrX!==e[0]||t.zrY!==e[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",t)},mouseup:function(t){t=hr(this.dom,t),this.__togglePointerCapture(!1),this.trigger("mouseup",t)},mouseout:function(t){t=hr(this.dom,t);var e=t.toElement||t.relatedTarget;Zy(this,e)||(this.__pointerCapturing&&(t.zrEventControl="no_globalout"),this.trigger("mouseout",t))},wheel:function(t){lv=!0,t=hr(this.dom,t),this.trigger("mousewheel",t)},mousewheel:function(t){lv||(t=hr(this.dom,t),this.trigger("mousewheel",t))},touchstart:function(t){t=hr(this.dom,t),nc(t),this.__lastTouchMoment=new Date,this.handler.processGesture(t,"start"),xr.mousemove.call(this,t),xr.mousedown.call(this,t)},touchmove:function(t){t=hr(this.dom,t),nc(t),this.handler.processGesture(t,"change"),xr.mousemove.call(this,t)},touchend:function(t){t=hr(this.dom,t),nc(t),this.handler.processGesture(t,"end"),xr.mouseup.call(this,t),+new Date-+this.__lastTouchMoment<vT&&xr.click.call(this,t)},pointerdown:function(t){xr.mousedown.call(this,t)},pointermove:function(t){Af(t)||xr.mousemove.call(this,t)},pointerup:function(t){xr.mouseup.call(this,t)},pointerout:function(t){Af(t)||xr.mouseout.call(this,t)}};z(["click","dblclick","contextmenu"],function(t){xr[t]=function(e){e=hr(this.dom,e),this.trigger(t,e)}});var kf={pointermove:function(t){Af(t)||kf.mousemove.call(this,t)},pointerup:function(t){kf.mouseup.call(this,t)},mousemove:function(t){this.trigger("mousemove",t)},mouseup:function(t){var e=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",t),e&&(t.zrEventControl="only_globalout",this.trigger("mouseout",t))}};function _T(t,e){var r=e.domHandlers;Pe.pointerEventsSupported?z(rc.pointer,function(n){sl(e,n,function(i){r[n].call(t,i)})}):(Pe.touchEventsSupported&&z(rc.touch,function(n){sl(e,n,function(i){r[n].call(t,i),gT(e)})}),z(rc.mouse,function(n){sl(e,n,function(i){i=zh(i),e.touching||r[n].call(t,i)})}))}function bT(t,e){Pe.pointerEventsSupported?z(sv.pointer,r):Pe.touchEventsSupported||z(sv.mouse,r);function r(n){function i(a){a=zh(a),Zy(t,a.target)||(a=mT(t,a),e.domHandlers[n].call(t,a))}sl(e,n,i,{capture:!0})}}function sl(t,e,r,n){t.mounted[e]=r,t.listenerOpts[e]=n,PC(t.domTarget,e,r,n)}function ic(t){var e=t.mounted;for(var r in e)e.hasOwnProperty(r)&&RC(t.domTarget,r,e[r],t.listenerOpts[r]);t.mounted={}}var uv=(function(){function t(e,r){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=e,this.domHandlers=r}return t})(),wT=(function(t){_e(e,t);function e(r,n){var i=t.call(this)||this;return i.__pointerCapturing=!1,i.dom=r,i.painterRoot=n,i._localHandlerScope=new uv(r,xr),tc&&(i._globalHandlerScope=new uv(document,kf)),_T(i,i._localHandlerScope),i}return e.prototype.dispose=function(){ic(this._localHandlerScope),tc&&ic(this._globalHandlerScope)},e.prototype.setCursor=function(r){this.dom.style&&(this.dom.style.cursor=r||"default")},e.prototype.__togglePointerCapture=function(r){if(this.__mayPointerCapture=null,tc&&+this.__pointerCapturing^+r){this.__pointerCapturing=r;var n=this._globalHandlerScope;r?bT(this,n):ic(n)}},e})(Qr),Qy=1;Pe.hasGlobalWindow&&(Qy=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var Ll=Qy,Df=.4,If="#333",Of="#ccc",ST="#eee",cv=Uh,fv=5e-5;function Jn(t){return t>fv||t<-fv}var ei=[],Ki=[],ac=fn(),oc=Math.abs,jh=(function(){function t(){}return t.prototype.getLocalTransform=function(e){return t.getLocalTransform(this,e)},t.prototype.setPosition=function(e){this.x=e[0],this.y=e[1]},t.prototype.setScale=function(e){this.scaleX=e[0],this.scaleY=e[1]},t.prototype.setSkew=function(e){this.skewX=e[0],this.skewY=e[1]},t.prototype.setOrigin=function(e){this.originX=e[0],this.originY=e[1]},t.prototype.needLocalTransform=function(){return Jn(this.rotation)||Jn(this.x)||Jn(this.y)||Jn(this.scaleX-1)||Jn(this.scaleY-1)||Jn(this.skewX)||Jn(this.skewY)},t.prototype.updateTransform=function(){var e=this.parent&&this.parent.transform,r=this.needLocalTransform(),n=this.transform;if(!(r||e)){n&&(cv(n),this.invTransform=null);return}n=n||fn(),r?this.getLocalTransform(n):cv(n),e&&(r?go(n,e,n):By(n,e)),this.transform=n,this._resolveGlobalScaleRatio(n)},t.prototype._resolveGlobalScaleRatio=function(e){var r=this.globalScaleRatio;if(r!=null&&r!==1){this.getGlobalScale(ei);var n=ei[0]<0?-1:1,i=ei[1]<0?-1:1,a=((ei[0]-n)*r+n)/ei[0]||0,o=((ei[1]-i)*r+i)/ei[1]||0;e[0]*=a,e[1]*=a,e[2]*=o,e[3]*=o}this.invTransform=this.invTransform||fn(),Yo(this.invTransform,e)},t.prototype.getComputedTransform=function(){for(var e=this,r=[];e;)r.push(e),e=e.parent;for(;e=r.pop();)e.updateTransform();return this.transform},t.prototype.setLocalTransform=function(e){if(e){var r=e[0]*e[0]+e[1]*e[1],n=e[2]*e[2]+e[3]*e[3],i=Math.atan2(e[1],e[0]),a=Math.PI/2+i-Math.atan2(e[3],e[2]);n=Math.sqrt(n)*Math.cos(a),r=Math.sqrt(r),this.skewX=a,this.skewY=0,this.rotation=-i,this.x=+e[4],this.y=+e[5],this.scaleX=r,this.scaleY=n,this.originX=0,this.originY=0}},t.prototype.decomposeTransform=function(){if(this.transform){var e=this.parent,r=this.transform;e&&e.transform&&(e.invTransform=e.invTransform||fn(),go(Ki,e.invTransform,r),r=Ki);var n=this.originX,i=this.originY;(n||i)&&(ac[4]=n,ac[5]=i,go(Ki,r,ac),Ki[4]-=n,Ki[5]-=i,r=Ki),this.setLocalTransform(r)}},t.prototype.getGlobalScale=function(e){var r=this.transform;return e=e||[],r?(e[0]=Math.sqrt(r[0]*r[0]+r[1]*r[1]),e[1]=Math.sqrt(r[2]*r[2]+r[3]*r[3]),r[0]<0&&(e[0]=-e[0]),r[3]<0&&(e[1]=-e[1]),e):(e[0]=1,e[1]=1,e)},t.prototype.transformCoordToLocal=function(e,r){var n=[e,r],i=this.invTransform;return i&&br(n,n,i),n},t.prototype.transformCoordToGlobal=function(e,r){var n=[e,r],i=this.transform;return i&&br(n,n,i),n},t.prototype.getLineScale=function(){var e=this.transform;return e&&oc(e[0]-1)>1e-10&&oc(e[3]-1)>1e-10?Math.sqrt(oc(e[0]*e[3]-e[2]*e[1])):1},t.prototype.copyTransform=function(e){Pf(this,e)},t.getLocalTransform=function(e,r){r=r||[];var n=e.originX||0,i=e.originY||0,a=e.scaleX,o=e.scaleY,s=e.anchorX,l=e.anchorY,u=e.rotation||0,p=e.x,c=e.y,h=e.skewX?Math.tan(e.skewX):0,v=e.skewY?Math.tan(-e.skewY):0;if(n||i||s||l){var m=n+s,_=i+l;r[4]=-m*a-h*_*o,r[5]=-_*o-v*m*a}else r[4]=r[5]=0;return r[0]=a,r[3]=o,r[1]=v*a,r[2]=h*o,u&&Gh(r,r,u),r[4]+=n+p,r[5]+=i+c,r},t.initDefaultProps=(function(){var e=t.prototype;e.scaleX=e.scaleY=e.globalScaleRatio=1,e.x=e.y=e.originX=e.originY=e.skewX=e.skewY=e.rotation=e.anchorX=e.anchorY=0})(),t})(),ko=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function Pf(t,e){for(var r=0;r<ko.length;r++){var n=ko[r];t[n]=e[n]}}function jr(t){ws||(ws=new Sa(100)),t=t||Bn;var e=ws.get(t);return e||(e={font:t,strWidthCache:new Sa(500),asciiWidthMap:null,asciiWidthMapTried:!1,stWideCharWidth:hn.measureText("国",t).width,asciiCharWidth:hn.measureText("a",t).width},ws.put(t,e)),e}var ws;function CT(t){if(!(sc>=hv)){t=t||Bn;for(var e=[],r=+new Date,n=0;n<=127;n++)e[n]=hn.measureText(String.fromCharCode(n),t).width;var i=+new Date-r;return i>16?sc=hv:i>2&&sc++,e}}var sc=0,hv=5;function Jy(t,e){return t.asciiWidthMapTried||(t.asciiWidthMap=CT(t.font),t.asciiWidthMapTried=!0),0<=e&&e<=127?t.asciiWidthMap!=null?t.asciiWidthMap[e]:t.asciiCharWidth:t.stWideCharWidth}function qr(t,e){var r=t.strWidthCache,n=r.get(e);return n==null&&(n=hn.measureText(e,t.font).width,r.put(e,n)),n}function dv(t,e,r,n){var i=qr(jr(e),t),a=nu(e),o=Ca(0,i,r),s=Mi(0,a,n),l=new Be(o,s,i,a);return l}function e0(t,e,r,n){var i=((t||"")+"").split(`
`),a=i.length;if(a===1)return dv(i[0],e,r,n);for(var o=new Be(0,0,0,0),s=0;s<i.length;s++){var l=dv(i[s],e,r,n);s===0?o.copy(l):o.union(l)}return o}function Ca(t,e,r,n){return r==="right"?n?t+=e:t-=e:r==="center"&&(n?t+=e/2:t-=e/2),t}function Mi(t,e,r,n){return r==="middle"?n?t+=e/2:t-=e/2:r==="bottom"&&(n?t+=e:t-=e),t}function nu(t){return jr(t).stWideCharWidth}function Di(t,e){return typeof t=="string"?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t}function t0(t,e,r){var n=e.position||"inside",i=e.distance!=null?e.distance:5,a=r.height,o=r.width,s=a/2,l=r.x,u=r.y,p="left",c="top";if(n instanceof Array)l+=Di(n[0],r.width),u+=Di(n[1],r.height),p=null,c=null;else switch(n){case"left":l-=i,u+=s,p="right",c="middle";break;case"right":l+=i+o,u+=s,c="middle";break;case"top":l+=o/2,u-=i,p="center",c="bottom";break;case"bottom":l+=o/2,u+=a+i,p="center";break;case"inside":l+=o/2,u+=s,p="center",c="middle";break;case"insideLeft":l+=i,u+=s,c="middle";break;case"insideRight":l+=o-i,u+=s,p="right",c="middle";break;case"insideTop":l+=o/2,u+=i,p="center";break;case"insideBottom":l+=o/2,u+=a-i,p="center",c="bottom";break;case"insideTopLeft":l+=i,u+=i;break;case"insideTopRight":l+=o-i,u+=i,p="right";break;case"insideBottomLeft":l+=i,u+=a-i,c="bottom";break;case"insideBottomRight":l+=o-i,u+=a-i,p="right",c="bottom";break}return t=t||{},t.x=l,t.y=u,t.align=p,t.verticalAlign=c,t}var lc="__zr_normal__",uc=ko.concat(["ignore"]),TT=Aa(ko,function(t,e){return t[e]=!0,t},{ignore:!1}),Xi={},xT=new Be(0,0,0,0),Ss=[],iu=(function(){function t(e){this.id=Dy(),this.animators=[],this.currentStates=[],this.states={},this._init(e)}return t.prototype._init=function(e){this.attr(e)},t.prototype.drift=function(e,r,n){switch(this.draggable){case"horizontal":r=0;break;case"vertical":e=0;break}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=e,i[5]+=r,this.decomposeTransform(),this.markRedraw()},t.prototype.beforeUpdate=function(){},t.prototype.afterUpdate=function(){},t.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},t.prototype.updateInnerText=function(e){var r=this._textContent;if(r&&(!r.ignore||e)){this.textConfig||(this.textConfig={});var n=this.textConfig,i=n.local,a=r.innerTransformable,o=void 0,s=void 0,l=!1;a.parent=i?this:null;var u=!1;a.copyTransform(r);var p=n.position!=null,c=n.autoOverflowArea,h=void 0;if((c||p)&&(h=xT,n.layoutRect?h.copy(n.layoutRect):h.copy(this.getBoundingRect()),i||h.applyTransform(this.transform)),p){this.calculateTextPosition?this.calculateTextPosition(Xi,n,h):t0(Xi,n,h),a.x=Xi.x,a.y=Xi.y,o=Xi.align,s=Xi.verticalAlign;var v=n.origin;if(v&&n.rotation!=null){var m=void 0,_=void 0;v==="center"?(m=h.width*.5,_=h.height*.5):(m=Di(v[0],h.width),_=Di(v[1],h.height)),u=!0,a.originX=-a.x+m+(i?0:h.x),a.originY=-a.y+_+(i?0:h.y)}}n.rotation!=null&&(a.rotation=n.rotation);var y=n.offset;y&&(a.x+=y[0],a.y+=y[1],u||(a.originX=-y[0],a.originY=-y[1]));var b=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={});if(c){var C=b.overflowRect=b.overflowRect||new Be(0,0,0,0);a.getLocalTransform(Ss),Yo(Ss,Ss),Be.copy(C,h),C.applyTransform(Ss)}else b.overflowRect=null;var M=n.inside==null?typeof n.position=="string"&&n.position.indexOf("inside")>=0:n.inside,L=void 0,T=void 0,E=void 0;M&&this.canBeInsideText()?(L=n.insideFill,T=n.insideStroke,(L==null||L==="auto")&&(L=this.getInsideTextFill()),(T==null||T==="auto")&&(T=this.getInsideTextStroke(L),E=!0)):(L=n.outsideFill,T=n.outsideStroke,(L==null||L==="auto")&&(L=this.getOutsideFill()),(T==null||T==="auto")&&(T=this.getOutsideStroke(L),E=!0)),L=L||"#000",(L!==b.fill||T!==b.stroke||E!==b.autoStroke||o!==b.align||s!==b.verticalAlign)&&(l=!0,b.fill=L,b.stroke=T,b.autoStroke=E,b.align=o,b.verticalAlign=s,r.setDefaultTextStyle(b)),r.__dirty|=ir,l&&r.dirtyStyle(!0)}},t.prototype.canBeInsideText=function(){return!0},t.prototype.getInsideTextFill=function(){return"#fff"},t.prototype.getInsideTextStroke=function(e){return"#000"},t.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?Of:If},t.prototype.getOutsideStroke=function(e){var r=this.__zr&&this.__zr.getBackgroundColor(),n=typeof r=="string"&&Wr(r);n||(n=[255,255,255,1]);for(var i=n[3],a=this.__zr.isDarkMode(),o=0;o<3;o++)n[o]=n[o]*i+(a?0:255)*(1-i);return n[3]=1,Ko(n,"rgba")},t.prototype.traverse=function(e,r){},t.prototype.attrKV=function(e,r){e==="textConfig"?this.setTextConfig(r):e==="textContent"?this.setTextContent(r):e==="clipPath"?this.setClipPath(r):e==="extra"?(this.extra=this.extra||{},pe(this.extra,r)):this[e]=r},t.prototype.hide=function(){this.ignore=!0,this.markRedraw()},t.prototype.show=function(){this.ignore=!1,this.markRedraw()},t.prototype.attr=function(e,r){if(typeof e=="string")this.attrKV(e,r);else if(Ae(e))for(var n=e,i=ft(n),a=0;a<i.length;a++){var o=i[a];this.attrKV(o,e[o])}return this.markRedraw(),this},t.prototype.saveCurrentToNormalState=function(e){this._innerSaveToNormal(e);for(var r=this._normalState,n=0;n<this.animators.length;n++){var i=this.animators[n],a=i.__fromStateTransition;if(!(i.getLoop()||a&&a!==lc)){var o=i.targetName,s=o?r[o]:r;i.saveTo(s)}}},t.prototype._innerSaveToNormal=function(e){var r=this._normalState;r||(r=this._normalState={}),e.textConfig&&!r.textConfig&&(r.textConfig=this.textConfig),this._savePrimaryToNormal(e,r,uc)},t.prototype._savePrimaryToNormal=function(e,r,n){for(var i=0;i<n.length;i++){var a=n[i];e[a]!=null&&!(a in r)&&(r[a]=this[a])}},t.prototype.hasState=function(){return this.currentStates.length>0},t.prototype.getState=function(e){return this.states[e]},t.prototype.ensureState=function(e){var r=this.states;return r[e]||(r[e]={}),r[e]},t.prototype.clearStates=function(e){this.useState(lc,!1,e)},t.prototype.useState=function(e,r,n,i){var a=e===lc,o=this.hasState();if(!(!o&&a)){var s=this.currentStates,l=this.stateTransition;if(!(Ye(s,e)>=0&&(r||s.length===1))){var u;if(this.stateProxy&&!a&&(u=this.stateProxy(e)),u||(u=this.states&&this.states[e]),!u&&!a){Hh("State "+e+" not exists.");return}a||this.saveCurrentToNormalState(u);var p=!!(u&&u.hoverLayer||i);p&&this._toggleHoverLayerFlag(!0),this._applyStateObj(e,u,this._normalState,r,!n&&!this.__inHover&&l&&l.duration>0,l);var c=this._textContent,h=this._textGuide;return c&&c.useState(e,r,n,p),h&&h.useState(e,r,n,p),a?(this.currentStates=[],this._normalState={}):r?this.currentStates.push(e):this.currentStates=[e],this._updateAnimationTargets(),this.markRedraw(),!p&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~ir),u}}},t.prototype.useStates=function(e,r,n){if(!e.length)this.clearStates();else{var i=[],a=this.currentStates,o=e.length,s=o===a.length;if(s){for(var l=0;l<o;l++)if(e[l]!==a[l]){s=!1;break}}if(s)return;for(var l=0;l<o;l++){var u=e[l],p=void 0;this.stateProxy&&(p=this.stateProxy(u,e)),p||(p=this.states[u]),p&&i.push(p)}var c=i[o-1],h=!!(c&&c.hoverLayer||n);h&&this._toggleHoverLayerFlag(!0);var v=this._mergeStates(i),m=this.stateTransition;this.saveCurrentToNormalState(v),this._applyStateObj(e.join(","),v,this._normalState,!1,!r&&!this.__inHover&&m&&m.duration>0,m);var _=this._textContent,y=this._textGuide;_&&_.useStates(e,r,h),y&&y.useStates(e,r,h),this._updateAnimationTargets(),this.currentStates=e.slice(),this.markRedraw(),!h&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~ir)}},t.prototype.isSilent=function(){for(var e=this;e;){if(e.silent)return!0;var r=e.__hostTarget;e=r?e.ignoreHostSilent?null:r:e.parent}return!1},t.prototype._updateAnimationTargets=function(){for(var e=0;e<this.animators.length;e++){var r=this.animators[e];r.targetName&&r.changeTarget(this[r.targetName])}},t.prototype.removeState=function(e){var r=Ye(this.currentStates,e);if(r>=0){var n=this.currentStates.slice();n.splice(r,1),this.useStates(n)}},t.prototype.replaceState=function(e,r,n){var i=this.currentStates.slice(),a=Ye(i,e),o=Ye(i,r)>=0;a>=0?o?i.splice(a,1):i[a]=r:n&&!o&&i.push(r),this.useStates(i)},t.prototype.toggleState=function(e,r){r?this.useState(e,!0):this.removeState(e)},t.prototype._mergeStates=function(e){for(var r={},n,i=0;i<e.length;i++){var a=e[i];pe(r,a),a.textConfig&&(n=n||{},pe(n,a.textConfig))}return n&&(r.textConfig=n),r},t.prototype._applyStateObj=function(e,r,n,i,a,o){var s=!(r&&i);r&&r.textConfig?(this.textConfig=pe({},i?this.textConfig:n.textConfig),pe(this.textConfig,r.textConfig)):s&&n.textConfig&&(this.textConfig=n.textConfig);for(var l={},u=!1,p=0;p<uc.length;p++){var c=uc[p],h=a&&TT[c];r&&r[c]!=null?h?(u=!0,l[c]=r[c]):this[c]=r[c]:s&&n[c]!=null&&(h?(u=!0,l[c]=n[c]):this[c]=n[c])}if(!a)for(var p=0;p<this.animators.length;p++){var v=this.animators[p],m=v.targetName;v.getLoop()||v.__changeFinalValue(m?(r||n)[m]:r||n)}u&&this._transitionState(e,l,o)},t.prototype._attachComponent=function(e){if(!(e.__zr&&!e.__hostTarget)&&e!==this){var r=this.__zr;r&&e.addSelfToZr(r),e.__zr=r,e.__hostTarget=this}},t.prototype._detachComponent=function(e){e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__hostTarget=null},t.prototype.getClipPath=function(){return this._clipPath},t.prototype.setClipPath=function(e){this._clipPath&&this._clipPath!==e&&this.removeClipPath(),this._attachComponent(e),this._clipPath=e,this.markRedraw()},t.prototype.removeClipPath=function(){var e=this._clipPath;e&&(this._detachComponent(e),this._clipPath=null,this.markRedraw())},t.prototype.getTextContent=function(){return this._textContent},t.prototype.setTextContent=function(e){var r=this._textContent;r!==e&&(r&&r!==e&&this.removeTextContent(),e.innerTransformable=new jh,this._attachComponent(e),this._textContent=e,this.markRedraw())},t.prototype.setTextConfig=function(e){this.textConfig||(this.textConfig={}),pe(this.textConfig,e),this.markRedraw()},t.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},t.prototype.removeTextContent=function(){var e=this._textContent;e&&(e.innerTransformable=null,this._detachComponent(e),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},t.prototype.getTextGuideLine=function(){return this._textGuide},t.prototype.setTextGuideLine=function(e){this._textGuide&&this._textGuide!==e&&this.removeTextGuideLine(),this._attachComponent(e),this._textGuide=e,this.markRedraw()},t.prototype.removeTextGuideLine=function(){var e=this._textGuide;e&&(this._detachComponent(e),this._textGuide=null,this.markRedraw())},t.prototype.markRedraw=function(){this.__dirty|=ir;var e=this.__zr;e&&(this.__inHover?e.refreshHover():e.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},t.prototype.dirty=function(){this.markRedraw()},t.prototype._toggleHoverLayerFlag=function(e){this.__inHover=e;var r=this._textContent,n=this._textGuide;r&&(r.__inHover=e),n&&(n.__inHover=e)},t.prototype.addSelfToZr=function(e){if(this.__zr!==e){this.__zr=e;var r=this.animators;if(r)for(var n=0;n<r.length;n++)e.animation.addAnimator(r[n]);this._clipPath&&this._clipPath.addSelfToZr(e),this._textContent&&this._textContent.addSelfToZr(e),this._textGuide&&this._textGuide.addSelfToZr(e)}},t.prototype.removeSelfFromZr=function(e){if(this.__zr){this.__zr=null;var r=this.animators;if(r)for(var n=0;n<r.length;n++)e.animation.removeAnimator(r[n]);this._clipPath&&this._clipPath.removeSelfFromZr(e),this._textContent&&this._textContent.removeSelfFromZr(e),this._textGuide&&this._textGuide.removeSelfFromZr(e)}},t.prototype.animate=function(e,r,n){var i=e?this[e]:this,a=new Wh(i,r,n);return e&&(a.targetName=e),this.addAnimator(a,e),a},t.prototype.addAnimator=function(e,r){var n=this.__zr,i=this;e.during(function(){i.updateDuringAnimation(r)}).done(function(){var a=i.animators,o=Ye(a,e);o>=0&&a.splice(o,1)}),this.animators.push(e),n&&n.animation.addAnimator(e),n&&n.wakeUp()},t.prototype.updateDuringAnimation=function(e){this.markRedraw()},t.prototype.stopAnimation=function(e,r){for(var n=this.animators,i=n.length,a=[],o=0;o<i;o++){var s=n[o];!e||e===s.scope?s.stop(r):a.push(s)}return this.animators=a,this},t.prototype.animateTo=function(e,r,n){cc(this,e,r,n)},t.prototype.animateFrom=function(e,r,n){cc(this,e,r,n,!0)},t.prototype._transitionState=function(e,r,n,i){for(var a=cc(this,r,n,i),o=0;o<a.length;o++)a[o].__fromStateTransition=e},t.prototype.getBoundingRect=function(){return null},t.prototype.getPaintRect=function(){return null},t.initDefaultProps=(function(){var e=t.prototype;e.type="element",e.name="",e.ignore=e.silent=e.ignoreHostSilent=e.isGroup=e.draggable=e.dragging=e.ignoreClip=e.__inHover=!1,e.__dirty=ir;function r(n,i,a,o){Object.defineProperty(e,n,{get:function(){if(!this[i]){var l=this[i]=[];s(this,l)}return this[i]},set:function(l){this[a]=l[0],this[o]=l[1],this[i]=l,s(this,l)}});function s(l,u){Object.defineProperty(u,0,{get:function(){return l[a]},set:function(p){l[a]=p}}),Object.defineProperty(u,1,{get:function(){return l[o]},set:function(p){l[o]=p}})}}Object.defineProperty&&(r("position","_legacyPos","x","y"),r("scale","_legacyScale","scaleX","scaleY"),r("origin","_legacyOrigin","originX","originY"))})(),t})();Zr(iu,Qr);Zr(iu,jh);function cc(t,e,r,n,i){r=r||{};var a=[];r0(t,"",t,e,r,n,a,i);var o=a.length,s=!1,l=r.done,u=r.aborted,p=function(){s=!0,o--,o<=0&&(s?l&&l():u&&u())},c=function(){o--,o<=0&&(s?l&&l():u&&u())};o||l&&l(),a.length>0&&r.during&&a[0].during(function(m,_){r.during(_)});for(var h=0;h<a.length;h++){var v=a[h];p&&v.done(p),c&&v.aborted(c),r.force&&v.duration(r.duration),v.start(r.easing)}return a}function fc(t,e,r){for(var n=0;n<r;n++)t[n]=e[n]}function MT(t){return Qt(t[0])}function LT(t,e,r){if(Qt(e[r]))if(Qt(t[r])||(t[r]=[]),Jt(e[r])){var n=e[r].length;t[r].length!==n&&(t[r]=new e[r].constructor(n),fc(t[r],e[r],n))}else{var i=e[r],a=t[r],o=i.length;if(MT(i))for(var s=i[0].length,l=0;l<o;l++)a[l]?fc(a[l],i[l],s):a[l]=Array.prototype.slice.call(i[l]);else fc(a,i,o);a.length=i.length}else t[r]=e[r]}function ET(t,e){return t===e||Qt(t)&&Qt(e)&&AT(t,e)}function AT(t,e){var r=t.length;if(r!==e.length)return!1;for(var n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function r0(t,e,r,n,i,a,o,s){for(var l=ft(n),u=i.duration,p=i.delay,c=i.additive,h=i.setToFinal,v=!Ae(a),m=t.animators,_=[],y=0;y<l.length;y++){var b=l[y],C=n[b];if(C!=null&&r[b]!=null&&(v||a[b]))if(Ae(C)&&!Qt(C)&&!tu(C)){if(e){s||(r[b]=C,t.updateDuringAnimation(e));continue}r0(t,b,r[b],C,i,a&&a[b],o,s)}else _.push(b);else s||(r[b]=C,t.updateDuringAnimation(e),_.push(b))}var M=_.length;if(!c&&M)for(var L=0;L<m.length;L++){var T=m[L];if(T.targetName===e){var E=T.stopTracks(_);if(E){var k=Ye(m,T);m.splice(k,1)}}}if(i.force||(_=At(_,function(B){return!ET(n[B],r[B])}),M=_.length),M>0||i.force&&!o.length){var P=void 0,D=void 0,N=void 0;if(s){D={},h&&(P={});for(var L=0;L<M;L++){var b=_[L];D[b]=r[b],h?P[b]=n[b]:r[b]=n[b]}}else if(h){N={};for(var L=0;L<M;L++){var b=_[L];N[b]=il(r[b]),LT(r,n,b)}}var T=new Wh(r,!1,!1,c?At(m,function(U){return U.targetName===e}):null);T.targetName=e,i.scope&&(T.scope=i.scope),h&&P&&T.whenWithKeys(0,P,_),N&&T.whenWithKeys(0,N,_),T.whenWithKeys(u??500,s?D:n,_).delay(p||0),t.addAnimator(T,e),o.push(T)}}var Rt=(function(t){_e(e,t);function e(r){var n=t.call(this)||this;return n.isGroup=!0,n._children=[],n.attr(r),n}return e.prototype.childrenRef=function(){return this._children},e.prototype.children=function(){return this._children.slice()},e.prototype.childAt=function(r){return this._children[r]},e.prototype.childOfName=function(r){for(var n=this._children,i=0;i<n.length;i++)if(n[i].name===r)return n[i]},e.prototype.childCount=function(){return this._children.length},e.prototype.add=function(r){return r&&r!==this&&r.parent!==this&&(this._children.push(r),this._doAdd(r)),this},e.prototype.addBefore=function(r,n){if(r&&r!==this&&r.parent!==this&&n&&n.parent===this){var i=this._children,a=i.indexOf(n);a>=0&&(i.splice(a,0,r),this._doAdd(r))}return this},e.prototype.replace=function(r,n){var i=Ye(this._children,r);return i>=0&&this.replaceAt(n,i),this},e.prototype.replaceAt=function(r,n){var i=this._children,a=i[n];if(r&&r!==this&&r.parent!==this&&r!==a){i[n]=r,a.parent=null;var o=this.__zr;o&&a.removeSelfFromZr(o),this._doAdd(r)}return this},e.prototype._doAdd=function(r){r.parent&&r.parent.remove(r),r.parent=this;var n=this.__zr;n&&n!==r.__zr&&r.addSelfToZr(n),n&&n.refresh()},e.prototype.remove=function(r){var n=this.__zr,i=this._children,a=Ye(i,r);return a<0?this:(i.splice(a,1),r.parent=null,n&&r.removeSelfFromZr(n),n&&n.refresh(),this)},e.prototype.removeAll=function(){for(var r=this._children,n=this.__zr,i=0;i<r.length;i++){var a=r[i];n&&a.removeSelfFromZr(n),a.parent=null}return r.length=0,this},e.prototype.eachChild=function(r,n){for(var i=this._children,a=0;a<i.length;a++){var o=i[a];r.call(n,o,a)}return this},e.prototype.traverse=function(r,n){for(var i=0;i<this._children.length;i++){var a=this._children[i],o=r.call(n,a);a.isGroup&&!o&&a.traverse(r,n)}return this},e.prototype.addSelfToZr=function(r){t.prototype.addSelfToZr.call(this,r);for(var n=0;n<this._children.length;n++){var i=this._children[n];i.addSelfToZr(r)}},e.prototype.removeSelfFromZr=function(r){t.prototype.removeSelfFromZr.call(this,r);for(var n=0;n<this._children.length;n++){var i=this._children[n];i.removeSelfFromZr(r)}},e.prototype.getBoundingRect=function(r){for(var n=new Be(0,0,0,0),i=r||this._children,a=[],o=null,s=0;s<i.length;s++){var l=i[s];if(!(l.ignore||l.invisible)){var u=l.getBoundingRect(),p=l.getLocalTransform(a);p?(Be.applyTransform(n,u,p),o=o||n.clone(),o.union(n)):(o=o||u.clone(),o.union(u))}}return o||n},e})(iu);Rt.prototype.type="group";/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var ll={},n0={};function kT(t){delete n0[t]}function DT(t){if(!t)return!1;if(typeof t=="string")return Ml(t,1)<Df;if(t.colorStops){for(var e=t.colorStops,r=0,n=e.length,i=0;i<n;i++)r+=Ml(e[i].color,1);return r/=n,r<Df}return!1}var IT=(function(){function t(e,r,n){var i=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,n=n||{},this.dom=r,this.id=e;var a=new XC,o=n.renderer||"canvas";ll[o]||(o=ft(ll)[0]),n.useDirtyRect=n.useDirtyRect==null?!1:n.useDirtyRect;var s=new ll[o](r,a,n,e),l=n.ssr||s.ssrOnly;this.storage=a,this.painter=s;var u=!Pe.node&&!Pe.worker&&!l?new wT(s.getViewportRoot(),s.root):null,p=n.useCoarsePointer,c=p==null||p==="auto"?Pe.touchEventsSupported:!!p,h=44,v;c&&(v=ke(n.pointerSize,h)),this.handler=new Vy(a,s,u,s.root,v),this.animation=new pT({stage:{update:l?null:function(){return i._flush(!0)}}}),l||this.animation.start()}return t.prototype.add=function(e){this._disposed||!e||(this.storage.addRoot(e),e.addSelfToZr(this),this.refresh())},t.prototype.remove=function(e){this._disposed||!e||(this.storage.delRoot(e),e.removeSelfFromZr(this),this.refresh())},t.prototype.configLayer=function(e,r){this._disposed||(this.painter.configLayer&&this.painter.configLayer(e,r),this.refresh())},t.prototype.setBackgroundColor=function(e){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this.refresh(),this._backgroundColor=e,this._darkMode=DT(e))},t.prototype.getBackgroundColor=function(){return this._backgroundColor},t.prototype.setDarkMode=function(e){this._darkMode=e},t.prototype.isDarkMode=function(){return this._darkMode},t.prototype.refreshImmediately=function(e){this._disposed||(e||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},t.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},t.prototype.flush=function(){this._disposed||this._flush(!1)},t.prototype._flush=function(e){var r,n=pa();this._needsRefresh&&(r=!0,this.refreshImmediately(e)),this._needsRefreshHover&&(r=!0,this.refreshHoverImmediately());var i=pa();r?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:i-n})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},t.prototype.setSleepAfterStill=function(e){this._sleepAfterStill=e},t.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},t.prototype.refreshHover=function(){this._needsRefreshHover=!0},t.prototype.refreshHoverImmediately=function(){this._disposed||(this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover())},t.prototype.resize=function(e){this._disposed||(e=e||{},this.painter.resize(e.width,e.height),this.handler.resize())},t.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},t.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},t.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},t.prototype.setCursorStyle=function(e){this._disposed||this.handler.setCursorStyle(e)},t.prototype.findHover=function(e,r){if(!this._disposed)return this.handler.findHover(e,r)},t.prototype.on=function(e,r,n){return this._disposed||this.handler.on(e,r,n),this},t.prototype.off=function(e,r){this._disposed||this.handler.off(e,r)},t.prototype.trigger=function(e,r){this._disposed||this.handler.trigger(e,r)},t.prototype.clear=function(){if(!this._disposed){for(var e=this.storage.getRoots(),r=0;r<e.length;r++)e[r]instanceof Rt&&e[r].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},t.prototype.dispose=function(){this._disposed||(this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,kT(this.id))},t})();function pv(t,e){var r=new IT(Dy(),t,e);return n0[r.id]=r,r}function OT(t,e){ll[t]=e}var vv=1e-4,i0=20;function PT(t){return t.replace(/^\s+|\s+$/g,"")}var Do=Math.min,ar=Math.max,Ur=Math.abs;function gv(t,e,r,n){var i=e[0],a=e[1],o=r[0],s=r[1],l=a-i,u=s-o;if(l===0)return u===0?o:(o+s)/2;if(n)if(l>0){if(t<=i)return o;if(t>=a)return s}else{if(t>=i)return o;if(t<=a)return s}else{if(t===i)return o;if(t===a)return s}return(t-i)/l*u+o}var zt=RT;function RT(t,e,r){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%";break}return Rf(t,e,r)}function Rf(t,e,r){return xe(t)?PT(t).match(/%$/)?parseFloat(t)/100*e+(r||0):parseFloat(t):t==null?NaN:+t}function Pt(t,e,r){return e==null&&(e=10),e=Math.min(Math.max(0,e),i0),t=(+t).toFixed(e),r?t:+t}function un(t){if(t=+t,isNaN(t))return 0;if(t>1e-14){for(var e=1,r=0;r<15;r++,e*=10)if(Math.round(t*e)/e===t)return r}return NT(t)}function NT(t){var e=t.toString().toLowerCase(),r=e.indexOf("e"),n=r>0?+e.slice(r+1):0,i=r>0?r:e.length,a=e.indexOf("."),o=a<0?0:i-1-a;return Math.max(0,o-n)}function BT(t,e){var r=Math.log,n=Math.LN10,i=Math.floor(r(t[1]-t[0])/n),a=Math.round(r(Ur(e[1]-e[0]))/n),o=Math.min(Math.max(-i+a,0),20);return isFinite(o)?o:20}function HT(t,e){var r=Math.max(un(t),un(e)),n=t+e;return r>i0?n:Pt(n,r)}function a0(t){var e=Math.PI*2;return(t%e+e)%e}function El(t){return t>-vv&&t<vv}var FT=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function Da(t){if(t instanceof Date)return t;if(xe(t)){var e=FT.exec(t);if(!e)return new Date(NaN);if(e[8]){var r=+e[4]||0;return e[8].toUpperCase()!=="Z"&&(r-=+e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,r,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0))}else return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0)}else if(t==null)return new Date(NaN);return new Date(Math.round(t))}function VT(t){return Math.pow(10,qh(t))}function qh(t){if(t===0)return 0;var e=Math.floor(Math.log(t)/Math.LN10);return t/Math.pow(10,e)>=10&&e++,e}function o0(t,e){var r=qh(t),n=Math.pow(10,r),i=t/n,a;return i<1.5?a=1:i<2.5?a=2:i<4?a=3:i<7?a=5:a=10,t=a*n,r>=-20?+t.toFixed(r<0?-r:0):t}function Al(t){var e=parseFloat(t);return e==t&&(e!==0||!xe(t)||t.indexOf("x")<=0)?e:NaN}function zT(t){return!isNaN(Al(t))}function s0(){return Math.round(Math.random()*9)}function l0(t,e){return e===0?t:l0(e,t%e)}function mv(t,e){return t==null?e:e==null?t:t*e/l0(t,e)}var UT="[ECharts] ",GT=typeof console<"u"&&console.warn&&console.log;function WT(t,e,r){GT&&console[t](UT+e)}function u0(t,e){WT("error",t)}function Kt(t){throw new Error(t)}function yv(t,e,r){return(e-t)*r+t}var c0="series\0",jT="\0_ec_\0";function Ut(t){return t instanceof Array?t:t==null?[]:[t]}function _v(t,e,r){if(t){t[e]=t[e]||{},t.emphasis=t.emphasis||{},t.emphasis[e]=t.emphasis[e]||{};for(var n=0,i=r.length;n<i;n++){var a=r[n];!t.emphasis[e].hasOwnProperty(a)&&t[e].hasOwnProperty(a)&&(t.emphasis[e][a]=t[e][a])}}}var bv=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function Xo(t){return Ae(t)&&!be(t)&&!(t instanceof Date)?t.value:t}function qT(t){return Ae(t)&&!(t instanceof Array)}function $T(t,e,r){var n=r==="normalMerge",i=r==="replaceMerge",a=r==="replaceAll";t=t||[],e=(e||[]).slice();var o=He();z(e,function(l,u){if(!Ae(l)){e[u]=null;return}});var s=YT(t,o,r);return(n||i)&&KT(s,t,o,e),n&&XT(s,e),n||i?ZT(s,e,i):a&&QT(s,e),JT(s),s}function YT(t,e,r){var n=[];if(r==="replaceAll")return n;for(var i=0;i<t.length;i++){var a=t[i];a&&a.id!=null&&e.set(a.id,i),n.push({existing:r==="replaceMerge"||Io(a)?null:a,newOption:null,keyInfo:null,brandNew:null})}return n}function KT(t,e,r,n){z(n,function(i,a){if(!(!i||i.id==null)){var o=_o(i.id),s=r.get(o);if(s!=null){var l=t[s];dn(!l.newOption,'Duplicated option on id "'+o+'".'),l.newOption=i,l.existing=e[s],n[a]=null}}})}function XT(t,e){z(e,function(r,n){if(!(!r||r.name==null))for(var i=0;i<t.length;i++){var a=t[i].existing;if(!t[i].newOption&&a&&(a.id==null||r.id==null)&&!Io(r)&&!Io(a)&&f0("name",a,r)){t[i].newOption=r,e[n]=null;return}}})}function ZT(t,e,r){z(e,function(n){if(n){for(var i,a=0;(i=t[a])&&(i.newOption||Io(i.existing)||i.existing&&n.id!=null&&!f0("id",n,i.existing));)a++;i?(i.newOption=n,i.brandNew=r):t.push({newOption:n,brandNew:r,existing:null,keyInfo:null}),a++}})}function QT(t,e){z(e,function(r){t.push({newOption:r,brandNew:!0,existing:null,keyInfo:null})})}function JT(t){var e=He();z(t,function(r){var n=r.existing;n&&e.set(n.id,r)}),z(t,function(r){var n=r.newOption;dn(!n||n.id==null||!e.get(n.id)||e.get(n.id)===r,"id duplicates: "+(n&&n.id)),n&&n.id!=null&&e.set(n.id,r),!r.keyInfo&&(r.keyInfo={})}),z(t,function(r,n){var i=r.existing,a=r.newOption,o=r.keyInfo;if(Ae(a)){if(o.name=a.name!=null?_o(a.name):i?i.name:c0+n,i)o.id=_o(i.id);else if(a.id!=null)o.id=_o(a.id);else{var s=0;do o.id="\0"+o.name+"\0"+s++;while(e.get(o.id))}e.set(o.id,r)}})}function f0(t,e,r){var n=$r(e[t],null),i=$r(r[t],null);return n!=null&&i!=null&&n===i}function _o(t){return $r(t,"")}function $r(t,e){return t==null?e:xe(t)?t:ct(t)||df(t)?t+"":e}function $h(t){var e=t.name;return!!(e&&e.indexOf(c0))}function Io(t){return t&&t.id!=null&&_o(t.id).indexOf(jT)===0}function ex(t,e,r){z(t,function(n){var i=n.newOption;Ae(i)&&(n.keyInfo.mainType=e,n.keyInfo.subType=tx(e,i,n.existing,r))})}function tx(t,e,r,n){var i=e.type?e.type:r?r.subType:n.determineSubType(t,e);return i}function Ii(t,e){if(e.dataIndexInside!=null)return e.dataIndexInside;if(e.dataIndex!=null)return be(e.dataIndex)?De(e.dataIndex,function(r){return t.indexOfRawIndex(r)}):t.indexOfRawIndex(e.dataIndex);if(e.name!=null)return be(e.name)?De(e.name,function(r){return t.indexOfName(r)}):t.indexOfName(e.name)}function gt(){var t="__ec_inner_"+rx++;return function(e){return e[t]||(e[t]={})}}var rx=s0();function hc(t,e,r){var n=Yh(e,r),i=n.mainTypeSpecified,a=n.queryOptionMap,o=n.others,s=o,l=r?r.defaultMainType:null;return!i&&l&&a.set(l,{}),a.each(function(u,p){var c=Zo(t,p,u,{useDefault:l===p,enableAll:r&&r.enableAll!=null?r.enableAll:!0,enableNone:r&&r.enableNone!=null?r.enableNone:!0});s[p+"Models"]=c.models,s[p+"Model"]=c.models[0]}),s}function Yh(t,e){var r;if(xe(t)){var n={};n[t+"Index"]=0,r=n}else r=t;var i=He(),a={},o=!1;return z(r,function(s,l){if(l==="dataIndex"||l==="dataIndexInside"){a[l]=s;return}var u=l.match(/^(\w+)(Index|Id|Name)$/)||[],p=u[1],c=(u[2]||"").toLowerCase();if(!(!p||!c||e&&e.includeMainTypes&&Ye(e.includeMainTypes,p)<0)){o=o||!!p;var h=i.get(p)||i.set(p,{});h[c]=s}}),{mainTypeSpecified:o,queryOptionMap:i,others:a}}var yr={useDefault:!0,enableAll:!1,enableNone:!1};function Zo(t,e,r,n){n=n||yr;var i=r.index,a=r.id,o=r.name,s={models:null,specified:i!=null||a!=null||o!=null};if(!s.specified){var l=void 0;return s.models=n.useDefault&&(l=t.getComponent(e))?[l]:[],s}if(i==="none"||i===!1){if(n.enableNone)return s.models=[],s;i=-1}return i==="all"&&(n.enableAll?i=a=o=null:i=-1),s.models=t.queryComponents({mainType:e,index:i,id:a,name:o}),s}function h0(t,e,r){t.setAttribute?t.setAttribute(e,r):t[e]=r}function nx(t,e){return t.getAttribute?t.getAttribute(e):t[e]}function ix(t){return t==="auto"?Pe.domSupported?"html":"richText":t||"html"}function ax(t,e,r,n,i){var a=e==null||e==="auto";if(n==null)return n;if(ct(n)){var o=yv(r||0,n,i);return Pt(o,a?Math.max(un(r||0),un(n)):e)}else{if(xe(n))return i<1?r:n;for(var s=[],l=r,u=n,p=Math.max(l?l.length:0,u.length),c=0;c<p;++c){var h=t.getDimensionInfo(c);if(h&&h.type==="ordinal")s[c]=(i<1&&l?l:u)[c];else{var v=l&&l[c]?l[c]:0,m=u[c],o=yv(v,m,i);s[c]=Pt(o,a?Math.max(un(v),un(m)):e)}}return s}}var ox=".",ti="___EC__COMPONENT__CONTAINER___",d0="___EC__EXTENDED_CLASS___";function Gr(t){var e={main:"",sub:""};if(t){var r=t.split(ox);e.main=r[0]||"",e.sub=r[1]||""}return e}function sx(t){dn(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(t),'componentType "'+t+'" illegal')}function lx(t){return!!(t&&t[d0])}function Kh(t,e){t.$constructor=t,t.extend=function(r){var n=this,i;return ux(n)?i=(function(a){_e(o,a);function o(){return a.apply(this,arguments)||this}return o})(n):(i=function(){(r.$constructor||n).apply(this,arguments)},sC(i,this)),pe(i.prototype,r),i[d0]=!0,i.extend=this.extend,i.superCall=hx,i.superApply=dx,i.superClass=n,i}}function ux(t){return Ie(t)&&/^class\s/.test(Function.prototype.toString.call(t))}function p0(t,e){t.extend=e.extend}var cx=Math.round(Math.random()*10);function fx(t){var e=["__\0is_clz",cx++].join("_");t.prototype[e]=!0,t.isInstance=function(r){return!!(r&&r[e])}}function hx(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return this.superClass.prototype[e].apply(t,r)}function dx(t,e,r){return this.superClass.prototype[e].apply(t,r)}function au(t){var e={};t.registerClass=function(n){var i=n.type||n.prototype.type;if(i){sx(i),n.prototype.type=i;var a=Gr(i);if(!a.sub)e[a.main]=n;else if(a.sub!==ti){var o=r(a);o[a.sub]=n}}return n},t.getClass=function(n,i,a){var o=e[n];if(o&&o[ti]&&(o=i?o[i]:null),a&&!o)throw new Error(i?"Component "+n+"."+(i||"")+" is used but not imported.":n+".type should be specified.");return o},t.getClassesByMainType=function(n){var i=Gr(n),a=[],o=e[i.main];return o&&o[ti]?z(o,function(s,l){l!==ti&&a.push(s)}):a.push(o),a},t.hasClass=function(n){var i=Gr(n);return!!e[i.main]},t.getAllClassMainTypes=function(){var n=[];return z(e,function(i,a){n.push(a)}),n},t.hasSubTypes=function(n){var i=Gr(n),a=e[i.main];return a&&a[ti]};function r(n){var i=e[n.main];return(!i||!i[ti])&&(i=e[n.main]={},i[ti]=!0),i}}function Oo(t,e){for(var r=0;r<t.length;r++)t[r][1]||(t[r][1]=t[r][0]);return e=e||!1,function(n,i,a){for(var o={},s=0;s<t.length;s++){var l=t[s][1];if(!(i&&Ye(i,l)>=0||a&&Ye(a,l)<0)){var u=n.getShallow(l,e);u!=null&&(o[t[s][0]]=u)}}return o}}var px=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],vx=Oo(px),gx=(function(){function t(){}return t.prototype.getAreaStyle=function(e,r){return vx(this,e,r)},t})(),Nf=new Sa(50);function mx(t){if(typeof t=="string"){var e=Nf.get(t);return e&&e.image}else return t}function v0(t,e,r,n,i){if(t)if(typeof t=="string"){if(e&&e.__zrImageSrc===t||!r)return e;var a=Nf.get(t),o={hostEl:r,cb:n,cbPayload:i};return a?(e=a.image,!ou(e)&&a.pending.push(o)):(e=hn.loadImage(t,wv,wv),e.__zrImageSrc=t,Nf.put(t,e.__cachedImgObj={image:e,pending:[o]})),e}else return t;else return e}function wv(){var t=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var r=t.pending[e],n=r.cb;n&&n(this,r.cbPayload),r.hostEl.dirty()}t.pending.length=0}function ou(t){return t&&t.width&&t.height}var dc=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function yx(t,e,r,n,i,a){if(!r){t.text="",t.isTruncated=!1;return}var o=(e+"").split(`
`);a=g0(r,n,i,a);for(var s=!1,l={},u=0,p=o.length;u<p;u++)m0(l,o[u],a),o[u]=l.textLine,s=s||l.isTruncated;t.text=o.join(`
`),t.isTruncated=s}function g0(t,e,r,n){n=n||{};var i=pe({},n);r=ke(r,"..."),i.maxIterations=ke(n.maxIterations,2);var a=i.minChar=ke(n.minChar,0),o=i.fontMeasureInfo=jr(e),s=o.asciiCharWidth;i.placeholder=ke(n.placeholder,"");for(var l=t=Math.max(0,t-1),u=0;u<a&&l>=s;u++)l-=s;var p=qr(o,r);return p>l&&(r="",p=0),l=t-p,i.ellipsis=r,i.ellipsisWidth=p,i.contentWidth=l,i.containerWidth=t,i}function m0(t,e,r){var n=r.containerWidth,i=r.contentWidth,a=r.fontMeasureInfo;if(!n){t.textLine="",t.isTruncated=!1;return}var o=qr(a,e);if(o<=n){t.textLine=e,t.isTruncated=!1;return}for(var s=0;;s++){if(o<=i||s>=r.maxIterations){e+=r.ellipsis;break}var l=s===0?_x(e,i,a):o>0?Math.floor(e.length*i/o):0;e=e.substr(0,l),o=qr(a,e)}e===""&&(e=r.placeholder),t.textLine=e,t.isTruncated=!0}function _x(t,e,r){for(var n=0,i=0,a=t.length;i<a&&n<e;i++)n+=Jy(r,t.charCodeAt(i));return i}function bx(t,e,r,n){var i=Xh(t),a=e.overflow,o=e.padding,s=o?o[1]+o[3]:0,l=o?o[0]+o[2]:0,u=e.font,p=a==="truncate",c=nu(u),h=ke(e.lineHeight,c),v=e.lineOverflow==="truncate",m=!1,_=e.width;_==null&&r!=null&&(_=r-s);var y=e.height;y==null&&n!=null&&(y=n-l);var b;_!=null&&(a==="break"||a==="breakAll")?b=i?y0(i,e.font,_,a==="breakAll",0).lines:[]:b=i?i.split(`
`):[];var C=b.length*h;if(y==null&&(y=C),C>y&&v){var M=Math.floor(y/h);m=m||b.length>M,b=b.slice(0,M),C=b.length*h}if(i&&p&&_!=null)for(var L=g0(_,u,e.ellipsis,{minChar:e.truncateMinChar,placeholder:e.placeholder}),T={},E=0;E<b.length;E++)m0(T,b[E],L),b[E]=T.textLine,m=m||T.isTruncated;for(var k=y,P=0,D=jr(u),E=0;E<b.length;E++)P=Math.max(qr(D,b[E]),P);_==null&&(_=P);var N=_;return k+=l,N+=s,{lines:b,height:y,outerWidth:N,outerHeight:k,lineHeight:h,calculatedLineHeight:c,contentWidth:P,contentHeight:C,width:_,isTruncated:m}}var Sx=(function(){function t(){}return t})(),Sv=(function(){function t(e){this.tokens=[],e&&(this.tokens=e)}return t})(),Cx=(function(){function t(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[],this.isTruncated=!1}return t})();function Tx(t,e,r,n,i){var a=new Cx,o=Xh(t);if(!o)return a;var s=e.padding,l=s?s[1]+s[3]:0,u=s?s[0]+s[2]:0,p=e.width;p==null&&r!=null&&(p=r-l);var c=e.height;c==null&&n!=null&&(c=n-u);for(var h=e.overflow,v=(h==="break"||h==="breakAll")&&p!=null?{width:p,accumWidth:0,breakAll:h==="breakAll"}:null,m=dc.lastIndex=0,_;(_=dc.exec(o))!=null;){var y=_.index;y>m&&pc(a,o.substring(m,y),e,v),pc(a,_[2],e,v,_[1]),m=dc.lastIndex}m<o.length&&pc(a,o.substring(m,o.length),e,v);var b=[],C=0,M=0,L=h==="truncate",T=e.lineOverflow==="truncate",E={};function k(Qe,X,Oe){Qe.width=X,Qe.lineHeight=Oe,C+=Oe,M=Math.max(M,X)}e:for(var P=0;P<a.lines.length;P++){for(var D=a.lines[P],N=0,B=0,U=0;U<D.tokens.length;U++){var F=D.tokens[U],G=F.styleName&&e.rich[F.styleName]||{},Y=F.textPadding=G.padding,K=Y?Y[1]+Y[3]:0,ne=F.font=G.font||e.font;F.contentHeight=nu(ne);var te=ke(G.height,F.contentHeight);if(F.innerHeight=te,Y&&(te+=Y[0]+Y[2]),F.height=te,F.lineHeight=ya(G.lineHeight,e.lineHeight,te),F.align=G&&G.align||i,F.verticalAlign=G&&G.verticalAlign||"middle",T&&c!=null&&C+F.lineHeight>c){var ae=a.lines.length;U>0?(D.tokens=D.tokens.slice(0,U),k(D,B,N),a.lines=a.lines.slice(0,P+1)):a.lines=a.lines.slice(0,P),a.isTruncated=a.isTruncated||a.lines.length<ae;break e}var le=G.width,he=le==null||le==="auto";if(typeof le=="string"&&le.charAt(le.length-1)==="%")F.percentWidth=le,b.push(F),F.contentWidth=qr(jr(ne),F.text);else{if(he){var V=G.backgroundColor,Ce=V&&V.image;Ce&&(Ce=mx(Ce),ou(Ce)&&(F.width=Math.max(F.width,Ce.width*te/Ce.height)))}var Re=L&&p!=null?p-B:null;Re!=null&&Re<F.width?!he||Re<K?(F.text="",F.width=F.contentWidth=0):(yx(E,F.text,Re-K,ne,e.ellipsis,{minChar:e.truncateMinChar}),F.text=E.text,a.isTruncated=a.isTruncated||E.isTruncated,F.width=F.contentWidth=qr(jr(ne),F.text)):F.contentWidth=qr(jr(ne),F.text)}F.width+=K,B+=F.width,G&&(N=Math.max(N,F.lineHeight))}k(D,B,N)}a.outerWidth=a.width=ke(p,M),a.outerHeight=a.height=ke(c,C),a.contentHeight=C,a.contentWidth=M,a.outerWidth+=l,a.outerHeight+=u;for(var P=0;P<b.length;P++){var F=b[P],qe=F.percentWidth;F.width=parseInt(qe,10)/100*a.width}return a}function pc(t,e,r,n,i){var a=e==="",o=i&&r.rich[i]||{},s=t.lines,l=o.font||r.font,u=!1,p,c;if(n){var h=o.padding,v=h?h[1]+h[3]:0;if(o.width!=null&&o.width!=="auto"){var m=Di(o.width,n.width)+v;s.length>0&&m+n.accumWidth>n.width&&(p=e.split(`
`),u=!0),n.accumWidth=m}else{var _=y0(e,l,n.width,n.breakAll,n.accumWidth);n.accumWidth=_.accumWidth+v,c=_.linesWidths,p=_.lines}}p||(p=e.split(`
`));for(var y=jr(l),b=0;b<p.length;b++){var C=p[b],M=new Sx;if(M.styleName=i,M.text=C,M.isLineHolder=!C&&!a,typeof o.width=="number"?M.width=o.width:M.width=c?c[b]:qr(y,C),!b&&!u){var L=(s[s.length-1]||(s[0]=new Sv)).tokens,T=L.length;T===1&&L[0].isLineHolder?L[0]=M:(C||!T||a)&&L.push(M)}else s.push(new Sv([M]))}}function xx(t){var e=t.charCodeAt(0);return e>=32&&e<=591||e>=880&&e<=4351||e>=4608&&e<=5119||e>=7680&&e<=8303}var Mx=Aa(",&?/;] ".split(""),function(t,e){return t[e]=!0,t},{});function Lx(t){return xx(t)?!!Mx[t]:!0}function y0(t,e,r,n,i){for(var a=[],o=[],s="",l="",u=0,p=0,c=jr(e),h=0;h<t.length;h++){var v=t.charAt(h);if(v===`
`){l&&(s+=l,p+=u),a.push(s),o.push(p),s="",l="",u=0,p=0;continue}var m=Jy(c,v.charCodeAt(0)),_=n?!1:!Lx(v);if(a.length?p+m>r:i+p+m>r){p?(s||l)&&(_?(s||(s=l,l="",u=0,p=u),a.push(s),o.push(p-u),l+=v,u+=m,s="",p=u):(l&&(s+=l,l="",u=0),a.push(s),o.push(p),s=v,p=m)):_?(a.push(l),o.push(u),l=v,u=m):(a.push(v),o.push(m));continue}p+=m,_?(l+=v,u+=m):(l&&(s+=l,l="",u=0),s+=v)}return l&&(s+=l),s&&(a.push(s),o.push(p)),a.length===1&&(p+=i),{accumWidth:p,lines:a,linesWidths:o}}function Cv(t,e,r,n,i,a){if(t.baseX=r,t.baseY=n,t.outerWidth=t.outerHeight=null,!!e){var o=e.width*2,s=e.height*2;Be.set(Tv,Ca(r,o,i),Mi(n,s,a),o,s),Be.intersect(e,Tv,null,xv);var l=xv.outIntersectRect;t.outerWidth=l.width,t.outerHeight=l.height,t.baseX=Ca(l.x,l.width,i,!0),t.baseY=Mi(l.y,l.height,a,!0)}}var Tv=new Be(0,0,0,0),xv={outIntersectRect:{},clamp:!0};function Xh(t){return t!=null?t+="":t=""}function Ex(t){var e=Xh(t.text),r=t.font,n=qr(jr(r),e),i=nu(r);return Bf(t,n,i,null)}function Bf(t,e,r,n){var i=new Be(Ca(t.x||0,e,t.textAlign),Mi(t.y||0,r,t.textBaseline),e,r),a=n??(_0(t)?t.lineWidth:0);return a>0&&(i.x-=a/2,i.y-=a/2,i.width+=a,i.height+=a),i}function _0(t){var e=t.stroke;return e!=null&&e!=="none"&&t.lineWidth>0}var Hf="__zr_style_"+Math.round(Math.random()*10),Li={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},su={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};Li[Hf]=!0;var Mv=["z","z2","invisible"],Ax=["invisible"],Qo=(function(t){_e(e,t);function e(r){return t.call(this,r)||this}return e.prototype._init=function(r){for(var n=ft(r),i=0;i<n.length;i++){var a=n[i];a==="style"?this.useStyle(r[a]):t.prototype.attrKV.call(this,a,r[a])}this.style||this.useStyle({})},e.prototype.beforeBrush=function(){},e.prototype.afterBrush=function(){},e.prototype.innerBeforeBrush=function(){},e.prototype.innerAfterBrush=function(){},e.prototype.shouldBePainted=function(r,n,i,a){var o=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&kx(this,r,n)||o&&!o[0]&&!o[3])return!1;if(i&&this.__clipPaths&&this.__clipPaths.length){for(var s=0;s<this.__clipPaths.length;++s)if(this.__clipPaths[s].isZeroArea())return!1}if(a&&this.parent)for(var l=this.parent;l;){if(l.ignore)return!1;l=l.parent}return!0},e.prototype.contain=function(r,n){return this.rectContain(r,n)},e.prototype.traverse=function(r,n){r.call(n,this)},e.prototype.rectContain=function(r,n){var i=this.transformCoordToLocal(r,n),a=this.getBoundingRect();return a.contain(i[0],i[1])},e.prototype.getPaintRect=function(){var r=this._paintRect;if(!this._paintRect||this.__dirty){var n=this.transform,i=this.getBoundingRect(),a=this.style,o=a.shadowBlur||0,s=a.shadowOffsetX||0,l=a.shadowOffsetY||0;r=this._paintRect||(this._paintRect=new Be(0,0,0,0)),n?Be.applyTransform(r,i,n):r.copy(i),(o||s||l)&&(r.width+=o*2+Math.abs(s),r.height+=o*2+Math.abs(l),r.x=Math.min(r.x,r.x+s-o),r.y=Math.min(r.y,r.y+l-o));var u=this.dirtyRectTolerance;r.isZero()||(r.x=Math.floor(r.x-u),r.y=Math.floor(r.y-u),r.width=Math.ceil(r.width+1+u*2),r.height=Math.ceil(r.height+1+u*2))}return r},e.prototype.setPrevPaintRect=function(r){r?(this._prevPaintRect=this._prevPaintRect||new Be(0,0,0,0),this._prevPaintRect.copy(r)):this._prevPaintRect=null},e.prototype.getPrevPaintRect=function(){return this._prevPaintRect},e.prototype.animateStyle=function(r){return this.animate("style",r)},e.prototype.updateDuringAnimation=function(r){r==="style"?this.dirtyStyle():this.markRedraw()},e.prototype.attrKV=function(r,n){r!=="style"?t.prototype.attrKV.call(this,r,n):this.style?this.setStyle(n):this.useStyle(n)},e.prototype.setStyle=function(r,n){return typeof r=="string"?this.style[r]=n:pe(this.style,r),this.dirtyStyle(),this},e.prototype.dirtyStyle=function(r){r||this.markRedraw(),this.__dirty|=lo,this._rect&&(this._rect=null)},e.prototype.dirty=function(){this.dirtyStyle()},e.prototype.styleChanged=function(){return!!(this.__dirty&lo)},e.prototype.styleUpdated=function(){this.__dirty&=~lo},e.prototype.createStyle=function(r){return ru(Li,r)},e.prototype.useStyle=function(r){r[Hf]||(r=this.createStyle(r)),this.__inHover?this.__hoverStyle=r:this.style=r,this.dirtyStyle()},e.prototype.isStyleObject=function(r){return r[Hf]},e.prototype._innerSaveToNormal=function(r){t.prototype._innerSaveToNormal.call(this,r);var n=this._normalState;r.style&&!n.style&&(n.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(r,n,Mv)},e.prototype._applyStateObj=function(r,n,i,a,o,s){t.prototype._applyStateObj.call(this,r,n,i,a,o,s);var l=!(n&&a),u;if(n&&n.style?o?a?u=n.style:(u=this._mergeStyle(this.createStyle(),i.style),this._mergeStyle(u,n.style)):(u=this._mergeStyle(this.createStyle(),a?this.style:i.style),this._mergeStyle(u,n.style)):l&&(u=i.style),u)if(o){var p=this.style;if(this.style=this.createStyle(l?{}:p),l)for(var c=ft(p),h=0;h<c.length;h++){var v=c[h];v in u&&(u[v]=u[v],this.style[v]=p[v])}for(var m=ft(u),h=0;h<m.length;h++){var v=m[h];this.style[v]=this.style[v]}this._transitionState(r,{style:u},s,this.getAnimationStyleProps())}else this.useStyle(u);for(var _=this.__inHover?Ax:Mv,h=0;h<_.length;h++){var v=_[h];n&&n[v]!=null?this[v]=n[v]:l&&i[v]!=null&&(this[v]=i[v])}},e.prototype._mergeStates=function(r){for(var n=t.prototype._mergeStates.call(this,r),i,a=0;a<r.length;a++){var o=r[a];o.style&&(i=i||{},this._mergeStyle(i,o.style))}return i&&(n.style=i),n},e.prototype._mergeStyle=function(r,n){return pe(r,n),r},e.prototype.getAnimationStyleProps=function(){return su},e.initDefaultProps=(function(){var r=e.prototype;r.type="displayable",r.invisible=!1,r.z=0,r.z2=0,r.zlevel=0,r.culling=!1,r.cursor="pointer",r.rectHover=!1,r.incremental=!1,r._rect=null,r.dirtyRectTolerance=0,r.__dirty=ir|lo})(),e})(iu),vc=new Be(0,0,0,0),gc=new Be(0,0,0,0);function kx(t,e,r){return vc.copy(t.getBoundingRect()),t.transform&&vc.applyTransform(t.transform),gc.width=e,gc.height=r,!vc.intersect(gc)}var gr=Math.min,mr=Math.max,mc=Math.sin,yc=Math.cos,ri=Math.PI*2,Cs=ka(),Ts=ka(),xs=ka();function Lv(t,e,r,n,i,a){i[0]=gr(t,r),i[1]=gr(e,n),a[0]=mr(t,r),a[1]=mr(e,n)}var Ev=[],Av=[];function Dx(t,e,r,n,i,a,o,s,l,u){var p=jy,c=Ot,h=p(t,r,i,o,Ev);l[0]=1/0,l[1]=1/0,u[0]=-1/0,u[1]=-1/0;for(var v=0;v<h;v++){var m=c(t,r,i,o,Ev[v]);l[0]=gr(m,l[0]),u[0]=mr(m,u[0])}h=p(e,n,a,s,Av);for(var v=0;v<h;v++){var _=c(e,n,a,s,Av[v]);l[1]=gr(_,l[1]),u[1]=mr(_,u[1])}l[0]=gr(t,l[0]),u[0]=mr(t,u[0]),l[0]=gr(o,l[0]),u[0]=mr(o,u[0]),l[1]=gr(e,l[1]),u[1]=mr(e,u[1]),l[1]=gr(s,l[1]),u[1]=mr(s,u[1])}function Ix(t,e,r,n,i,a,o,s){var l=qy,u=Yt,p=mr(gr(l(t,r,i),1),0),c=mr(gr(l(e,n,a),1),0),h=u(t,r,i,p),v=u(e,n,a,c);o[0]=gr(t,i,h),o[1]=gr(e,a,v),s[0]=mr(t,i,h),s[1]=mr(e,a,v)}function Ox(t,e,r,n,i,a,o,s,l){var u=fa,p=ha,c=Math.abs(i-a);if(c%ri<1e-4&&c>1e-4){s[0]=t-r,s[1]=e-n,l[0]=t+r,l[1]=e+n;return}if(Cs[0]=yc(i)*r+t,Cs[1]=mc(i)*n+e,Ts[0]=yc(a)*r+t,Ts[1]=mc(a)*n+e,u(s,Cs,Ts),p(l,Cs,Ts),i=i%ri,i<0&&(i=i+ri),a=a%ri,a<0&&(a=a+ri),i>a&&!o?a+=ri:i<a&&o&&(i+=ri),o){var h=a;a=i,i=h}for(var v=0;v<a;v+=Math.PI/2)v>i&&(xs[0]=yc(v)*r+t,xs[1]=mc(v)*n+e,u(s,xs,s),p(l,xs,l))}var Ke={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},ni=[],ii=[],Pr=[],yn=[],Rr=[],Nr=[],_c=Math.min,bc=Math.max,ai=Math.cos,oi=Math.sin,rn=Math.abs,Ff=Math.PI,En=Ff*2,wc=typeof Float32Array<"u",ja=[];function Sc(t){var e=Math.round(t/Ff*1e8)/1e8;return e%2*Ff}function Px(t,e){var r=Sc(t[0]);r<0&&(r+=En);var n=r-t[0],i=t[1];i+=n,!e&&i-r>=En?i=r+En:e&&r-i>=En?i=r-En:!e&&r>i?i=r+(En-Sc(r-i)):e&&r<i&&(i=r-(En-Sc(i-r))),t[0]=r,t[1]=i}var Oi=(function(){function t(e){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,e&&(this._saveData=!1),this._saveData&&(this.data=[])}return t.prototype.increaseVersion=function(){this._version++},t.prototype.getVersion=function(){return this._version},t.prototype.setScale=function(e,r,n){n=n||0,n>0&&(this._ux=rn(n/Ll/e)||0,this._uy=rn(n/Ll/r)||0)},t.prototype.setDPR=function(e){this.dpr=e},t.prototype.setContext=function(e){this._ctx=e},t.prototype.getContext=function(){return this._ctx},t.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},t.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},t.prototype.moveTo=function(e,r){return this._drawPendingPt(),this.addData(Ke.M,e,r),this._ctx&&this._ctx.moveTo(e,r),this._x0=e,this._y0=r,this._xi=e,this._yi=r,this},t.prototype.lineTo=function(e,r){var n=rn(e-this._xi),i=rn(r-this._yi),a=n>this._ux||i>this._uy;if(this.addData(Ke.L,e,r),this._ctx&&a&&this._ctx.lineTo(e,r),a)this._xi=e,this._yi=r,this._pendingPtDist=0;else{var o=n*n+i*i;o>this._pendingPtDist&&(this._pendingPtX=e,this._pendingPtY=r,this._pendingPtDist=o)}return this},t.prototype.bezierCurveTo=function(e,r,n,i,a,o){return this._drawPendingPt(),this.addData(Ke.C,e,r,n,i,a,o),this._ctx&&this._ctx.bezierCurveTo(e,r,n,i,a,o),this._xi=a,this._yi=o,this},t.prototype.quadraticCurveTo=function(e,r,n,i){return this._drawPendingPt(),this.addData(Ke.Q,e,r,n,i),this._ctx&&this._ctx.quadraticCurveTo(e,r,n,i),this._xi=n,this._yi=i,this},t.prototype.arc=function(e,r,n,i,a,o){this._drawPendingPt(),ja[0]=i,ja[1]=a,Px(ja,o),i=ja[0],a=ja[1];var s=a-i;return this.addData(Ke.A,e,r,n,n,i,s,0,o?0:1),this._ctx&&this._ctx.arc(e,r,n,i,a,o),this._xi=ai(a)*n+e,this._yi=oi(a)*n+r,this},t.prototype.arcTo=function(e,r,n,i,a){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(e,r,n,i,a),this},t.prototype.rect=function(e,r,n,i){return this._drawPendingPt(),this._ctx&&this._ctx.rect(e,r,n,i),this.addData(Ke.R,e,r,n,i),this},t.prototype.closePath=function(){this._drawPendingPt(),this.addData(Ke.Z);var e=this._ctx,r=this._x0,n=this._y0;return e&&e.closePath(),this._xi=r,this._yi=n,this},t.prototype.fill=function(e){e&&e.fill(),this.toStatic()},t.prototype.stroke=function(e){e&&e.stroke(),this.toStatic()},t.prototype.len=function(){return this._len},t.prototype.setData=function(e){if(this._saveData){var r=e.length;!(this.data&&this.data.length===r)&&wc&&(this.data=new Float32Array(r));for(var n=0;n<r;n++)this.data[n]=e[n];this._len=r}},t.prototype.appendPath=function(e){if(this._saveData){e instanceof Array||(e=[e]);for(var r=e.length,n=0,i=this._len,a=0;a<r;a++)n+=e[a].len();var o=this.data;if(wc&&(o instanceof Float32Array||!o)&&(this.data=new Float32Array(i+n),i>0&&o))for(var s=0;s<i;s++)this.data[s]=o[s];for(var a=0;a<r;a++)for(var l=e[a].data,s=0;s<l.length;s++)this.data[i++]=l[s];this._len=i}},t.prototype.addData=function(e,r,n,i,a,o,s,l,u){if(this._saveData){var p=this.data;this._len+arguments.length>p.length&&(this._expandData(),p=this.data);for(var c=0;c<arguments.length;c++)p[this._len++]=arguments[c]}},t.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},t.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var e=[],r=0;r<this._len;r++)e[r]=this.data[r];this.data=e}},t.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var e=this.data;e instanceof Array&&(e.length=this._len,wc&&this._len>11&&(this.data=new Float32Array(e)))}},t.prototype.getBoundingRect=function(){Pr[0]=Pr[1]=Rr[0]=Rr[1]=Number.MAX_VALUE,yn[0]=yn[1]=Nr[0]=Nr[1]=-Number.MAX_VALUE;var e=this.data,r=0,n=0,i=0,a=0,o;for(o=0;o<this._len;){var s=e[o++],l=o===1;switch(l&&(r=e[o],n=e[o+1],i=r,a=n),s){case Ke.M:r=i=e[o++],n=a=e[o++],Rr[0]=i,Rr[1]=a,Nr[0]=i,Nr[1]=a;break;case Ke.L:Lv(r,n,e[o],e[o+1],Rr,Nr),r=e[o++],n=e[o++];break;case Ke.C:Dx(r,n,e[o++],e[o++],e[o++],e[o++],e[o],e[o+1],Rr,Nr),r=e[o++],n=e[o++];break;case Ke.Q:Ix(r,n,e[o++],e[o++],e[o],e[o+1],Rr,Nr),r=e[o++],n=e[o++];break;case Ke.A:var u=e[o++],p=e[o++],c=e[o++],h=e[o++],v=e[o++],m=e[o++]+v;o+=1;var _=!e[o++];l&&(i=ai(v)*c+u,a=oi(v)*h+p),Ox(u,p,c,h,v,m,_,Rr,Nr),r=ai(m)*c+u,n=oi(m)*h+p;break;case Ke.R:i=r=e[o++],a=n=e[o++];var y=e[o++],b=e[o++];Lv(i,a,i+y,a+b,Rr,Nr);break;case Ke.Z:r=i,n=a;break}fa(Pr,Pr,Rr),ha(yn,yn,Nr)}return o===0&&(Pr[0]=Pr[1]=yn[0]=yn[1]=0),new Be(Pr[0],Pr[1],yn[0]-Pr[0],yn[1]-Pr[1])},t.prototype._calculateLength=function(){var e=this.data,r=this._len,n=this._ux,i=this._uy,a=0,o=0,s=0,l=0;this._pathSegLen||(this._pathSegLen=[]);for(var u=this._pathSegLen,p=0,c=0,h=0;h<r;){var v=e[h++],m=h===1;m&&(a=e[h],o=e[h+1],s=a,l=o);var _=-1;switch(v){case Ke.M:a=s=e[h++],o=l=e[h++];break;case Ke.L:{var y=e[h++],b=e[h++],C=y-a,M=b-o;(rn(C)>n||rn(M)>i||h===r-1)&&(_=Math.sqrt(C*C+M*M),a=y,o=b);break}case Ke.C:{var L=e[h++],T=e[h++],y=e[h++],b=e[h++],E=e[h++],k=e[h++];_=QC(a,o,L,T,y,b,E,k,10),a=E,o=k;break}case Ke.Q:{var L=e[h++],T=e[h++],y=e[h++],b=e[h++];_=tT(a,o,L,T,y,b,10),a=y,o=b;break}case Ke.A:var P=e[h++],D=e[h++],N=e[h++],B=e[h++],U=e[h++],F=e[h++],G=F+U;h+=1,m&&(s=ai(U)*N+P,l=oi(U)*B+D),_=bc(N,B)*_c(En,Math.abs(F)),a=ai(G)*N+P,o=oi(G)*B+D;break;case Ke.R:{s=a=e[h++],l=o=e[h++];var Y=e[h++],K=e[h++];_=Y*2+K*2;break}case Ke.Z:{var C=s-a,M=l-o;_=Math.sqrt(C*C+M*M),a=s,o=l;break}}_>=0&&(u[c++]=_,p+=_)}return this._pathLen=p,p},t.prototype.rebuildPath=function(e,r){var n=this.data,i=this._ux,a=this._uy,o=this._len,s,l,u,p,c,h,v=r<1,m,_,y=0,b=0,C,M=0,L,T;if(!(v&&(this._pathSegLen||this._calculateLength(),m=this._pathSegLen,_=this._pathLen,C=r*_,!C)))e:for(var E=0;E<o;){var k=n[E++],P=E===1;switch(P&&(u=n[E],p=n[E+1],s=u,l=p),k!==Ke.L&&M>0&&(e.lineTo(L,T),M=0),k){case Ke.M:s=u=n[E++],l=p=n[E++],e.moveTo(u,p);break;case Ke.L:{c=n[E++],h=n[E++];var D=rn(c-u),N=rn(h-p);if(D>i||N>a){if(v){var B=m[b++];if(y+B>C){var U=(C-y)/B;e.lineTo(u*(1-U)+c*U,p*(1-U)+h*U);break e}y+=B}e.lineTo(c,h),u=c,p=h,M=0}else{var F=D*D+N*N;F>M&&(L=c,T=h,M=F)}break}case Ke.C:{var G=n[E++],Y=n[E++],K=n[E++],ne=n[E++],te=n[E++],ae=n[E++];if(v){var B=m[b++];if(y+B>C){var U=(C-y)/B;Tl(u,G,K,te,U,ni),Tl(p,Y,ne,ae,U,ii),e.bezierCurveTo(ni[1],ii[1],ni[2],ii[2],ni[3],ii[3]);break e}y+=B}e.bezierCurveTo(G,Y,K,ne,te,ae),u=te,p=ae;break}case Ke.Q:{var G=n[E++],Y=n[E++],K=n[E++],ne=n[E++];if(v){var B=m[b++];if(y+B>C){var U=(C-y)/B;xl(u,G,K,U,ni),xl(p,Y,ne,U,ii),e.quadraticCurveTo(ni[1],ii[1],ni[2],ii[2]);break e}y+=B}e.quadraticCurveTo(G,Y,K,ne),u=K,p=ne;break}case Ke.A:var le=n[E++],he=n[E++],V=n[E++],Ce=n[E++],Re=n[E++],qe=n[E++],Qe=n[E++],X=!n[E++],Oe=V>Ce?V:Ce,ie=rn(V-Ce)>.001,Z=Re+qe,me=!1;if(v){var B=m[b++];y+B>C&&(Z=Re+qe*(C-y)/B,me=!0),y+=B}if(ie&&e.ellipse?e.ellipse(le,he,V,Ce,Qe,Re,Z,X):e.arc(le,he,Oe,Re,Z,X),me)break e;P&&(s=ai(Re)*V+le,l=oi(Re)*Ce+he),u=ai(Z)*V+le,p=oi(Z)*Ce+he;break;case Ke.R:s=u=n[E],l=p=n[E+1],c=n[E++],h=n[E++];var W=n[E++],de=n[E++];if(v){var B=m[b++];if(y+B>C){var ue=C-y;e.moveTo(c,h),e.lineTo(c+_c(ue,W),h),ue-=W,ue>0&&e.lineTo(c+W,h+_c(ue,de)),ue-=de,ue>0&&e.lineTo(c+bc(W-ue,0),h+de),ue-=W,ue>0&&e.lineTo(c,h+bc(de-ue,0));break e}y+=B}e.rect(c,h,W,de);break;case Ke.Z:if(v){var B=m[b++];if(y+B>C){var U=(C-y)/B;e.lineTo(u*(1-U)+s*U,p*(1-U)+l*U);break e}y+=B}e.closePath(),u=s,p=l}}},t.prototype.clone=function(){var e=new t,r=this.data;return e.data=r.slice?r.slice():Array.prototype.slice.call(r),e._len=this._len,e},t.prototype.canSave=function(){return!!this._saveData},t.CMD=Ke,t.initDefaultProps=(function(){var e=t.prototype;e._saveData=!0,e._ux=0,e._uy=0,e._pendingPtDist=0,e._version=0})(),t})();function Zi(t,e,r,n,i,a,o){if(i===0)return!1;var s=i,l=0,u=t;if(o>e+s&&o>n+s||o<e-s&&o<n-s||a>t+s&&a>r+s||a<t-s&&a<r-s)return!1;if(t!==r)l=(e-n)/(t-r),u=(t*n-r*e)/(t-r);else return Math.abs(a-t)<=s/2;var p=l*a-o+u,c=p*p/(l*l+1);return c<=s/2*s/2}function Rx(t,e,r,n,i,a,o,s,l,u,p){if(l===0)return!1;var c=l;if(p>e+c&&p>n+c&&p>a+c&&p>s+c||p<e-c&&p<n-c&&p<a-c&&p<s-c||u>t+c&&u>r+c&&u>i+c&&u>o+c||u<t-c&&u<r-c&&u<i-c&&u<o-c)return!1;var h=ZC(t,e,r,n,i,a,o,s,u,p);return h<=c/2}function Nx(t,e,r,n,i,a,o,s,l){if(o===0)return!1;var u=o;if(l>e+u&&l>n+u&&l>a+u||l<e-u&&l<n-u&&l<a-u||s>t+u&&s>r+u&&s>i+u||s<t-u&&s<r-u&&s<i-u)return!1;var p=eT(t,e,r,n,i,a,s,l);return p<=u/2}var kv=Math.PI*2;function Ms(t){return t%=kv,t<0&&(t+=kv),t}var qa=Math.PI*2;function Bx(t,e,r,n,i,a,o,s,l){if(o===0)return!1;var u=o;s-=t,l-=e;var p=Math.sqrt(s*s+l*l);if(p-u>r||p+u<r)return!1;if(Math.abs(n-i)%qa<1e-4)return!0;if(a){var c=n;n=Ms(i),i=Ms(c)}else n=Ms(n),i=Ms(i);n>i&&(i+=qa);var h=Math.atan2(l,s);return h<0&&(h+=qa),h>=n&&h<=i||h+qa>=n&&h+qa<=i}function si(t,e,r,n,i,a){if(a>e&&a>n||a<e&&a<n||n===e)return 0;var o=(a-e)/(n-e),s=n<e?1:-1;(o===1||o===0)&&(s=n<e?.5:-.5);var l=o*(r-t)+t;return l===i?1/0:l>i?s:0}var _n=Oi.CMD,li=Math.PI*2,Hx=1e-4;function Fx(t,e){return Math.abs(t-e)<Hx}var Vt=[-1,-1,-1],pr=[-1,-1];function Vx(){var t=pr[0];pr[0]=pr[1],pr[1]=t}function zx(t,e,r,n,i,a,o,s,l,u){if(u>e&&u>n&&u>a&&u>s||u<e&&u<n&&u<a&&u<s)return 0;var p=Cl(e,n,a,s,u,Vt);if(p===0)return 0;for(var c=0,h=-1,v=void 0,m=void 0,_=0;_<p;_++){var y=Vt[_],b=y===0||y===1?.5:1,C=Ot(t,r,i,o,y);C<l||(h<0&&(h=jy(e,n,a,s,pr),pr[1]<pr[0]&&h>1&&Vx(),v=Ot(e,n,a,s,pr[0]),h>1&&(m=Ot(e,n,a,s,pr[1]))),h===2?y<pr[0]?c+=v<e?b:-b:y<pr[1]?c+=m<v?b:-b:c+=s<m?b:-b:y<pr[0]?c+=v<e?b:-b:c+=s<v?b:-b)}return c}function Ux(t,e,r,n,i,a,o,s){if(s>e&&s>n&&s>a||s<e&&s<n&&s<a)return 0;var l=JC(e,n,a,s,Vt);if(l===0)return 0;var u=qy(e,n,a);if(u>=0&&u<=1){for(var p=0,c=Yt(e,n,a,u),h=0;h<l;h++){var v=Vt[h]===0||Vt[h]===1?.5:1,m=Yt(t,r,i,Vt[h]);m<o||(Vt[h]<u?p+=c<e?v:-v:p+=a<c?v:-v)}return p}else{var v=Vt[0]===0||Vt[0]===1?.5:1,m=Yt(t,r,i,Vt[0]);return m<o?0:a<e?v:-v}}function Gx(t,e,r,n,i,a,o,s){if(s-=e,s>r||s<-r)return 0;var l=Math.sqrt(r*r-s*s);Vt[0]=-l,Vt[1]=l;var u=Math.abs(n-i);if(u<1e-4)return 0;if(u>=li-1e-4){n=0,i=li;var p=a?1:-1;return o>=Vt[0]+t&&o<=Vt[1]+t?p:0}if(n>i){var c=n;n=i,i=c}n<0&&(n+=li,i+=li);for(var h=0,v=0;v<2;v++){var m=Vt[v];if(m+t>o){var _=Math.atan2(s,m),p=a?1:-1;_<0&&(_=li+_),(_>=n&&_<=i||_+li>=n&&_+li<=i)&&(_>Math.PI/2&&_<Math.PI*1.5&&(p=-p),h+=p)}}return h}function b0(t,e,r,n,i){for(var a=t.data,o=t.len(),s=0,l=0,u=0,p=0,c=0,h,v,m=0;m<o;){var _=a[m++],y=m===1;switch(_===_n.M&&m>1&&(r||(s+=si(l,u,p,c,n,i))),y&&(l=a[m],u=a[m+1],p=l,c=u),_){case _n.M:p=a[m++],c=a[m++],l=p,u=c;break;case _n.L:if(r){if(Zi(l,u,a[m],a[m+1],e,n,i))return!0}else s+=si(l,u,a[m],a[m+1],n,i)||0;l=a[m++],u=a[m++];break;case _n.C:if(r){if(Rx(l,u,a[m++],a[m++],a[m++],a[m++],a[m],a[m+1],e,n,i))return!0}else s+=zx(l,u,a[m++],a[m++],a[m++],a[m++],a[m],a[m+1],n,i)||0;l=a[m++],u=a[m++];break;case _n.Q:if(r){if(Nx(l,u,a[m++],a[m++],a[m],a[m+1],e,n,i))return!0}else s+=Ux(l,u,a[m++],a[m++],a[m],a[m+1],n,i)||0;l=a[m++],u=a[m++];break;case _n.A:var b=a[m++],C=a[m++],M=a[m++],L=a[m++],T=a[m++],E=a[m++];m+=1;var k=!!(1-a[m++]);h=Math.cos(T)*M+b,v=Math.sin(T)*L+C,y?(p=h,c=v):s+=si(l,u,h,v,n,i);var P=(n-b)*L/M+b;if(r){if(Bx(b,C,L,T,T+E,k,e,P,i))return!0}else s+=Gx(b,C,L,T,T+E,k,P,i);l=Math.cos(T+E)*M+b,u=Math.sin(T+E)*L+C;break;case _n.R:p=l=a[m++],c=u=a[m++];var D=a[m++],N=a[m++];if(h=p+D,v=c+N,r){if(Zi(p,c,h,c,e,n,i)||Zi(h,c,h,v,e,n,i)||Zi(h,v,p,v,e,n,i)||Zi(p,v,p,c,e,n,i))return!0}else s+=si(h,c,h,v,n,i),s+=si(p,v,p,c,n,i);break;case _n.Z:if(r){if(Zi(l,u,p,c,e,n,i))return!0}else s+=si(l,u,p,c,n,i);l=p,u=c;break}}return!r&&!Fx(u,c)&&(s+=si(l,u,p,c,n,i)||0),s!==0}function Wx(t,e,r){return b0(t,0,!1,e,r)}function jx(t,e,r,n){return b0(t,e,!0,r,n)}var w0=tt({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},Li),qx={style:tt({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},su.style)},Cc=ko.concat(["invisible","culling","z","z2","zlevel","parent"]),at=(function(t){_e(e,t);function e(r){return t.call(this,r)||this}return e.prototype.update=function(){var r=this;t.prototype.update.call(this);var n=this.style;if(n.decal){var i=this._decalEl=this._decalEl||new e;i.buildPath===e.prototype.buildPath&&(i.buildPath=function(l){r.buildPath(l,r.shape)}),i.silent=!0;var a=i.style;for(var o in n)a[o]!==n[o]&&(a[o]=n[o]);a.fill=n.fill?n.decal:null,a.decal=null,a.shadowColor=null,n.strokeFirst&&(a.stroke=null);for(var s=0;s<Cc.length;++s)i[Cc[s]]=this[Cc[s]];i.__dirty|=ir}else this._decalEl&&(this._decalEl=null)},e.prototype.getDecalElement=function(){return this._decalEl},e.prototype._init=function(r){var n=ft(r);this.shape=this.getDefaultShape();var i=this.getDefaultStyle();i&&this.useStyle(i);for(var a=0;a<n.length;a++){var o=n[a],s=r[o];o==="style"?this.style?pe(this.style,s):this.useStyle(s):o==="shape"?pe(this.shape,s):t.prototype.attrKV.call(this,o,s)}this.style||this.useStyle({})},e.prototype.getDefaultStyle=function(){return null},e.prototype.getDefaultShape=function(){return{}},e.prototype.canBeInsideText=function(){return this.hasFill()},e.prototype.getInsideTextFill=function(){var r=this.style.fill;if(r!=="none"){if(xe(r)){var n=Ml(r,0);return n>.5?If:n>.2?ST:Of}else if(r)return Of}return If},e.prototype.getInsideTextStroke=function(r){var n=this.style.fill;if(xe(n)){var i=this.__zr,a=!!(i&&i.isDarkMode()),o=Ml(r,0)<Df;if(a===o)return n}},e.prototype.buildPath=function(r,n,i){},e.prototype.pathUpdated=function(){this.__dirty&=~ca},e.prototype.getUpdatedPathProxy=function(r){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,r),this.path},e.prototype.createPathProxy=function(){this.path=new Oi(!1)},e.prototype.hasStroke=function(){var r=this.style,n=r.stroke;return!(n==null||n==="none"||!(r.lineWidth>0))},e.prototype.hasFill=function(){var r=this.style,n=r.fill;return n!=null&&n!=="none"},e.prototype.getBoundingRect=function(){var r=this._rect,n=this.style,i=!r;if(i){var a=!1;this.path||(a=!0,this.createPathProxy());var o=this.path;(a||this.__dirty&ca)&&(o.beginPath(),this.buildPath(o,this.shape,!1),this.pathUpdated()),r=o.getBoundingRect()}if(this._rect=r,this.hasStroke()&&this.path&&this.path.len()>0){var s=this._rectStroke||(this._rectStroke=r.clone());if(this.__dirty||i){s.copy(r);var l=n.strokeNoScale?this.getLineScale():1,u=n.lineWidth;if(!this.hasFill()){var p=this.strokeContainThreshold;u=Math.max(u,p??4)}l>1e-10&&(s.width+=u/l,s.height+=u/l,s.x-=u/l/2,s.y-=u/l/2)}return s}return r},e.prototype.contain=function(r,n){var i=this.transformCoordToLocal(r,n),a=this.getBoundingRect(),o=this.style;if(r=i[0],n=i[1],a.contain(r,n)){var s=this.path;if(this.hasStroke()){var l=o.lineWidth,u=o.strokeNoScale?this.getLineScale():1;if(u>1e-10&&(this.hasFill()||(l=Math.max(l,this.strokeContainThreshold)),jx(s,l/u,r,n)))return!0}if(this.hasFill())return Wx(s,r,n)}return!1},e.prototype.dirtyShape=function(){this.__dirty|=ca,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},e.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},e.prototype.animateShape=function(r){return this.animate("shape",r)},e.prototype.updateDuringAnimation=function(r){r==="style"?this.dirtyStyle():r==="shape"?this.dirtyShape():this.markRedraw()},e.prototype.attrKV=function(r,n){r==="shape"?this.setShape(n):t.prototype.attrKV.call(this,r,n)},e.prototype.setShape=function(r,n){var i=this.shape;return i||(i=this.shape={}),typeof r=="string"?i[r]=n:pe(i,r),this.dirtyShape(),this},e.prototype.shapeChanged=function(){return!!(this.__dirty&ca)},e.prototype.createStyle=function(r){return ru(w0,r)},e.prototype._innerSaveToNormal=function(r){t.prototype._innerSaveToNormal.call(this,r);var n=this._normalState;r.shape&&!n.shape&&(n.shape=pe({},this.shape))},e.prototype._applyStateObj=function(r,n,i,a,o,s){t.prototype._applyStateObj.call(this,r,n,i,a,o,s);var l=!(n&&a),u;if(n&&n.shape?o?a?u=n.shape:(u=pe({},i.shape),pe(u,n.shape)):(u=pe({},a?this.shape:i.shape),pe(u,n.shape)):l&&(u=i.shape),u)if(o){this.shape=pe({},this.shape);for(var p={},c=ft(u),h=0;h<c.length;h++){var v=c[h];typeof u[v]=="object"?this.shape[v]=u[v]:p[v]=u[v]}this._transitionState(r,{shape:p},s)}else this.shape=u,this.dirtyShape()},e.prototype._mergeStates=function(r){for(var n=t.prototype._mergeStates.call(this,r),i,a=0;a<r.length;a++){var o=r[a];o.shape&&(i=i||{},this._mergeStyle(i,o.shape))}return i&&(n.shape=i),n},e.prototype.getAnimationStyleProps=function(){return qx},e.prototype.isZeroArea=function(){return!1},e.extend=function(r){var n=(function(a){_e(o,a);function o(s){var l=a.call(this,s)||this;return r.init&&r.init.call(l,s),l}return o.prototype.getDefaultStyle=function(){return je(r.style)},o.prototype.getDefaultShape=function(){return je(r.shape)},o})(e);for(var i in r)typeof r[i]=="function"&&(n.prototype[i]=r[i]);return n},e.initDefaultProps=(function(){var r=e.prototype;r.type="path",r.strokeContainThreshold=5,r.segmentIgnoreThreshold=0,r.subPixelOptimize=!1,r.autoBatch=!1,r.__dirty=ir|lo|ca})(),e})(Qo),$x=tt({strokeFirst:!0,font:Bn,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},w0),kl=(function(t){_e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.hasStroke=function(){return _0(this.style)},e.prototype.hasFill=function(){var r=this.style,n=r.fill;return n!=null&&n!=="none"},e.prototype.createStyle=function(r){return ru($x,r)},e.prototype.setBoundingRect=function(r){this._rect=r},e.prototype.getBoundingRect=function(){return this._rect||(this._rect=Ex(this.style)),this._rect},e.initDefaultProps=(function(){var r=e.prototype;r.dirtyRectTolerance=10})(),e})(Qo);kl.prototype.type="tspan";var Yx=tt({x:0,y:0},Li),Kx={style:tt({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},su.style)};function Xx(t){return!!(t&&typeof t!="string"&&t.width&&t.height)}var jn=(function(t){_e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createStyle=function(r){return ru(Yx,r)},e.prototype._getSize=function(r){var n=this.style,i=n[r];if(i!=null)return i;var a=Xx(n.image)?n.image:this.__image;if(!a)return 0;var o=r==="width"?"height":"width",s=n[o];return s==null?a[r]:a[r]/a[o]*s},e.prototype.getWidth=function(){return this._getSize("width")},e.prototype.getHeight=function(){return this._getSize("height")},e.prototype.getAnimationStyleProps=function(){return Kx},e.prototype.getBoundingRect=function(){var r=this.style;return this._rect||(this._rect=new Be(r.x||0,r.y||0,this.getWidth(),this.getHeight())),this._rect},e})(Qo);jn.prototype.type="image";function Zx(t,e){var r=e.x,n=e.y,i=e.width,a=e.height,o=e.r,s,l,u,p;i<0&&(r=r+i,i=-i),a<0&&(n=n+a,a=-a),typeof o=="number"?s=l=u=p=o:o instanceof Array?o.length===1?s=l=u=p=o[0]:o.length===2?(s=u=o[0],l=p=o[1]):o.length===3?(s=o[0],l=p=o[1],u=o[2]):(s=o[0],l=o[1],u=o[2],p=o[3]):s=l=u=p=0;var c;s+l>i&&(c=s+l,s*=i/c,l*=i/c),u+p>i&&(c=u+p,u*=i/c,p*=i/c),l+u>a&&(c=l+u,l*=a/c,u*=a/c),s+p>a&&(c=s+p,s*=a/c,p*=a/c),t.moveTo(r+s,n),t.lineTo(r+i-l,n),l!==0&&t.arc(r+i-l,n+l,l,-Math.PI/2,0),t.lineTo(r+i,n+a-u),u!==0&&t.arc(r+i-u,n+a-u,u,0,Math.PI/2),t.lineTo(r+p,n+a),p!==0&&t.arc(r+p,n+a-p,p,Math.PI/2,Math.PI),t.lineTo(r,n+s),s!==0&&t.arc(r+s,n+s,s,Math.PI,Math.PI*1.5)}var va=Math.round;function S0(t,e,r){if(e){var n=e.x1,i=e.x2,a=e.y1,o=e.y2;t.x1=n,t.x2=i,t.y1=a,t.y2=o;var s=r&&r.lineWidth;return s&&(va(n*2)===va(i*2)&&(t.x1=t.x2=Si(n,s,!0)),va(a*2)===va(o*2)&&(t.y1=t.y2=Si(a,s,!0))),t}}function C0(t,e,r){if(e){var n=e.x,i=e.y,a=e.width,o=e.height;t.x=n,t.y=i,t.width=a,t.height=o;var s=r&&r.lineWidth;return s&&(t.x=Si(n,s,!0),t.y=Si(i,s,!0),t.width=Math.max(Si(n+a,s,!1)-t.x,a===0?0:1),t.height=Math.max(Si(i+o,s,!1)-t.y,o===0?0:1)),t}}function Si(t,e,r){if(!e)return t;var n=va(t*2);return(n+va(e))%2===0?n/2:(n+(r?1:-1))/2}var Qx=(function(){function t(){this.x=0,this.y=0,this.width=0,this.height=0}return t})(),Jx={},St=(function(t){_e(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultShape=function(){return new Qx},e.prototype.buildPath=function(r,n){var i,a,o,s;if(this.subPixelOptimize){var l=C0(Jx,n,this.style);i=l.x,a=l.y,o=l.width,s=l.height,l.r=n.r,n=l}else i=n.x,a=n.y,o=n.width,s=n.height;n.r?Zx(r,n):r.rect(i,a,o,s)},e.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},e})(at);St.prototype.type="rect";var Dv={fill:"#000"},Iv=2,Br={},eM={style:tt({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},su.style)},Ht=(function(t){_e(e,t);function e(r){var n=t.call(this)||this;return n.type="text",n._children=[],n._defaultStyle=Dv,n.attr(r),n}return e.prototype.childrenRef=function(){return this._children},e.prototype.update=function(){t.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var r=0;r<this._children.length;r++){var n=this._children[r];n.zlevel=this.zlevel,n.z=this.z,n.z2=this.z2,n.culling=this.culling,n.cursor=this.cursor,n.invisible=this.invisible}},e.prototype.updateTransform=function(){var r=this.innerTransformable;r?(r.updateTransform(),r.transform&&(this.transform=r.transform)):t.prototype.updateTransform.call(this)},e.prototype.getLocalTransform=function(r){var n=this.innerTransformable;return n?n.getLocalTransform(r):t.prototype.getLocalTransform.call(this,r)},e.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),t.prototype.getComputedTransform.call(this)},e.prototype._updateSubTexts=function(){this._childCursor=0,aM(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},e.prototype.addSelfToZr=function(r){t.prototype.addSelfToZr.call(this,r);for(var n=0;n<this._children.length;n++)this._children[n].__zr=r},e.prototype.removeSelfFromZr=function(r){t.prototype.removeSelfFromZr.call(this,r);for(var n=0;n<this._children.length;n++)this._children[n].__zr=null},e.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var r=new Be(0,0,0,0),n=this._children,i=[],a=null,o=0;o<n.length;o++){var s=n[o],l=s.getBoundingRect(),u=s.getLocalTransform(i);u?(r.copy(l),r.applyTransform(u),a=a||r.clone(),a.union(r)):(a=a||l.clone(),a.union(l))}this._rect=a||r}return this._rect},e.prototype.setDefaultTextStyle=function(r){this._defaultStyle=r||Dv},e.prototype.setTextContent=function(r){},e.prototype._mergeStyle=function(r,n){if(!n)return r;var i=n.rich,a=r.rich||i&&{};return pe(r,n),i&&a?(this._mergeRich(a,i),r.rich=a):a&&(r.rich=a),r},e.prototype._mergeRich=function(r,n){for(var i=ft(n),a=0;a<i.length;a++){var o=i[a];r[o]=r[o]||{},pe(r[o],n[o])}},e.prototype.getAnimationStyleProps=function(){return eM},e.prototype._getOrCreateChild=function(r){var n=this._children[this._childCursor];return(!n||!(n instanceof r))&&(n=new r),this._children[this._childCursor++]=n,n.__zr=this.__zr,n.parent=this,n},e.prototype._updatePlainTexts=function(){var r=this.style,n=r.font||Bn,i=r.padding,a=this._defaultStyle,o=r.x||0,s=r.y||0,l=r.align||a.align||"left",u=r.verticalAlign||a.verticalAlign||"top";Cv(Br,a.overflowRect,o,s,l,u),o=Br.baseX,s=Br.baseY;var p=Fv(r),c=bx(p,r,Br.outerWidth,Br.outerHeight),h=Tc(r),v=!!r.backgroundColor,m=c.outerHeight,_=c.outerWidth,y=c.lines,b=c.lineHeight;this.isTruncated=!!c.isTruncated;var C=o,M=Mi(s,c.contentHeight,u);if(h||i){var L=Ca(o,_,l),T=Mi(s,m,u);h&&this._renderBackground(r,r,L,T,_,m)}M+=b/2,i&&(C=Hv(o,l,i),u==="top"?M+=i[0]:u==="bottom"&&(M-=i[2]));for(var E=0,k=!1,P=!1,D=Bv("fill"in r?r.fill:(P=!0,a.fill)),N=Nv("stroke"in r?r.stroke:!v&&(!a.autoStroke||P)?(E=Iv,k=!0,a.stroke):null),B=r.textShadowBlur>0,U=0;U<y.length;U++){var F=this._getOrCreateChild(kl),G=F.createStyle();F.useStyle(G),G.text=y[U],G.x=C,G.y=M,G.textAlign=l,G.textBaseline="middle",G.opacity=r.opacity,G.strokeFirst=!0,B&&(G.shadowBlur=r.textShadowBlur||0,G.shadowColor=r.textShadowColor||"transparent",G.shadowOffsetX=r.textShadowOffsetX||0,G.shadowOffsetY=r.textShadowOffsetY||0),G.stroke=N,G.fill=D,N&&(G.lineWidth=r.lineWidth||E,G.lineDash=r.lineDash,G.lineDashOffset=r.lineDashOffset||0),G.font=n,Pv(G,r),M+=b,F.setBoundingRect(Bf(G,c.contentWidth,c.calculatedLineHeight,k?0:null))}},e.prototype._updateRichTexts=function(){var r=this.style,n=this._defaultStyle,i=r.align||n.align,a=r.verticalAlign||n.verticalAlign,o=r.x||0,s=r.y||0;Cv(Br,n.overflowRect,o,s,i,a),o=Br.baseX,s=Br.baseY;var l=Fv(r),u=Tx(l,r,Br.outerWidth,Br.outerHeight,i),p=u.width,c=u.outerWidth,h=u.outerHeight,v=r.padding;this.isTruncated=!!u.isTruncated;var m=Ca(o,c,i),_=Mi(s,h,a),y=m,b=_;v&&(y+=v[3],b+=v[0]);var C=y+p;Tc(r)&&this._renderBackground(r,r,m,_,c,h);for(var M=!!r.backgroundColor,L=0;L<u.lines.length;L++){for(var T=u.lines[L],E=T.tokens,k=E.length,P=T.lineHeight,D=T.width,N=0,B=y,U=C,F=k-1,G=void 0;N<k&&(G=E[N],!G.align||G.align==="left");)this._placeToken(G,r,P,b,B,"left",M),D-=G.width,B+=G.width,N++;for(;F>=0&&(G=E[F],G.align==="right");)this._placeToken(G,r,P,b,U,"right",M),D-=G.width,U-=G.width,F--;for(B+=(p-(B-y)-(C-U)-D)/2;N<=F;)G=E[N],this._placeToken(G,r,P,b,B+G.width/2,"center",M),B+=G.width,N++;b+=P}},e.prototype._placeToken=function(r,n,i,a,o,s,l){var u=n.rich[r.styleName]||{};u.text=r.text;var p=r.verticalAlign,c=a+i/2;p==="top"?c=a+r.height/2:p==="bottom"&&(c=a+i-r.height/2);var h=!r.isLineHolder&&Tc(u);h&&this._renderBackground(u,n,s==="right"?o-r.width:s==="center"?o-r.width/2:o,c-r.height/2,r.width,r.height);var v=!!u.backgroundColor,m=r.textPadding;m&&(o=Hv(o,s,m),c-=r.height/2-m[0]-r.innerHeight/2);var _=this._getOrCreateChild(kl),y=_.createStyle();_.useStyle(y);var b=this._defaultStyle,C=!1,M=0,L=!1,T=Bv("fill"in u?u.fill:"fill"in n?n.fill:(C=!0,b.fill)),E=Nv("stroke"in u?u.stroke:"stroke"in n?n.stroke:!v&&!l&&(!b.autoStroke||C)?(M=Iv,L=!0,b.stroke):null),k=u.textShadowBlur>0||n.textShadowBlur>0;y.text=r.text,y.x=o,y.y=c,k&&(y.shadowBlur=u.textShadowBlur||n.textShadowBlur||0,y.shadowColor=u.textShadowColor||n.textShadowColor||"transparent",y.shadowOffsetX=u.textShadowOffsetX||n.textShadowOffsetX||0,y.shadowOffsetY=u.textShadowOffsetY||n.textShadowOffsetY||0),y.textAlign=s,y.textBaseline="middle",y.font=r.font||Bn,y.opacity=ya(u.opacity,n.opacity,1),Pv(y,u),E&&(y.lineWidth=ya(u.lineWidth,n.lineWidth,M),y.lineDash=ke(u.lineDash,n.lineDash),y.lineDashOffset=n.lineDashOffset||0,y.stroke=E),T&&(y.fill=T),_.setBoundingRect(Bf(y,r.contentWidth,r.contentHeight,L?0:null))},e.prototype._renderBackground=function(r,n,i,a,o,s){var l=r.backgroundColor,u=r.borderWidth,p=r.borderColor,c=l&&l.image,h=l&&!c,v=r.borderRadius,m=this,_,y;if(h||r.lineHeight||u&&p){_=this._getOrCreateChild(St),_.useStyle(_.createStyle()),_.style.fill=null;var b=_.shape;b.x=i,b.y=a,b.width=o,b.height=s,b.r=v,_.dirtyShape()}if(h){var C=_.style;C.fill=l||null,C.fillOpacity=ke(r.fillOpacity,1)}else if(c){y=this._getOrCreateChild(jn),y.onload=function(){m.dirtyStyle()};var M=y.style;M.image=l.image,M.x=i,M.y=a,M.width=o,M.height=s}if(u&&p){var C=_.style;C.lineWidth=u,C.stroke=p,C.strokeOpacity=ke(r.strokeOpacity,1),C.lineDash=r.borderDash,C.lineDashOffset=r.borderDashOffset||0,_.strokeContainThreshold=0,_.hasFill()&&_.hasStroke()&&(C.strokeFirst=!0,C.lineWidth*=2)}var L=(_||y).style;L.shadowBlur=r.shadowBlur||0,L.shadowColor=r.shadowColor||"transparent",L.shadowOffsetX=r.shadowOffsetX||0,L.shadowOffsetY=r.shadowOffsetY||0,L.opacity=ya(r.opacity,n.opacity,1)},e.makeFont=function(r){var n="";return iM(r)&&(n=[r.fontStyle,r.fontWeight,nM(r.fontSize),r.fontFamily||"sans-serif"].join(" ")),n&&zr(n)||r.textFont||r.font},e})(Qo),tM={left:!0,right:1,center:1},rM={top:1,bottom:1,middle:1},Ov=["fontStyle","fontWeight","fontSize","fontFamily"];function nM(t){return typeof t=="string"&&(t.indexOf("px")!==-1||t.indexOf("rem")!==-1||t.indexOf("em")!==-1)?t:isNaN(+t)?Rh+"px":t+"px"}function Pv(t,e){for(var r=0;r<Ov.length;r++){var n=Ov[r],i=e[n];i!=null&&(t[n]=i)}}function iM(t){return t.fontSize!=null||t.fontFamily||t.fontWeight}function aM(t){return Rv(t),z(t.rich,Rv),t}function Rv(t){if(t){t.font=Ht.makeFont(t);var e=t.align;e==="middle"&&(e="center"),t.align=e==null||tM[e]?e:"left";var r=t.verticalAlign;r==="center"&&(r="middle"),t.verticalAlign=r==null||rM[r]?r:"top";var n=t.padding;n&&(t.padding=Vh(t.padding))}}function Nv(t,e){return t==null||e<=0||t==="transparent"||t==="none"?null:t.image||t.colorStops?"#000":t}function Bv(t){return t==null||t==="none"?null:t.image||t.colorStops?"#000":t}function Hv(t,e,r){return e==="right"?t-r[1]:e==="center"?t+r[3]/2-r[1]/2:t+r[3]}function Fv(t){var e=t.text;return e!=null&&(e+=""),e}function Tc(t){return!!(t.backgroundColor||t.lineHeight||t.borderWidth&&t.borderColor)}var Xe=gt(),oM=function(t,e,r,n){if(n){var i=Xe(n);i.dataIndex=r,i.dataType=e,i.seriesIndex=t,i.ssrType="chart",n.type==="group"&&n.traverse(function(a){var o=Xe(a);o.seriesIndex=t,o.dataIndex=r,o.dataType=e,o.ssrType="chart"})}},Vv=1,zv={},T0=gt(),Zh=gt(),Qh=0,lu=1,uu=2,Xr=["emphasis","blur","select"],Uv=["normal","emphasis","blur","select"],sM=10,lM=9,Ei="highlight",ul="downplay",Dl="select",Vf="unselect",Il="toggleSelect",Jh="selectchanged";function Qi(t){return t!=null&&t!=="none"}function cu(t,e,r){t.onHoverStateChange&&(t.hoverState||0)!==r&&t.onHoverStateChange(e),t.hoverState=r}function x0(t){cu(t,"emphasis",uu)}function M0(t){t.hoverState===uu&&cu(t,"normal",Qh)}function ed(t){cu(t,"blur",lu)}function L0(t){t.hoverState===lu&&cu(t,"normal",Qh)}function uM(t){t.selected=!0}function cM(t){t.selected=!1}function Gv(t,e,r){e(t,r)}function pn(t,e,r){Gv(t,e,r),t.isGroup&&t.traverse(function(n){Gv(n,e,r)})}function Wv(t,e){switch(e){case"emphasis":t.hoverState=uu;break;case"normal":t.hoverState=Qh;break;case"blur":t.hoverState=lu;break;case"select":t.selected=!0}}function fM(t,e,r,n){for(var i=t.style,a={},o=0;o<e.length;o++){var s=e[o],l=i[s];a[s]=l??(n&&n[s])}for(var o=0;o<t.animators.length;o++){var u=t.animators[o];u.__fromStateTransition&&u.__fromStateTransition.indexOf(r)<0&&u.targetName==="style"&&u.saveTo(a,e)}return a}function hM(t,e,r,n){var i=r&&Ye(r,"select")>=0,a=!1;if(t instanceof at){var o=T0(t),s=i&&o.selectFill||o.normalFill,l=i&&o.selectStroke||o.normalStroke;if(Qi(s)||Qi(l)){n=n||{};var u=n.style||{};u.fill==="inherit"?(a=!0,n=pe({},n),u=pe({},u),u.fill=s):!Qi(u.fill)&&Qi(s)?(a=!0,n=pe({},n),u=pe({},u),u.fill=nv(s)):!Qi(u.stroke)&&Qi(l)&&(a||(n=pe({},n),u=pe({},u)),u.stroke=nv(l)),n.style=u}}if(n&&n.z2==null){a||(n=pe({},n));var p=t.z2EmphasisLift;n.z2=t.z2+(p??sM)}return n}function dM(t,e,r){if(r&&r.z2==null){r=pe({},r);var n=t.z2SelectLift;r.z2=t.z2+(n??lM)}return r}function pM(t,e,r){var n=Ye(t.currentStates,e)>=0,i=t.style.opacity,a=n?null:fM(t,["opacity"],e,{opacity:1});r=r||{};var o=r.style||{};return o.opacity==null&&(r=pe({},r),o=pe({opacity:n?i:a.opacity*.1},o),r.style=o),r}function xc(t,e){var r=this.states[t];if(this.style){if(t==="emphasis")return hM(this,t,e,r);if(t==="blur")return pM(this,t,r);if(t==="select")return dM(this,t,r)}return r}function vM(t){t.stateProxy=xc;var e=t.getTextContent(),r=t.getTextGuideLine();e&&(e.stateProxy=xc),r&&(r.stateProxy=xc)}function jv(t,e){!D0(t,e)&&!t.__highByOuter&&pn(t,x0)}function qv(t,e){!D0(t,e)&&!t.__highByOuter&&pn(t,M0)}function Ol(t,e){t.__highByOuter|=1<<(e||0),pn(t,x0)}function Pl(t,e){!(t.__highByOuter&=~(1<<(e||0)))&&pn(t,M0)}function gM(t){pn(t,ed)}function E0(t){pn(t,L0)}function A0(t){pn(t,uM)}function k0(t){pn(t,cM)}function D0(t,e){return t.__highDownSilentOnTouch&&e.zrByTouch}function I0(t){var e=t.getModel(),r=[],n=[];e.eachComponent(function(i,a){var o=Zh(a),s=i==="series",l=s?t.getViewOfSeriesModel(a):t.getViewOfComponentModel(a);!s&&n.push(l),o.isBlured&&(l.group.traverse(function(u){L0(u)}),s&&r.push(a)),o.isBlured=!1}),z(n,function(i){i&&i.toggleBlurSeries&&i.toggleBlurSeries(r,!1,e)})}function zf(t,e,r,n){var i=n.getModel();r=r||"coordinateSystem";function a(u,p){for(var c=0;c<p.length;c++){var h=u.getItemGraphicEl(p[c]);h&&E0(h)}}if(t!=null&&!(!e||e==="none")){var o=i.getSeriesByIndex(t),s=o.coordinateSystem;s&&s.master&&(s=s.master);var l=[];i.eachSeries(function(u){var p=o===u,c=u.coordinateSystem;c&&c.master&&(c=c.master);var h=c&&s?c===s:p;if(!(r==="series"&&!p||r==="coordinateSystem"&&!h||e==="series"&&p)){var v=n.getViewOfSeriesModel(u);if(v.group.traverse(function(y){y.__highByOuter&&p&&e==="self"||ed(y)}),Qt(e))a(u.getData(),e);else if(Ae(e))for(var m=ft(e),_=0;_<m.length;_++)a(u.getData(m[_]),e[m[_]]);l.push(u),Zh(u).isBlured=!0}}),i.eachComponent(function(u,p){if(u!=="series"){var c=n.getViewOfComponentModel(p);c&&c.toggleBlurSeries&&c.toggleBlurSeries(l,!0,i)}})}}function Uf(t,e,r){if(!(t==null||e==null)){var n=r.getModel().getComponent(t,e);if(n){Zh(n).isBlured=!0;var i=r.getViewOfComponentModel(n);!i||!i.focusBlurEnabled||i.group.traverse(function(a){ed(a)})}}}function mM(t,e,r){var n=t.seriesIndex,i=t.getData(e.dataType);if(i){var a=Ii(i,e);a=(be(a)?a[0]:a)||0;var o=i.getItemGraphicEl(a);if(!o)for(var s=i.count(),l=0;!o&&l<s;)o=i.getItemGraphicEl(l++);if(o){var u=Xe(o);zf(n,u.focus,u.blurScope,r)}else{var p=t.get(["emphasis","focus"]),c=t.get(["emphasis","blurScope"]);p!=null&&zf(n,p,c,r)}}}function td(t,e,r,n){var i={focusSelf:!1,dispatchers:null};if(t==null||t==="series"||e==null||r==null)return i;var a=n.getModel().getComponent(t,e);if(!a)return i;var o=n.getViewOfComponentModel(a);if(!o||!o.findHighDownDispatchers)return i;for(var s=o.findHighDownDispatchers(r),l,u=0;u<s.length;u++)if(Xe(s[u]).focus==="self"){l=!0;break}return{focusSelf:l,dispatchers:s}}function yM(t,e,r){var n=Xe(t),i=td(n.componentMainType,n.componentIndex,n.componentHighDownName,r),a=i.dispatchers,o=i.focusSelf;a?(o&&Uf(n.componentMainType,n.componentIndex,r),z(a,function(s){return jv(s,e)})):(zf(n.seriesIndex,n.focus,n.blurScope,r),n.focus==="self"&&Uf(n.componentMainType,n.componentIndex,r),jv(t,e))}function _M(t,e,r){I0(r);var n=Xe(t),i=td(n.componentMainType,n.componentIndex,n.componentHighDownName,r).dispatchers;i?z(i,function(a){return qv(a,e)}):qv(t,e)}function bM(t,e,r){if(qf(e)){var n=e.dataType,i=t.getData(n),a=Ii(i,e);be(a)||(a=[a]),t[e.type===Il?"toggleSelect":e.type===Dl?"select":"unselect"](a,n)}}function $v(t){var e=t.getAllData();z(e,function(r){var n=r.data,i=r.type;n.eachItemGraphicEl(function(a,o){t.isSelected(o,i)?A0(a):k0(a)})})}function wM(t){var e=[];return t.eachSeries(function(r){var n=r.getAllData();z(n,function(i){i.data;var a=i.type,o=r.getSelectedDataIndices();if(o.length>0){var s={dataIndex:o,seriesIndex:r.seriesIndex};a!=null&&(s.dataType=a),e.push(s)}})}),e}function Gf(t,e,r){O0(t,!0),pn(t,vM),CM(t,e,r)}function SM(t){O0(t,!1)}function Wf(t,e,r,n){n?SM(t):Gf(t,e,r)}function CM(t,e,r){var n=Xe(t);e!=null?(n.focus=e,n.blurScope=r):n.focus&&(n.focus=null)}var Yv=["emphasis","blur","select"],TM={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function Kv(t,e,r,n){r=r||"itemStyle";for(var i=0;i<Yv.length;i++){var a=Yv[i],o=e.getModel([a,r]),s=t.ensureState(a);s.style=o[TM[r]]()}}function O0(t,e){var r=e===!1,n=t;t.highDownSilentOnTouch&&(n.__highDownSilentOnTouch=t.highDownSilentOnTouch),(!r||n.__highDownDispatcher)&&(n.__highByOuter=n.__highByOuter||0,n.__highDownDispatcher=!r)}function jf(t){return!!(t&&t.__highDownDispatcher)}function xM(t){var e=zv[t];return e==null&&Vv<=32&&(e=zv[t]=Vv++),e}function qf(t){var e=t.type;return e===Dl||e===Vf||e===Il}function Xv(t){var e=t.type;return e===Ei||e===ul}function MM(t){var e=T0(t);e.normalFill=t.style.fill,e.normalStroke=t.style.stroke;var r=t.states.select||{};e.selectFill=r.style&&r.style.fill||null,e.selectStroke=r.style&&r.style.stroke||null}var Ji=Oi.CMD,LM=[[],[],[]],Zv=Math.sqrt,EM=Math.atan2;function AM(t,e){if(e){var r=t.data,n=t.len(),i,a,o,s,l,u,p=Ji.M,c=Ji.C,h=Ji.L,v=Ji.R,m=Ji.A,_=Ji.Q;for(o=0,s=0;o<n;){switch(i=r[o++],s=o,a=0,i){case p:a=1;break;case h:a=1;break;case c:a=3;break;case _:a=2;break;case m:var y=e[4],b=e[5],C=Zv(e[0]*e[0]+e[1]*e[1]),M=Zv(e[2]*e[2]+e[3]*e[3]),L=EM(-e[1]/M,e[0]/C);r[o]*=C,r[o++]+=y,r[o]*=M,r[o++]+=b,r[o++]*=C,r[o++]*=M,r[o++]+=L,r[o++]+=L,o+=2,s=o;break;case v:u[0]=r[o++],u[1]=r[o++],br(u,u,e),r[s++]=u[0],r[s++]=u[1],u[0]+=r[o++],u[1]+=r[o++],br(u,u,e),r[s++]=u[0],r[s++]=u[1]}for(l=0;l<a;l++){var T=LM[l];T[0]=r[o++],T[1]=r[o++],br(T,T,e),r[s++]=T[0],r[s++]=T[1]}}t.increaseVersion()}}var Mc=Math.sqrt,Ls=Math.sin,Es=Math.cos,$a=Math.PI;function Qv(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function $f(t,e){return(t[0]*e[0]+t[1]*e[1])/(Qv(t)*Qv(e))}function Jv(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos($f(t,e))}function eg(t,e,r,n,i,a,o,s,l,u,p){var c=l*($a/180),h=Es(c)*(t-r)/2+Ls(c)*(e-n)/2,v=-1*Ls(c)*(t-r)/2+Es(c)*(e-n)/2,m=h*h/(o*o)+v*v/(s*s);m>1&&(o*=Mc(m),s*=Mc(m));var _=(i===a?-1:1)*Mc((o*o*(s*s)-o*o*(v*v)-s*s*(h*h))/(o*o*(v*v)+s*s*(h*h)))||0,y=_*o*v/s,b=_*-s*h/o,C=(t+r)/2+Es(c)*y-Ls(c)*b,M=(e+n)/2+Ls(c)*y+Es(c)*b,L=Jv([1,0],[(h-y)/o,(v-b)/s]),T=[(h-y)/o,(v-b)/s],E=[(-1*h-y)/o,(-1*v-b)/s],k=Jv(T,E);if($f(T,E)<=-1&&(k=$a),$f(T,E)>=1&&(k=0),k<0){var P=Math.round(k/$a*1e6)/1e6;k=$a*2+P%2*$a}p.addData(u,C,M,o,s,L,k,c,a)}var kM=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,DM=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function IM(t){var e=new Oi;if(!t)return e;var r=0,n=0,i=r,a=n,o,s=Oi.CMD,l=t.match(kM);if(!l)return e;for(var u=0;u<l.length;u++){for(var p=l[u],c=p.charAt(0),h=void 0,v=p.match(DM)||[],m=v.length,_=0;_<m;_++)v[_]=parseFloat(v[_]);for(var y=0;y<m;){var b=void 0,C=void 0,M=void 0,L=void 0,T=void 0,E=void 0,k=void 0,P=r,D=n,N=void 0,B=void 0;switch(c){case"l":r+=v[y++],n+=v[y++],h=s.L,e.addData(h,r,n);break;case"L":r=v[y++],n=v[y++],h=s.L,e.addData(h,r,n);break;case"m":r+=v[y++],n+=v[y++],h=s.M,e.addData(h,r,n),i=r,a=n,c="l";break;case"M":r=v[y++],n=v[y++],h=s.M,e.addData(h,r,n),i=r,a=n,c="L";break;case"h":r+=v[y++],h=s.L,e.addData(h,r,n);break;case"H":r=v[y++],h=s.L,e.addData(h,r,n);break;case"v":n+=v[y++],h=s.L,e.addData(h,r,n);break;case"V":n=v[y++],h=s.L,e.addData(h,r,n);break;case"C":h=s.C,e.addData(h,v[y++],v[y++],v[y++],v[y++],v[y++],v[y++]),r=v[y-2],n=v[y-1];break;case"c":h=s.C,e.addData(h,v[y++]+r,v[y++]+n,v[y++]+r,v[y++]+n,v[y++]+r,v[y++]+n),r+=v[y-2],n+=v[y-1];break;case"S":b=r,C=n,N=e.len(),B=e.data,o===s.C&&(b+=r-B[N-4],C+=n-B[N-3]),h=s.C,P=v[y++],D=v[y++],r=v[y++],n=v[y++],e.addData(h,b,C,P,D,r,n);break;case"s":b=r,C=n,N=e.len(),B=e.data,o===s.C&&(b+=r-B[N-4],C+=n-B[N-3]),h=s.C,P=r+v[y++],D=n+v[y++],r+=v[y++],n+=v[y++],e.addData(h,b,C,P,D,r,n);break;case"Q":P=v[y++],D=v[y++],r=v[y++],n=v[y++],h=s.Q,e.addData(h,P,D,r,n);break;case"q":P=v[y++]+r,D=v[y++]+n,r+=v[y++],n+=v[y++],h=s.Q,e.addData(h,P,D,r,n);break;case"T":b=r,C=n,N=e.len(),B=e.data,o===s.Q&&(b+=r-B[N-4],C+=n-B[N-3]),r=v[y++],n=v[y++],h=s.Q,e.addData(h,b,C,r,n);break;case"t":b=r,C=n,N=e.len(),B=e.data,o===s.Q&&(b+=r-B[N-4],C+=n-B[N-3]),r+=v[y++],n+=v[y++],h=s.Q,e.addData(h,b,C,r,n);break;case"A":M=v[y++],L=v[y++],T=v[y++],E=v[y++],k=v[y++],P=r,D=n,r=v[y++],n=v[y++],h=s.A,eg(P,D,r,n,E,k,M,L,T,h,e);break;case"a":M=v[y++],L=v[y++],T=v[y++],E=v[y++],k=v[y++],P=r,D=n,r+=v[y++],n+=v[y++],h=s.A,eg(P,D,r,n,E,k,M,L,T,h,e);break}}(c==="z"||c==="Z")&&(h=s.Z,e.addData(h),r=i,n=a),o=h}return e.toStatic(),e}var P0=(function(t){_e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.applyTransform=function(r){},e})(at);function R0(t){return t.setData!=null}function N0(t,e){var r=IM(t),n=pe({},e);return n.buildPath=function(i){var a=R0(i);if(a&&i.canSave()){i.appendPath(r);var o=i.getContext();o&&i.rebuildPath(o,1)}else{var o=a?i.getContext():i;o&&r.rebuildPath(o,1)}},n.applyTransform=function(i){AM(r,i),this.dirtyShape()},n}function OM(t,e){return new P0(N0(t,e))}function PM(t,e){var r=N0(t,e),n=(function(i){_e(a,i);function a(o){var s=i.call(this,o)||this;return s.applyTransform=r.applyTransform,s.buildPath=r.buildPath,s}return a})(P0);return n}function RM(t,e){for(var r=[],n=t.length,i=0;i<n;i++){var a=t[i];r.push(a.getUpdatedPathProxy(!0))}var o=new at(e);return o.createPathProxy(),o.buildPath=function(s){if(R0(s)){s.appendPath(r);var l=s.getContext();l&&s.rebuildPath(l,1)}},o}var NM=(function(){function t(){this.cx=0,this.cy=0,this.r=0}return t})(),fu=(function(t){_e(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultShape=function(){return new NM},e.prototype.buildPath=function(r,n){r.moveTo(n.cx+n.r,n.cy),r.arc(n.cx,n.cy,n.r,0,Math.PI*2)},e})(at);fu.prototype.type="circle";var BM=(function(){function t(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return t})(),rd=(function(t){_e(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultShape=function(){return new BM},e.prototype.buildPath=function(r,n){var i=.5522848,a=n.cx,o=n.cy,s=n.rx,l=n.ry,u=s*i,p=l*i;r.moveTo(a-s,o),r.bezierCurveTo(a-s,o-p,a-u,o-l,a,o-l),r.bezierCurveTo(a+u,o-l,a+s,o-p,a+s,o),r.bezierCurveTo(a+s,o+p,a+u,o+l,a,o+l),r.bezierCurveTo(a-u,o+l,a-s,o+p,a-s,o),r.closePath()},e})(at);rd.prototype.type="ellipse";var B0=Math.PI,Lc=B0*2,ui=Math.sin,ea=Math.cos,HM=Math.acos,Nt=Math.atan2,tg=Math.abs,bo=Math.sqrt,co=Math.max,Hr=Math.min,Tr=1e-4;function FM(t,e,r,n,i,a,o,s){var l=r-t,u=n-e,p=o-i,c=s-a,h=c*l-p*u;if(!(h*h<Tr))return h=(p*(e-a)-c*(t-i))/h,[t+h*l,e+h*u]}function As(t,e,r,n,i,a,o){var s=t-r,l=e-n,u=(o?a:-a)/bo(s*s+l*l),p=u*l,c=-u*s,h=t+p,v=e+c,m=r+p,_=n+c,y=(h+m)/2,b=(v+_)/2,C=m-h,M=_-v,L=C*C+M*M,T=i-a,E=h*_-m*v,k=(M<0?-1:1)*bo(co(0,T*T*L-E*E)),P=(E*M-C*k)/L,D=(-E*C-M*k)/L,N=(E*M+C*k)/L,B=(-E*C+M*k)/L,U=P-y,F=D-b,G=N-y,Y=B-b;return U*U+F*F>G*G+Y*Y&&(P=N,D=B),{cx:P,cy:D,x0:-p,y0:-c,x1:P*(i/T-1),y1:D*(i/T-1)}}function VM(t){var e;if(be(t)){var r=t.length;if(!r)return t;r===1?e=[t[0],t[0],0,0]:r===2?e=[t[0],t[0],t[1],t[1]]:r===3?e=t.concat(t[2]):e=t}else e=[t,t,t,t];return e}function zM(t,e){var r,n=co(e.r,0),i=co(e.r0||0,0),a=n>0,o=i>0;if(!(!a&&!o)){if(a||(n=i,i=0),i>n){var s=n;n=i,i=s}var l=e.startAngle,u=e.endAngle;if(!(isNaN(l)||isNaN(u))){var p=e.cx,c=e.cy,h=!!e.clockwise,v=tg(u-l),m=v>Lc&&v%Lc;if(m>Tr&&(v=m),!(n>Tr))t.moveTo(p,c);else if(v>Lc-Tr)t.moveTo(p+n*ea(l),c+n*ui(l)),t.arc(p,c,n,l,u,!h),i>Tr&&(t.moveTo(p+i*ea(u),c+i*ui(u)),t.arc(p,c,i,u,l,h));else{var _=void 0,y=void 0,b=void 0,C=void 0,M=void 0,L=void 0,T=void 0,E=void 0,k=void 0,P=void 0,D=void 0,N=void 0,B=void 0,U=void 0,F=void 0,G=void 0,Y=n*ea(l),K=n*ui(l),ne=i*ea(u),te=i*ui(u),ae=v>Tr;if(ae){var le=e.cornerRadius;le&&(r=VM(le),_=r[0],y=r[1],b=r[2],C=r[3]);var he=tg(n-i)/2;if(M=Hr(he,b),L=Hr(he,C),T=Hr(he,_),E=Hr(he,y),D=k=co(M,L),N=P=co(T,E),(k>Tr||P>Tr)&&(B=n*ea(u),U=n*ui(u),F=i*ea(l),G=i*ui(l),v<B0)){var V=FM(Y,K,F,G,B,U,ne,te);if(V){var Ce=Y-V[0],Re=K-V[1],qe=B-V[0],Qe=U-V[1],X=1/ui(HM((Ce*qe+Re*Qe)/(bo(Ce*Ce+Re*Re)*bo(qe*qe+Qe*Qe)))/2),Oe=bo(V[0]*V[0]+V[1]*V[1]);D=Hr(k,(n-Oe)/(X+1)),N=Hr(P,(i-Oe)/(X-1))}}}if(!ae)t.moveTo(p+Y,c+K);else if(D>Tr){var ie=Hr(b,D),Z=Hr(C,D),me=As(F,G,Y,K,n,ie,h),W=As(B,U,ne,te,n,Z,h);t.moveTo(p+me.cx+me.x0,c+me.cy+me.y0),D<k&&ie===Z?t.arc(p+me.cx,c+me.cy,D,Nt(me.y0,me.x0),Nt(W.y0,W.x0),!h):(ie>0&&t.arc(p+me.cx,c+me.cy,ie,Nt(me.y0,me.x0),Nt(me.y1,me.x1),!h),t.arc(p,c,n,Nt(me.cy+me.y1,me.cx+me.x1),Nt(W.cy+W.y1,W.cx+W.x1),!h),Z>0&&t.arc(p+W.cx,c+W.cy,Z,Nt(W.y1,W.x1),Nt(W.y0,W.x0),!h))}else t.moveTo(p+Y,c+K),t.arc(p,c,n,l,u,!h);if(!(i>Tr)||!ae)t.lineTo(p+ne,c+te);else if(N>Tr){var ie=Hr(_,N),Z=Hr(y,N),me=As(ne,te,B,U,i,-Z,h),W=As(Y,K,F,G,i,-ie,h);t.lineTo(p+me.cx+me.x0,c+me.cy+me.y0),N<P&&ie===Z?t.arc(p+me.cx,c+me.cy,N,Nt(me.y0,me.x0),Nt(W.y0,W.x0),!h):(Z>0&&t.arc(p+me.cx,c+me.cy,Z,Nt(me.y0,me.x0),Nt(me.y1,me.x1),!h),t.arc(p,c,i,Nt(me.cy+me.y1,me.cx+me.x1),Nt(W.cy+W.y1,W.cx+W.x1),h),ie>0&&t.arc(p+W.cx,c+W.cy,ie,Nt(W.y1,W.x1),Nt(W.y0,W.x0),!h))}else t.lineTo(p+ne,c+te),t.arc(p,c,i,u,l,h)}t.closePath()}}}var UM=(function(){function t(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return t})(),hu=(function(t){_e(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultShape=function(){return new UM},e.prototype.buildPath=function(r,n){zM(r,n)},e.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},e})(at);hu.prototype.type="sector";var GM=(function(){function t(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return t})(),nd=(function(t){_e(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultShape=function(){return new GM},e.prototype.buildPath=function(r,n){var i=n.cx,a=n.cy,o=Math.PI*2;r.moveTo(i+n.r,a),r.arc(i,a,n.r,0,o,!1),r.moveTo(i+n.r0,a),r.arc(i,a,n.r0,0,o,!0)},e})(at);nd.prototype.type="ring";function WM(t,e,r,n){var i=[],a=[],o=[],s=[],l,u,p,c;if(n){p=[1/0,1/0],c=[-1/0,-1/0];for(var h=0,v=t.length;h<v;h++)fa(p,p,t[h]),ha(c,c,t[h]);fa(p,p,n[0]),ha(c,c,n[1])}for(var h=0,v=t.length;h<v;h++){var m=t[h];if(r)l=t[h?h-1:v-1],u=t[(h+1)%v];else if(h===0||h===v-1){i.push(gC(t[h]));continue}else l=t[h-1],u=t[h+1];mC(a,u,l),Wu(a,a,e);var _=vf(m,l),y=vf(m,u),b=_+y;b!==0&&(_/=b,y/=b),Wu(o,a,-_),Wu(s,a,y);var C=Vp([],m,o),M=Vp([],m,s);n&&(ha(C,C,p),fa(C,C,c),ha(M,M,p),fa(M,M,c)),i.push(C),i.push(M)}return r&&i.push(i.shift()),i}function H0(t,e,r){var n=e.smooth,i=e.points;if(i&&i.length>=2){if(n){var a=WM(i,n,r,e.smoothConstraint);t.moveTo(i[0][0],i[0][1]);for(var o=i.length,s=0;s<(r?o:o-1);s++){var l=a[s*2],u=a[s*2+1],p=i[(s+1)%o];t.bezierCurveTo(l[0],l[1],u[0],u[1],p[0],p[1])}}else{t.moveTo(i[0][0],i[0][1]);for(var s=1,c=i.length;s<c;s++)t.lineTo(i[s][0],i[s][1])}r&&t.closePath()}}var jM=(function(){function t(){this.points=null,this.smooth=0,this.smoothConstraint=null}return t})(),id=(function(t){_e(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultShape=function(){return new jM},e.prototype.buildPath=function(r,n){H0(r,n,!0)},e})(at);id.prototype.type="polygon";var qM=(function(){function t(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return t})(),ad=(function(t){_e(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new qM},e.prototype.buildPath=function(r,n){H0(r,n,!1)},e})(at);ad.prototype.type="polyline";var $M={},YM=(function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return t})(),Hn=(function(t){_e(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new YM},e.prototype.buildPath=function(r,n){var i,a,o,s;if(this.subPixelOptimize){var l=S0($M,n,this.style);i=l.x1,a=l.y1,o=l.x2,s=l.y2}else i=n.x1,a=n.y1,o=n.x2,s=n.y2;var u=n.percent;u!==0&&(r.moveTo(i,a),u<1&&(o=i*(1-u)+o*u,s=a*(1-u)+s*u),r.lineTo(o,s))},e.prototype.pointAt=function(r){var n=this.shape;return[n.x1*(1-r)+n.x2*r,n.y1*(1-r)+n.y2*r]},e})(at);Hn.prototype.type="line";var qt=[],KM=(function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return t})();function rg(t,e,r){var n=t.cpx2,i=t.cpy2;return n!=null||i!=null?[(r?Qp:Ot)(t.x1,t.cpx1,t.cpx2,t.x2,e),(r?Qp:Ot)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(r?Jp:Yt)(t.x1,t.cpx1,t.x2,e),(r?Jp:Yt)(t.y1,t.cpy1,t.y2,e)]}var od=(function(t){_e(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new KM},e.prototype.buildPath=function(r,n){var i=n.x1,a=n.y1,o=n.x2,s=n.y2,l=n.cpx1,u=n.cpy1,p=n.cpx2,c=n.cpy2,h=n.percent;h!==0&&(r.moveTo(i,a),p==null||c==null?(h<1&&(xl(i,l,o,h,qt),l=qt[1],o=qt[2],xl(a,u,s,h,qt),u=qt[1],s=qt[2]),r.quadraticCurveTo(l,u,o,s)):(h<1&&(Tl(i,l,p,o,h,qt),l=qt[1],p=qt[2],o=qt[3],Tl(a,u,c,s,h,qt),u=qt[1],c=qt[2],s=qt[3]),r.bezierCurveTo(l,u,p,c,o,s)))},e.prototype.pointAt=function(r){return rg(this.shape,r,!1)},e.prototype.tangentAt=function(r){var n=rg(this.shape,r,!0);return bC(n,n)},e})(at);od.prototype.type="bezier-curve";var XM=(function(){function t(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return t})(),du=(function(t){_e(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new XM},e.prototype.buildPath=function(r,n){var i=n.cx,a=n.cy,o=Math.max(n.r,0),s=n.startAngle,l=n.endAngle,u=n.clockwise,p=Math.cos(s),c=Math.sin(s);r.moveTo(p*o+i,c*o+a),r.arc(i,a,o,s,l,!u)},e})(at);du.prototype.type="arc";var ZM=(function(t){_e(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="compound",r}return e.prototype._updatePathDirty=function(){for(var r=this.shape.paths,n=this.shapeChanged(),i=0;i<r.length;i++)n=n||r[i].shapeChanged();n&&this.dirtyShape()},e.prototype.beforeBrush=function(){this._updatePathDirty();for(var r=this.shape.paths||[],n=this.getGlobalScale(),i=0;i<r.length;i++)r[i].path||r[i].createPathProxy(),r[i].path.setScale(n[0],n[1],r[i].segmentIgnoreThreshold)},e.prototype.buildPath=function(r,n){for(var i=n.paths||[],a=0;a<i.length;a++)i[a].buildPath(r,i[a].shape,!0)},e.prototype.afterBrush=function(){for(var r=this.shape.paths||[],n=0;n<r.length;n++)r[n].pathUpdated()},e.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),at.prototype.getBoundingRect.call(this)},e})(at),F0=(function(){function t(e){this.colorStops=e||[]}return t.prototype.addColorStop=function(e,r){this.colorStops.push({offset:e,color:r})},t})(),V0=(function(t){_e(e,t);function e(r,n,i,a,o,s){var l=t.call(this,o)||this;return l.x=r??0,l.y=n??0,l.x2=i??1,l.y2=a??0,l.type="linear",l.global=s||!1,l}return e})(F0),QM=(function(t){_e(e,t);function e(r,n,i,a,o){var s=t.call(this,a)||this;return s.x=r??.5,s.y=n??.5,s.r=i??.5,s.type="radial",s.global=o||!1,s}return e})(F0),Ec=Math.min,JM=Math.max,ks=Math.abs,ci=[0,0],fi=[0,0],Lt=Hy(),Ds=Lt.minTv,Is=Lt.maxTv,z0=(function(){function t(e,r){this._corners=[],this._axes=[],this._origin=[0,0];for(var n=0;n<4;n++)this._corners[n]=new nt;for(var n=0;n<2;n++)this._axes[n]=new nt;e&&this.fromBoundingRect(e,r)}return t.prototype.fromBoundingRect=function(e,r){var n=this._corners,i=this._axes,a=e.x,o=e.y,s=a+e.width,l=o+e.height;if(n[0].set(a,o),n[1].set(s,o),n[2].set(s,l),n[3].set(a,l),r)for(var u=0;u<4;u++)n[u].transform(r);nt.sub(i[0],n[1],n[0]),nt.sub(i[1],n[3],n[0]),i[0].normalize(),i[1].normalize();for(var u=0;u<2;u++)this._origin[u]=i[u].dot(n[0])},t.prototype.intersect=function(e,r,n){var i=!0,a=!r;return r&&nt.set(r,0,0),Lt.reset(n,!a),!this._intersectCheckOneSide(this,e,a,1)&&(i=!1,a)||!this._intersectCheckOneSide(e,this,a,-1)&&(i=!1,a)||!a&&!Lt.negativeSize&&nt.copy(r,i?Lt.useDir?Lt.dirMinTv:Ds:Is),i},t.prototype._intersectCheckOneSide=function(e,r,n,i){for(var a=!0,o=0;o<2;o++){var s=e._axes[o];if(e._getProjMinMaxOnAxis(o,e._corners,ci),e._getProjMinMaxOnAxis(o,r._corners,fi),Lt.negativeSize||ci[1]<fi[0]||ci[0]>fi[1]){if(a=!1,Lt.negativeSize||n)return a;var l=ks(fi[0]-ci[1]),u=ks(ci[0]-fi[1]);Ec(l,u)>Is.len()&&(l<u?nt.scale(Is,s,-l*i):nt.scale(Is,s,u*i))}else if(!n){var l=ks(fi[0]-ci[1]),u=ks(ci[0]-fi[1]);(Lt.useDir||Ec(l,u)<Ds.len())&&((l<u||!Lt.bidirectional)&&(nt.scale(Ds,s,l*i),Lt.useDir&&Lt.calcDirMTV()),(l>=u||!Lt.bidirectional)&&(nt.scale(Ds,s,-u*i),Lt.useDir&&Lt.calcDirMTV()))}}return a},t.prototype._getProjMinMaxOnAxis=function(e,r,n){for(var i=this._axes[e],a=this._origin,o=r[0].dot(i)+a[e],s=o,l=o,u=1;u<r.length;u++){var p=r[u].dot(i)+a[e];s=Ec(p,s),l=JM(p,l)}n[0]=s+Lt.touchThreshold,n[1]=l-Lt.touchThreshold,Lt.negativeSize=n[1]<n[0]},t})(),eL=[],tL=(function(t){_e(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.notClear=!0,r.incremental=!0,r._displayables=[],r._temporaryDisplayables=[],r._cursor=0,r}return e.prototype.traverse=function(r,n){r.call(n,this)},e.prototype.useStyle=function(){this.style={}},e.prototype.getCursor=function(){return this._cursor},e.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},e.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},e.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},e.prototype.addDisplayable=function(r,n){n?this._temporaryDisplayables.push(r):this._displayables.push(r),this.markRedraw()},e.prototype.addDisplayables=function(r,n){n=n||!1;for(var i=0;i<r.length;i++)this.addDisplayable(r[i],n)},e.prototype.getDisplayables=function(){return this._displayables},e.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},e.prototype.eachPendingDisplayable=function(r){for(var n=this._cursor;n<this._displayables.length;n++)r&&r(this._displayables[n]);for(var n=0;n<this._temporaryDisplayables.length;n++)r&&r(this._temporaryDisplayables[n])},e.prototype.update=function(){this.updateTransform();for(var r=this._cursor;r<this._displayables.length;r++){var n=this._displayables[r];n.parent=this,n.update(),n.parent=null}for(var r=0;r<this._temporaryDisplayables.length;r++){var n=this._temporaryDisplayables[r];n.parent=this,n.update(),n.parent=null}},e.prototype.getBoundingRect=function(){if(!this._rect){for(var r=new Be(1/0,1/0,-1/0,-1/0),n=0;n<this._displayables.length;n++){var i=this._displayables[n],a=i.getBoundingRect().clone();i.needLocalTransform()&&a.applyTransform(i.getLocalTransform(eL)),r.union(a)}this._rect=r}return this._rect},e.prototype.contain=function(r,n){var i=this.transformCoordToLocal(r,n),a=this.getBoundingRect();if(a.contain(i[0],i[1]))for(var o=0;o<this._displayables.length;o++){var s=this._displayables[o];if(s.contain(r,n))return!0}return!1},e})(Qo),rL=gt();function nL(t,e,r,n,i){var a;if(e&&e.ecModel){var o=e.ecModel.getUpdatePayload();a=o&&o.animation}var s=e&&e.isAnimationEnabled(),l=t==="update";if(s){var u=void 0,p=void 0,c=void 0;n?(u=ke(n.duration,200),p=ke(n.easing,"cubicOut"),c=0):(u=e.getShallow(l?"animationDurationUpdate":"animationDuration"),p=e.getShallow(l?"animationEasingUpdate":"animationEasing"),c=e.getShallow(l?"animationDelayUpdate":"animationDelay")),a&&(a.duration!=null&&(u=a.duration),a.easing!=null&&(p=a.easing),a.delay!=null&&(c=a.delay)),Ie(c)&&(c=c(r,i)),Ie(u)&&(u=u(r));var h={duration:u||0,delay:c,easing:p};return h}else return null}function sd(t,e,r,n,i,a,o){var s=!1,l;Ie(i)?(o=a,a=i,i=null):Ae(i)&&(a=i.cb,o=i.during,s=i.isFrom,l=i.removeOpt,i=i.dataIndex);var u=t==="leave";u||e.stopAnimation("leave");var p=nL(t,n,i,u?l||{}:null,n&&n.getAnimationDelayParams?n.getAnimationDelayParams(e,i):null);if(p&&p.duration>0){var c=p.duration,h=p.delay,v=p.easing,m={duration:c,delay:h||0,easing:v,done:a,force:!!a||!!o,setToFinal:!u,scope:t,during:o};s?e.animateFrom(r,m):e.animateTo(r,m)}else e.stopAnimation(),!s&&e.attr(r),o&&o(1),a&&a()}function Fn(t,e,r,n,i,a){sd("update",t,e,r,n,i,a)}function Jo(t,e,r,n,i,a){sd("enter",t,e,r,n,i,a)}function wo(t){if(!t.__zr)return!0;for(var e=0;e<t.animators.length;e++){var r=t.animators[e];if(r.scope==="leave")return!0}return!1}function Rl(t,e,r,n,i,a){wo(t)||sd("leave",t,e,r,n,i,a)}function ng(t,e,r,n){t.removeTextContent(),t.removeTextGuideLine(),Rl(t,{style:{opacity:0}},e,r,n)}function iL(t,e,r){function n(){t.parent&&t.parent.remove(t)}t.isGroup?t.traverse(function(i){i.isGroup||ng(i,e,r,n)}):ng(t,e,r,n)}function aL(t){rL(t).oldStyle=t.style}var Yf={},_i=["x","y"],Po=["width","height"];function oL(t){return at.extend(t)}var sL=PM;function lL(t,e){return sL(t,e)}function kr(t,e){Yf[t]=e}function uL(t){if(Yf.hasOwnProperty(t))return Yf[t]}function ld(t,e,r,n){var i=OM(t,e);return r&&(n==="center"&&(r=G0(r,i.getBoundingRect())),W0(i,r)),i}function U0(t,e,r){var n=new jn({style:{image:t,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(i){if(r==="center"){var a={width:i.width,height:i.height};n.setStyle(G0(e,a))}}});return n}function G0(t,e){var r=e.width/e.height,n=t.height*r,i;n<=t.width?i=t.height:(n=t.width,i=n/r);var a=t.x+t.width/2,o=t.y+t.height/2;return{x:a-n/2,y:o-i/2,width:n,height:i}}var cL=RM;function W0(t,e){if(t.applyTransform){var r=t.getBoundingRect(),n=r.calculateTransform(e);t.applyTransform(n)}}function Ro(t,e){return S0(t,t,{lineWidth:e}),t}function fL(t,e){return C0(t,t,e),t}var hL=Si;function dL(t,e){for(var r=Uh([]);t&&t!==e;)go(r,t.getLocalTransform(),r),t=t.parent;return r}function ud(t,e,r){return e&&!Qt(e)&&(e=jh.getLocalTransform(e)),r&&(e=Yo([],e)),br([],t,e)}function pL(t,e,r){var n=e[4]===0||e[5]===0||e[0]===0?1:Ur(2*e[4]/e[0]),i=e[4]===0||e[5]===0||e[2]===0?1:Ur(2*e[4]/e[2]),a=[t==="left"?-n:t==="right"?n:0,t==="top"?-i:t==="bottom"?i:0];return a=ud(a,e,r),Ur(a[0])>Ur(a[1])?a[0]>0?"right":"left":a[1]>0?"bottom":"top"}function ig(t){return!t.isGroup}function vL(t){return t.shape!=null}function j0(t,e,r){if(!t||!e)return;function n(o){var s={};return o.traverse(function(l){ig(l)&&l.anid&&(s[l.anid]=l)}),s}function i(o){var s={x:o.x,y:o.y,rotation:o.rotation};return vL(o)&&(s.shape=je(o.shape)),s}var a=n(t);e.traverse(function(o){if(ig(o)&&o.anid){var s=a[o.anid];if(s){var l=i(o);o.attr(i(s)),Fn(o,l,r,Xe(o).dataIndex)}}})}function gL(t,e){return De(t,function(r){var n=r[0];n=ar(n,e.x),n=Do(n,e.x+e.width);var i=r[1];return i=ar(i,e.y),i=Do(i,e.y+e.height),[n,i]})}function mL(t,e){var r=ar(t.x,e.x),n=Do(t.x+t.width,e.x+e.width),i=ar(t.y,e.y),a=Do(t.y+t.height,e.y+e.height);if(n>=r&&a>=i)return{x:r,y:i,width:n-r,height:a-i}}function cd(t,e,r){var n=pe({rectHover:!0},e),i=n.style={strokeNoScale:!0};if(r=r||{x:-1,y:-1,width:2,height:2},t)return t.indexOf("image://")===0?(i.image=t.slice(8),tt(i,r),new jn(n)):ld(t.replace("path://",""),n,r,"center")}function yL(t,e,r,n,i){for(var a=0,o=i[i.length-1];a<i.length;a++){var s=i[a];if(q0(t,e,r,n,s[0],s[1],o[0],o[1]))return!0;o=s}}function q0(t,e,r,n,i,a,o,s){var l=r-t,u=n-e,p=o-i,c=s-a,h=Ac(p,c,l,u);if(_L(h))return!1;var v=t-i,m=e-a,_=Ac(v,m,l,u)/h;if(_<0||_>1)return!1;var y=Ac(v,m,p,c)/h;return!(y<0||y>1)}function Ac(t,e,r,n){return t*n-r*e}function _L(t){return t<=1e-6&&t>=-1e-6}function Nl(t,e,r,n,i){return e==null||(ct(e)?lt[0]=lt[1]=lt[2]=lt[3]=e:(lt[0]=e[0],lt[1]=e[1],lt[2]=e[2],lt[3]=e[3]),n&&(lt[0]=ar(0,lt[0]),lt[1]=ar(0,lt[1]),lt[2]=ar(0,lt[2]),lt[3]=ar(0,lt[3])),r&&(lt[0]=-lt[0],lt[1]=-lt[1],lt[2]=-lt[2],lt[3]=-lt[3]),ag(t,lt,"x","width",3,1,i&&i[0]||0),ag(t,lt,"y","height",0,2,i&&i[1]||0)),t}var lt=[0,0,0,0];function ag(t,e,r,n,i,a,o){var s=e[a]+e[i],l=t[n];t[n]+=s,o=ar(0,Do(o,l)),t[n]<o?(t[n]=o,t[r]+=e[i]>=0?-e[i]:e[a]>=0?l+e[a]:Ur(s)>1e-8?(l-o)*e[i]/s:0):t[r]-=e[i]}function pu(t){var e=t.itemTooltipOption,r=t.componentModel,n=t.itemName,i=xe(e)?{formatter:e}:e,a=r.mainType,o=r.componentIndex,s={componentType:a,name:n,$vars:["name"]};s[a+"Index"]=o;var l=t.formatterParamsExtra;l&&z(ft(l),function(p){Lr(s,p)||(s[p]=l[p],s.$vars.push(p))});var u=Xe(t.el);u.componentMainType=a,u.componentIndex=o,u.tooltipConfig={name:n,option:tt({content:n,encodeHTMLContent:!0,formatterParams:s},i)}}function Kf(t,e){var r;t.isGroup&&(r=e(t)),r||t.traverse(e)}function fd(t,e){if(t)if(be(t))for(var r=0;r<t.length;r++)Kf(t[r],e);else Kf(t,e)}function hd(t){return!t||Ur(t[1])<Os&&Ur(t[2])<Os||Ur(t[0])<Os&&Ur(t[3])<Os}var Os=1e-5;function No(t,e){return t?Be.copy(t,e):e.clone()}function dd(t,e){return e?By(t||fn(),e):void 0}function $0(t){return{z:t.get("z")||0,zlevel:t.get("zlevel")||0}}function bL(t){var e=-1/0,r=1/0;Kf(t,function(a){n(a),n(a.getTextContent()),n(a.getTextGuideLine())});function n(a){if(!(!a||a.isGroup)){var o=a.currentStates;if(o.length)for(var s=0;s<o.length;s++)i(a.states[o[s]]);i(a)}}function i(a){if(a){var o=a.z2;o>e&&(e=o),o<r&&(r=o)}}return r>e&&(r=e=0),{min:r,max:e}}function Y0(t,e,r){K0(t,e,r,-1/0)}function K0(t,e,r,n){if(t.ignoreModelZ)return n;var i=t.getTextContent(),a=t.getTextGuideLine(),o=t.isGroup;if(o)for(var s=t.childrenRef(),l=0;l<s.length;l++)n=ar(K0(s[l],e,r,n),n);else t.z=e,t.zlevel=r,n=ar(t.z2||0,n);if(i&&(i.z=e,i.zlevel=r,isFinite(n)&&(i.z2=n+2)),a){var u=t.textGuideLineConfig;a.z=e,a.zlevel=r,isFinite(n)&&(a.z2=n+(u&&u.showAbove?1:-1))}return n}kr("circle",fu);kr("ellipse",rd);kr("sector",hu);kr("ring",nd);kr("polygon",id);kr("polyline",ad);kr("rect",St);kr("line",Hn);kr("bezierCurve",od);kr("arc",du);const wL=Object.freeze(Object.defineProperty({__proto__:null,Arc:du,BezierCurve:od,BoundingRect:Be,Circle:fu,CompoundPath:ZM,Ellipse:rd,Group:Rt,Image:jn,IncrementalDisplayable:tL,Line:Hn,LinearGradient:V0,OrientedBoundingRect:z0,Path:at,Point:nt,Polygon:id,Polyline:ad,RadialGradient:QM,Rect:St,Ring:nd,Sector:hu,Text:Ht,WH:Po,XY:_i,applyTransform:ud,calcZ2Range:bL,clipPointsByRect:gL,clipRectByRect:mL,createIcon:cd,ensureCopyRect:No,ensureCopyTransform:dd,expandOrShrinkRect:Nl,extendPath:lL,extendShape:oL,getShapeClass:uL,getTransform:dL,groupTransition:j0,initProps:Jo,isBoundingRectAxisAligned:hd,isElementRemoved:wo,lineLineIntersect:q0,linePolygonIntersect:yL,makeImage:U0,makePath:ld,mergePath:cL,registerShape:kr,removeElement:Rl,removeElementWithFadeOut:iL,resizePath:W0,retrieveZInfo:$0,setTooltipConfig:pu,subPixelOptimize:hL,subPixelOptimizeLine:Ro,subPixelOptimizeRect:fL,transformDirection:pL,traverseElements:fd,traverseUpdateZ:Y0,updateProps:Fn},Symbol.toStringTag,{value:"Module"}));var vu={};function SL(t,e){for(var r=0;r<Xr.length;r++){var n=Xr[r],i=e[n],a=t.ensureState(n);a.style=a.style||{},a.style.text=i}var o=t.currentStates.slice();t.clearStates(!0),t.setStyle({text:e.normal}),t.useStates(o,!0)}function og(t,e,r){var n=t.labelFetcher,i=t.labelDataIndex,a=t.labelDimIndex,o=e.normal,s;n&&(s=n.getFormattedLabel(i,"normal",null,a,o&&o.get("formatter"),r!=null?{interpolatedValue:r}:null)),s==null&&(s=Ie(t.defaultText)?t.defaultText(i,t,r):t.defaultText);for(var l={normal:s},u=0;u<Xr.length;u++){var p=Xr[u],c=e[p];l[p]=ke(n?n.getFormattedLabel(i,p,null,a,c&&c.get("formatter")):null,s)}return l}function pd(t,e,r,n){r=r||vu;for(var i=t instanceof Ht,a=!1,o=0;o<Uv.length;o++){var s=e[Uv[o]];if(s&&s.getShallow("show")){a=!0;break}}var l=i?t:t.getTextContent();if(a){i||(l||(l=new Ht,t.setTextContent(l)),t.stateProxy&&(l.stateProxy=t.stateProxy));var u=og(r,e),p=e.normal,c=!!p.getShallow("show"),h=Vn(p,n&&n.normal,r,!1,!i);h.text=u.normal,i||t.setTextConfig(sg(p,r,!1));for(var o=0;o<Xr.length;o++){var v=Xr[o],s=e[v];if(s){var m=l.ensureState(v),_=!!ke(s.getShallow("show"),c);if(_!==c&&(m.ignore=!_),m.style=Vn(s,n&&n[v],r,!0,!i),m.style.text=u[v],!i){var y=t.ensureState(v);y.textConfig=sg(s,r,!0)}}}l.silent=!!p.getShallow("silent"),l.style.x!=null&&(h.x=l.style.x),l.style.y!=null&&(h.y=l.style.y),l.ignore=!c,l.useStyle(h),l.dirty(),r.enableTextSetter&&(X0(l).setLabelText=function(b){var C=og(r,e,b);SL(l,C)})}else l&&(l.ignore=!0);t.dirty()}function vd(t,e){e=e||"label";for(var r={normal:t.getModel(e)},n=0;n<Xr.length;n++){var i=Xr[n];r[i]=t.getModel([i,e])}return r}function Vn(t,e,r,n,i){var a={};return CL(a,t,r,n,i),e&&pe(a,e),a}function sg(t,e,r){e=e||{};var n={},i,a=t.getShallow("rotate"),o=ke(t.getShallow("distance"),r?null:5),s=t.getShallow("offset");return i=t.getShallow("position")||(r?null:"inside"),i==="outside"&&(i=e.defaultOutsidePosition||"top"),i!=null&&(n.position=i),s!=null&&(n.offset=s),a!=null&&(a*=Math.PI/180,n.rotation=a),o!=null&&(n.distance=o),n.outsideFill=t.get("color")==="inherit"?e.inheritColor||null:"auto",e.autoOverflowArea!=null&&(n.autoOverflowArea=e.autoOverflowArea),e.layoutRect!=null&&(n.layoutRect=e.layoutRect),n}function CL(t,e,r,n,i){r=r||vu;var a=e.ecModel,o=a&&a.option.textStyle,s=TL(e),l;if(s){l={};var u="richInheritPlainLabel",p=ke(e.get(u),a?a.get(u):void 0);for(var c in s)if(s.hasOwnProperty(c)){var h=e.getModel(["rich",c]);fg(l[c]={},h,o,e,p,r,n,i,!1,!0)}}l&&(t.rich=l);var v=e.get("overflow");v&&(t.overflow=v);var m=e.get("lineOverflow");m&&(t.lineOverflow=m);var _=t,y=e.get("minMargin");if(y!=null)y=ct(y)?y/2:0,_.margin=[y,y,y,y],_.__marginType=ga.minMargin;else{var b=e.get("textMargin");b!=null&&(_.margin=Vh(b),_.__marginType=ga.textMargin)}fg(t,e,o,null,null,r,n,i,!0,!1)}function TL(t){for(var e;t&&t!==t.ecModel;){var r=(t.option||vu).rich;if(r){e=e||{};for(var n=ft(r),i=0;i<n.length;i++){var a=n[i];e[a]=1}}t=t.parentModel}return e}var lg=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],ug=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],cg=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function fg(t,e,r,n,i,a,o,s,l,u){r=!o&&r||vu;var p=a&&a.inheritColor,c=e.getShallow("color"),h=e.getShallow("textBorderColor"),v=ke(e.getShallow("opacity"),r.opacity);(c==="inherit"||c==="auto")&&(p?c=p:c=null),(h==="inherit"||h==="auto")&&(p?h=p:h=null),s||(c=c||r.color,h=h||r.textBorderColor),c!=null&&(t.fill=c),h!=null&&(t.stroke=h);var m=ke(e.getShallow("textBorderWidth"),r.textBorderWidth);m!=null&&(t.lineWidth=m);var _=ke(e.getShallow("textBorderType"),r.textBorderType);_!=null&&(t.lineDash=_);var y=ke(e.getShallow("textBorderDashOffset"),r.textBorderDashOffset);y!=null&&(t.lineDashOffset=y),!o&&v==null&&!u&&(v=a&&a.defaultOpacity),v!=null&&(t.opacity=v),!o&&!s&&t.fill==null&&a.inheritColor&&(t.fill=a.inheritColor);for(var b=0;b<lg.length;b++){var C=lg[b],M=i!==!1&&n?ya(e.getShallow(C),n.getShallow(C),r[C]):ke(e.getShallow(C),r[C]);M!=null&&(t[C]=M)}for(var b=0;b<ug.length;b++){var C=ug[b],M=e.getShallow(C);M!=null&&(t[C]=M)}if(t.verticalAlign==null){var L=e.getShallow("baseline");L!=null&&(t.verticalAlign=L)}if(!l||!a.disableBox){for(var b=0;b<cg.length;b++){var C=cg[b],M=e.getShallow(C);M!=null&&(t[C]=M)}var T=e.getShallow("borderType");T!=null&&(t.borderDash=T),(t.backgroundColor==="auto"||t.backgroundColor==="inherit")&&p&&(t.backgroundColor=p),(t.borderColor==="auto"||t.borderColor==="inherit")&&p&&(t.borderColor=p)}}function xL(t,e){var r=e&&e.getModel("textStyle");return zr([t.fontStyle||r&&r.getShallow("fontStyle")||"",t.fontWeight||r&&r.getShallow("fontWeight")||"",(t.fontSize||r&&r.getShallow("fontSize")||12)+"px",t.fontFamily||r&&r.getShallow("fontFamily")||"sans-serif"].join(" "))}var X0=gt(),ga={minMargin:1,textMargin:2},ML=["textStyle","color"],kc=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],Dc=new Ht,LL=(function(){function t(){}return t.prototype.getTextColor=function(e){var r=this.ecModel;return this.getShallow("color")||(!e&&r?r.get(ML):null)},t.prototype.getFont=function(){return xL({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},t.prototype.getTextRect=function(e){for(var r={text:e,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},n=0;n<kc.length;n++)r[kc[n]]=this.getShallow(kc[n]);return Dc.useStyle(r),Dc.update(),Dc.getBoundingRect()},t})(),Z0=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],EL=Oo(Z0),AL=(function(){function t(){}return t.prototype.getLineStyle=function(e){return EL(this,e)},t})(),Q0=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],kL=Oo(Q0),DL=(function(){function t(){}return t.prototype.getItemStyle=function(e,r){return kL(this,e,r)},t})(),pt=(function(){function t(e,r,n){this.parentModel=r,this.ecModel=n,this.option=e}return t.prototype.init=function(e,r,n){},t.prototype.mergeOption=function(e,r){Ze(this.option,e,!0)},t.prototype.get=function(e,r){return e==null?this.option:this._doGet(this.parsePath(e),!r&&this.parentModel)},t.prototype.getShallow=function(e,r){var n=this.option,i=n==null?n:n[e];if(i==null&&!r){var a=this.parentModel;a&&(i=a.getShallow(e))}return i},t.prototype.getModel=function(e,r){var n=e!=null,i=n?this.parsePath(e):null,a=n?this._doGet(i):this.option;return r=r||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(i)),new t(a,r,this.ecModel)},t.prototype.isEmpty=function(){return this.option==null},t.prototype.restoreData=function(){},t.prototype.clone=function(){var e=this.constructor;return new e(je(this.option))},t.prototype.parsePath=function(e){return typeof e=="string"?e.split("."):e},t.prototype.resolveParentPath=function(e){return e},t.prototype.isAnimationEnabled=function(){if(!Pe.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},t.prototype._doGet=function(e,r){var n=this.option;if(!e)return n;for(var i=0;i<e.length&&!(e[i]&&(n=n&&typeof n=="object"?n[e[i]]:null,n==null));i++);return n==null&&r&&(n=r._doGet(this.resolveParentPath(e),r.parentModel)),n},t})();Kh(pt);fx(pt);Zr(pt,AL);Zr(pt,DL);Zr(pt,gx);Zr(pt,LL);var IL=Math.round(Math.random()*10);function gu(t){return[t||"",IL++].join("_")}function OL(t){var e={};t.registerSubTypeDefaulter=function(r,n){var i=Gr(r);e[i.main]=n},t.determineSubType=function(r,n){var i=n.type;if(!i){var a=Gr(r).main;t.hasSubTypes(r)&&e[a]&&(i=e[a](n))}return i}}function PL(t,e){t.topologicalTravel=function(a,o,s,l){if(!a.length)return;var u=r(o),p=u.graph,c=u.noEntryList,h={};for(z(a,function(C){h[C]=!0});c.length;){var v=c.pop(),m=p[v],_=!!h[v];_&&(s.call(l,v,m.originalDeps.slice()),delete h[v]),z(m.successor,_?b:y)}z(h,function(){var C="";throw new Error(C)});function y(C){p[C].entryCount--,p[C].entryCount===0&&c.push(C)}function b(C){h[C]=!0,y(C)}};function r(a){var o={},s=[];return z(a,function(l){var u=n(o,l),p=u.originalDeps=e(l),c=i(p,a);u.entryCount=c.length,u.entryCount===0&&s.push(l),z(c,function(h){Ye(u.predecessor,h)<0&&u.predecessor.push(h);var v=n(o,h);Ye(v.successor,h)<0&&v.successor.push(l)})}),{graph:o,noEntryList:s}}function n(a,o){return a[o]||(a[o]={predecessor:[],successor:[]}),a[o]}function i(a,o){var s=[];return z(a,function(l){Ye(o,l)>=0&&s.push(l)}),s}}function RL(t,e){return Ze(Ze({},t,!0),e,!0)}const NL={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},BL={time:{month:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthAbbr:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayOfWeekAbbr:["日","一","二","三","四","五","六"]},legend:{selector:{all:"全选",inverse:"反选"}},toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图",custom:"自定义图表",chart:"图表"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}};var Bl="ZH",gd="EN",wa=gd,cl={},md={},J0=Pe.domSupported?(function(){var t=(document.documentElement.lang||navigator.language||navigator.browserLanguage||wa).toUpperCase();return t.indexOf(Bl)>-1?Bl:wa})():wa;function e_(t,e){t=t.toUpperCase(),md[t]=new pt(e),cl[t]=e}function HL(t){if(xe(t)){var e=cl[t.toUpperCase()]||{};return t===Bl||t===gd?je(e):Ze(je(e),je(cl[wa]),!1)}else return Ze(je(t),je(cl[wa]),!1)}function FL(t){return md[t]}function VL(){return md[wa]}e_(gd,NL);e_(Bl,BL);var zL=null;function Hl(){return zL}var yd=1e3,_d=yd*60,So=_d*60,_r=So*24,hg=_r*365,UL={year:/({yyyy}|{yy})/,month:/({MMMM}|{MMM}|{MM}|{M})/,day:/({dd}|{d})/,hour:/({HH}|{H}|{hh}|{h})/,minute:/({mm}|{m})/,second:/({ss}|{s})/,millisecond:/({SSS}|{S})/},fl={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}"},GL="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}",Ps="{yyyy}-{MM}-{dd}",dg={year:"{yyyy}",month:"{yyyy}-{MM}",day:Ps,hour:Ps+" "+fl.hour,minute:Ps+" "+fl.minute,second:Ps+" "+fl.second,millisecond:GL},Ai=["year","month","day","hour","minute","second","millisecond"],WL=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function jL(t){return!xe(t)&&!Ie(t)?qL(t):t}function qL(t){t=t||{};var e={},r=!0;return z(Ai,function(n){r&&(r=t[n]==null)}),z(Ai,function(n,i){var a=t[n];e[n]={};for(var o=null,s=i;s>=0;s--){var l=Ai[s],u=Ae(a)&&!be(a)?a[l]:a,p=void 0;be(u)?(p=u.slice(),o=p[0]||""):xe(u)?(o=u,p=[o]):(o==null?o=fl[n]:UL[l].test(o)||(o=e[l][l][0]+" "+o),p=[o],r&&(p[1]="{primary|"+o+"}")),e[n][l]=p}}),e}function bn(t,e){return t+="","0000".substr(0,e-t.length)+t}function Co(t){switch(t){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return t}}function $L(t){return t===Co(t)}function YL(t){switch(t){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function mu(t,e,r,n){var i=Da(t),a=i[t_(r)](),o=i[bd(r)]()+1,s=Math.floor((o-1)/3)+1,l=i[wd(r)](),u=i["get"+(r?"UTC":"")+"Day"](),p=i[Sd(r)](),c=(p-1)%12+1,h=i[Cd(r)](),v=i[Td(r)](),m=i[xd(r)](),_=p>=12?"pm":"am",y=_.toUpperCase(),b=n instanceof pt?n:FL(n||J0)||VL(),C=b.getModel("time"),M=C.get("month"),L=C.get("monthAbbr"),T=C.get("dayOfWeek"),E=C.get("dayOfWeekAbbr");return(e||"").replace(/{a}/g,_+"").replace(/{A}/g,y+"").replace(/{yyyy}/g,a+"").replace(/{yy}/g,bn(a%100+"",2)).replace(/{Q}/g,s+"").replace(/{MMMM}/g,M[o-1]).replace(/{MMM}/g,L[o-1]).replace(/{MM}/g,bn(o,2)).replace(/{M}/g,o+"").replace(/{dd}/g,bn(l,2)).replace(/{d}/g,l+"").replace(/{eeee}/g,T[u]).replace(/{ee}/g,E[u]).replace(/{e}/g,u+"").replace(/{HH}/g,bn(p,2)).replace(/{H}/g,p+"").replace(/{hh}/g,bn(c+"",2)).replace(/{h}/g,c+"").replace(/{mm}/g,bn(h,2)).replace(/{m}/g,h+"").replace(/{ss}/g,bn(v,2)).replace(/{s}/g,v+"").replace(/{SSS}/g,bn(m,3)).replace(/{S}/g,m+"")}function KL(t,e,r,n,i){var a=null;if(xe(r))a=r;else if(Ie(r)){var o={time:t.time,level:t.time.level},s=Hl();s&&s.makeAxisLabelFormatterParamBreak(o,t.break),a=r(t.value,e,o)}else{var l=t.time;if(l){var u=r[l.lowerTimeUnit][l.upperTimeUnit];a=u[Math.min(l.level,u.length-1)]||""}else{var p=Fl(t.value,i);a=r[p][p][0]}}return mu(new Date(t.value),a,i,n)}function Fl(t,e){var r=Da(t),n=r[bd(e)]()+1,i=r[wd(e)](),a=r[Sd(e)](),o=r[Cd(e)](),s=r[Td(e)](),l=r[xd(e)](),u=l===0,p=u&&s===0,c=p&&o===0,h=c&&a===0,v=h&&i===1,m=v&&n===1;return m?"year":v?"month":h?"day":c?"hour":p?"minute":u?"second":"millisecond"}function Xf(t,e,r){switch(e){case"year":t[r_(r)](0);case"month":t[n_(r)](1);case"day":t[i_(r)](0);case"hour":t[a_(r)](0);case"minute":t[o_(r)](0);case"second":t[s_(r)](0)}return t}function t_(t){return t?"getUTCFullYear":"getFullYear"}function bd(t){return t?"getUTCMonth":"getMonth"}function wd(t){return t?"getUTCDate":"getDate"}function Sd(t){return t?"getUTCHours":"getHours"}function Cd(t){return t?"getUTCMinutes":"getMinutes"}function Td(t){return t?"getUTCSeconds":"getSeconds"}function xd(t){return t?"getUTCMilliseconds":"getMilliseconds"}function XL(t){return t?"setUTCFullYear":"setFullYear"}function r_(t){return t?"setUTCMonth":"setMonth"}function n_(t){return t?"setUTCDate":"setDate"}function i_(t){return t?"setUTCHours":"setHours"}function a_(t){return t?"setUTCMinutes":"setMinutes"}function o_(t){return t?"setUTCSeconds":"setSeconds"}function s_(t){return t?"setUTCMilliseconds":"setMilliseconds"}function l_(t){if(!zT(t))return xe(t)?t:"-";var e=(t+"").split(".");return e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:"")}function u_(t,e){return t=(t||"").toLowerCase().replace(/-(.)/g,function(r,n){return n.toUpperCase()}),e&&t&&(t=t.charAt(0).toUpperCase()+t.slice(1)),t}var yu=Vh;function Zf(t,e,r){var n="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function i(p){return p&&zr(p)?p:"-"}function a(p){return!!(p!=null&&!isNaN(p)&&isFinite(p))}var o=e==="time",s=t instanceof Date;if(o||s){var l=o?Da(t):t;if(isNaN(+l)){if(s)return"-"}else return mu(l,n,r)}if(e==="ordinal")return df(t)?i(t):ct(t)&&a(t)?t+"":"-";var u=Al(t);return a(u)?l_(u):df(t)?i(t):typeof t=="boolean"?t+"":"-"}var pg=["a","b","c","d","e","f","g"],Ic=function(t,e){return"{"+t+(e??"")+"}"};function c_(t,e,r){be(e)||(e=[e]);var n=e.length;if(!n)return"";for(var i=e[0].$vars||[],a=0;a<i.length;a++){var o=pg[a];t=t.replace(Ic(o),Ic(o,0))}for(var s=0;s<n;s++)for(var l=0;l<i.length;l++){var u=e[s][i[l]];t=t.replace(Ic(pg[l],s),r?$t(u):u)}return t}function ZL(t,e){var r=xe(t)?{color:t,extraCssText:e}:t||{},n=r.color,i=r.type;e=r.extraCssText;var a=r.renderMode||"html";if(!n)return"";if(a==="html")return i==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+$t(n)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+$t(n)+";"+(e||"")+'"></span>';var o=r.markerId||"markerX";return{renderMode:a,content:"{"+o+"|}  ",style:i==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:n}:{width:10,height:10,borderRadius:5,backgroundColor:n}}}function Pi(t,e){return e=e||"transparent",xe(t)?t:Ae(t)&&t.colorStops&&(t.colorStops[0]||{}).color||e}function vg(t,e){if(e==="_blank"||e==="blank"){var r=window.open();r.opener=null,r.location.href=t}else window.open(t,e)}var hl={},Oc={},Md=(function(){function t(){this._normalMasterList=[],this._nonSeriesBoxMasterList=[]}return t.prototype.create=function(e,r){this._nonSeriesBoxMasterList=n(hl),this._normalMasterList=n(Oc);function n(i,a){var o=[];return z(i,function(s,l){var u=s.create(e,r);o=o.concat(u||[])}),o}},t.prototype.update=function(e,r){z(this._normalMasterList,function(n){n.update&&n.update(e,r)})},t.prototype.getCoordinateSystems=function(){return this._normalMasterList.concat(this._nonSeriesBoxMasterList)},t.register=function(e,r){if(e==="matrix"||e==="calendar"){hl[e]=r;return}Oc[e]=r},t.get=function(e){return Oc[e]||hl[e]},t})();function QL(t){return!!hl[t]}var gg={coord:1,coord2:2},JL=He();function eE(t){var e=t.getShallow("coord",!0),r=gg.coord;if(e==null){var n=JL.get(t.type);n&&n.getCoord2&&(r=gg.coord2,e=n.getCoord2(t))}return{coord:e,from:r}}var ln={none:0,dataCoordSys:1,boxCoordSys:2};function tE(t,e){var r=t.getShallow("coordinateSystem"),n=t.getShallow("coordinateSystemUsage",!0),i=ln.none;if(r){var a=t.mainType==="series";n==null&&(n=a?"data":"box"),n==="data"?(i=ln.dataCoordSys,a||(i=ln.none)):n==="box"&&(i=ln.boxCoordSys,!a&&!QL(r)&&(i=ln.none))}return{coordSysType:r,kind:i}}function rE(t){var e=t.targetModel,r=t.coordSysType,n=t.coordSysProvider,i=t.isDefaultDataCoordSys,a=tE(e),o=a.kind,s=a.coordSysType;if(i&&o!==ln.dataCoordSys&&(o=ln.dataCoordSys,s=r),o===ln.none||s!==r)return!1;var l=n(r,e);return l?(o===ln.dataCoordSys?e.coordinateSystem=l:e.boxCoordinateSystem=l,!0):!1}var dl=z,nE=["left","right","top","bottom","width","height"],Rs=[["width","left","right"],["height","top","bottom"]];function Ld(t,e,r,n,i){var a=0,o=0;n==null&&(n=1/0),i==null&&(i=1/0);var s=0;e.eachChild(function(l,u){var p=l.getBoundingRect(),c=e.childAt(u+1),h=c&&c.getBoundingRect(),v,m;if(t==="horizontal"){var _=p.width+(h?-h.x+p.x:0);v=a+_,v>n||l.newline?(a=0,v=_,o+=s+r,s=p.height):s=Math.max(s,p.height)}else{var y=p.height+(h?-h.y+p.y:0);m=o+y,m>i||l.newline?(a+=s+r,o=0,m=y,s=p.width):s=Math.max(s,p.width)}l.newline||(l.x=a,l.y=o,l.markRedraw(),t==="horizontal"?a=v+r:o=m+r)})}var To=Ld;Dt(Ld,"vertical");Dt(Ld,"horizontal");function iE(t,e){return{left:t.getShallow("left",e),top:t.getShallow("top",e),right:t.getShallow("right",e),bottom:t.getShallow("bottom",e),width:t.getShallow("width",e),height:t.getShallow("height",e)}}function Ta(t,e,r){r=yu(r||0);var n=e.width,i=e.height,a=zt(t.left,n),o=zt(t.top,i),s=zt(t.right,n),l=zt(t.bottom,i),u=zt(t.width,n),p=zt(t.height,i),c=r[2]+r[0],h=r[1]+r[3],v=t.aspect;switch(isNaN(u)&&(u=n-s-h-a),isNaN(p)&&(p=i-l-c-o),v!=null&&(isNaN(u)&&isNaN(p)&&(v>n/i?u=n*.8:p=i*.8),isNaN(u)&&(u=v*p),isNaN(p)&&(p=u/v)),isNaN(a)&&(a=n-s-u-h),isNaN(o)&&(o=i-l-p-c),t.left||t.right){case"center":a=n/2-u/2-r[3];break;case"right":a=n-u-h;break}switch(t.top||t.bottom){case"middle":case"center":o=i/2-p/2-r[0];break;case"bottom":o=i-p-c;break}a=a||0,o=o||0,isNaN(u)&&(u=n-h-a-(s||0)),isNaN(p)&&(p=i-c-o-(l||0));var m=new Be((e.x||0)+a+r[3],(e.y||0)+o+r[0],u,p);return m.margin=r,m}var Pc={rect:1};function Ed(t,e,r){var n,i,a,o=t.boxCoordinateSystem,s;if(o){var l=eE(t),u=l.coord,p=l.from;if(o.dataToLayout){a=Pc.rect,s=p;var c=o.dataToLayout(u);n=c.contentRect||c.rect}}return a==null&&(a=Pc.rect),a===Pc.rect&&(n||(n={x:0,y:0,width:e.getWidth(),height:e.getHeight()}),i=[n.x+n.width/2,n.y+n.height/2]),{type:a,refContainer:n,refPoint:i,boxCoordFrom:s}}function Bo(t){var e=t.layoutMode||t.constructor.layoutMode;return Ae(e)?e:e?{type:e}:null}function zn(t,e,r){var n=r&&r.ignoreSize;!be(n)&&(n=[n,n]);var i=o(Rs[0],0),a=o(Rs[1],1);l(Rs[0],t,i),l(Rs[1],t,a);function o(u,p){var c={},h=0,v={},m=0,_=2;if(dl(u,function(C){v[C]=t[C]}),dl(u,function(C){Lr(e,C)&&(c[C]=v[C]=e[C]),s(c,C)&&h++,s(v,C)&&m++}),n[p])return s(e,u[1])?v[u[2]]=null:s(e,u[2])&&(v[u[1]]=null),v;if(m===_||!h)return v;if(h>=_)return c;for(var y=0;y<u.length;y++){var b=u[y];if(!Lr(c,b)&&Lr(t,b)){c[b]=t[b];break}}return c}function s(u,p){return u[p]!=null&&u[p]!=="auto"}function l(u,p,c){dl(u,function(h){p[h]=c[h]})}}function es(t){return aE({},t)}function aE(t,e){return e&&t&&dl(nE,function(r){Lr(e,r)&&(t[r]=e[r])}),t}var oE=gt(),et=(function(t){_e(e,t);function e(r,n,i){var a=t.call(this,r,n,i)||this;return a.uid=gu("ec_cpt_model"),a}return e.prototype.init=function(r,n,i){this.mergeDefaultAndTheme(r,i)},e.prototype.mergeDefaultAndTheme=function(r,n){var i=Bo(this),a=i?es(r):{},o=n.getTheme();Ze(r,o.get(this.mainType)),Ze(r,this.getDefaultOption()),i&&zn(r,a,i)},e.prototype.mergeOption=function(r,n){Ze(this.option,r,!0);var i=Bo(this);i&&zn(this.option,r,i)},e.prototype.optionUpdated=function(r,n){},e.prototype.getDefaultOption=function(){var r=this.constructor;if(!lx(r))return r.defaultOption;var n=oE(this);if(!n.defaultOption){for(var i=[],a=r;a;){var o=a.prototype.defaultOption;o&&i.push(o),a=a.superClass}for(var s={},l=i.length-1;l>=0;l--)s=Ze(s,i[l],!0);n.defaultOption=s}return n.defaultOption},e.prototype.getReferringComponents=function(r,n){var i=r+"Index",a=r+"Id";return Zo(this.ecModel,r,{index:this.get(i,!0),id:this.get(a,!0)},n)},e.prototype.getBoxLayoutParams=function(){return iE(this,!1)},e.prototype.getZLevelKey=function(){return""},e.prototype.setZLevel=function(r){this.option.zlevel=r},e.protoInitialize=(function(){var r=e.prototype;r.type="component",r.id="",r.name="",r.mainType="",r.subType="",r.componentIndex=0})(),e})(pt);p0(et,pt);au(et);OL(et);PL(et,sE);function sE(t){var e=[];return z(et.getClassesByMainType(t),function(r){e=e.concat(r.dependencies||r.prototype.dependencies||[])}),e=De(e,function(r){return Gr(r).main}),t!=="dataset"&&Ye(e,"dataset")<=0&&e.unshift("dataset"),e}var Le={color:{},darkColor:{},size:{}},vt=Le.color={theme:["#5070dd","#b6d634","#505372","#ff994d","#0ca8df","#ffd10a","#fb628b","#785db0","#3fbe95"],neutral00:"#fff",neutral05:"#f4f7fd",neutral10:"#e8ebf0",neutral15:"#dbdee4",neutral20:"#cfd2d7",neutral25:"#c3c5cb",neutral30:"#b7b9be",neutral35:"#aaacb2",neutral40:"#9ea0a5",neutral45:"#929399",neutral50:"#86878c",neutral55:"#797b7f",neutral60:"#6d6e73",neutral65:"#616266",neutral70:"#54555a",neutral75:"#48494d",neutral80:"#3c3c41",neutral85:"#303034",neutral90:"#232328",neutral95:"#17171b",neutral99:"#000",accent05:"#eff1f9",accent10:"#e0e4f2",accent15:"#d0d6ec",accent20:"#c0c9e6",accent25:"#b1bbdf",accent30:"#a1aed9",accent35:"#91a0d3",accent40:"#8292cc",accent45:"#7285c6",accent50:"#6578ba",accent55:"#5c6da9",accent60:"#536298",accent65:"#4a5787",accent70:"#404c76",accent75:"#374165",accent80:"#2e3654",accent85:"#252b43",accent90:"#1b2032",accent95:"#121521",transparent:"rgba(0,0,0,0)",highlight:"rgba(255,231,130,0.8)"};pe(vt,{primary:vt.neutral80,secondary:vt.neutral70,tertiary:vt.neutral60,quaternary:vt.neutral50,disabled:vt.neutral20,border:vt.neutral30,borderTint:vt.neutral20,borderShade:vt.neutral40,background:vt.neutral05,backgroundTint:"rgba(234,237,245,0.5)",backgroundTransparent:"rgba(255,255,255,0)",backgroundShade:vt.neutral10,shadow:"rgba(0,0,0,0.2)",shadowTint:"rgba(129,130,136,0.2)",axisLine:vt.neutral70,axisLineTint:vt.neutral40,axisTick:vt.neutral70,axisTickMinor:vt.neutral60,axisLabel:vt.neutral70,axisSplitLine:vt.neutral15,axisMinorSplitLine:vt.neutral05});for(var hi in vt)if(vt.hasOwnProperty(hi)){var mg=vt[hi];hi==="theme"?Le.darkColor.theme=vt.theme.slice():hi==="highlight"?Le.darkColor.highlight="rgba(255,231,130,0.4)":hi.indexOf("accent")===0?Le.darkColor[hi]=xf(mg,null,function(t){return t*.5},function(t){return Math.min(1,1.3-t)}):Le.darkColor[hi]=xf(mg,null,function(t){return t*.9},function(t){return 1-Math.pow(t,1.5)})}Le.size={xxs:2,xs:5,s:10,m:15,l:20,xl:30,xxl:40,xxxl:50};var f_="";typeof navigator<"u"&&(f_=navigator.platform||"");var ta="rgba(0, 0, 0, 0.2)",h_=Le.color.theme[0],lE=xf(h_,null,null,.9);const uE={darkMode:"auto",colorBy:"series",color:Le.color.theme,gradientColor:[lE,h_],aria:{decal:{decals:[{color:ta,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:ta,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:ta,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:ta,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:ta,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:ta,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:f_.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var d_=He(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),or="original",Ft="arrayRows",Dr="objectRows",Jr="keyedColumns",Pn="typedArray",p_="unknown",Yr="column",Bi="row",rr={Must:1,Might:2,Not:3},v_=gt();function cE(t){v_(t).datasetMap=He()}function fE(t,e,r){var n={},i=g_(e);if(!i||!t)return n;var a=[],o=[],s=e.ecModel,l=v_(s).datasetMap,u=i.uid+"_"+r.seriesLayoutBy,p,c;t=t.slice(),z(t,function(_,y){var b=Ae(_)?_:t[y]={name:_};b.type==="ordinal"&&p==null&&(p=y,c=m(b)),n[b.name]=[]});var h=l.get(u)||l.set(u,{categoryWayDim:c,valueWayDim:0});z(t,function(_,y){var b=_.name,C=m(_);if(p==null){var M=h.valueWayDim;v(n[b],M,C),v(o,M,C),h.valueWayDim+=C}else if(p===y)v(n[b],0,C),v(a,0,C);else{var M=h.categoryWayDim;v(n[b],M,C),v(o,M,C),h.categoryWayDim+=C}});function v(_,y,b){for(var C=0;C<b;C++)_.push(y+C)}function m(_){var y=_.dimsDef;return y?y.length:1}return a.length&&(n.itemName=a),o.length&&(n.seriesName=o),n}function g_(t){var e=t.get("data",!0);if(!e)return Zo(t.ecModel,"dataset",{index:t.get("datasetIndex",!0),id:t.get("datasetId",!0)},yr).models[0]}function hE(t){return!t.get("transform",!0)&&!t.get("fromTransformResult",!0)?[]:Zo(t.ecModel,"dataset",{index:t.get("fromDatasetIndex",!0),id:t.get("fromDatasetId",!0)},yr).models}function m_(t,e){return dE(t.data,t.sourceFormat,t.seriesLayoutBy,t.dimensionsDefine,t.startIndex,e)}function dE(t,e,r,n,i,a){var o,s=5;if(Jt(t))return rr.Not;var l,u;if(n){var p=n[a];Ae(p)?(l=p.name,u=p.type):xe(p)&&(l=p)}if(u!=null)return u==="ordinal"?rr.Must:rr.Not;if(e===Ft){var c=t;if(r===Bi){for(var h=c[a],v=0;v<(h||[]).length&&v<s;v++)if((o=L(h[i+v]))!=null)return o}else for(var v=0;v<c.length&&v<s;v++){var m=c[i+v];if(m&&(o=L(m[a]))!=null)return o}}else if(e===Dr){var _=t;if(!l)return rr.Not;for(var v=0;v<_.length&&v<s;v++){var y=_[v];if(y&&(o=L(y[l]))!=null)return o}}else if(e===Jr){var b=t;if(!l)return rr.Not;var h=b[l];if(!h||Jt(h))return rr.Not;for(var v=0;v<h.length&&v<s;v++)if((o=L(h[v]))!=null)return o}else if(e===or)for(var C=t,v=0;v<C.length&&v<s;v++){var y=C[v],M=Xo(y);if(!be(M))return rr.Not;if((o=L(M[a]))!=null)return o}function L(T){var E=xe(T);if(T!=null&&Number.isFinite(Number(T))&&T!=="")return E?rr.Might:rr.Not;if(E&&T!=="-")return rr.Must}return rr.Not}var pE=He();function vE(t,e,r){var n=pE.get(e);if(!n)return r;var i=n(t);return i?r.concat(i):r}var yg=gt();gt();var Ad=(function(){function t(){}return t.prototype.getColorFromPalette=function(e,r,n){var i=Ut(this.get("color",!0)),a=this.get("colorLayer",!0);return mE(this,yg,i,a,e,r,n)},t.prototype.clearColorPalette=function(){yE(this,yg)},t})();function gE(t,e){for(var r=t.length,n=0;n<r;n++)if(t[n].length>e)return t[n];return t[r-1]}function mE(t,e,r,n,i,a,o){a=a||t;var s=e(a),l=s.paletteIdx||0,u=s.paletteNameMap=s.paletteNameMap||{};if(u.hasOwnProperty(i))return u[i];var p=o==null||!n?r:gE(n,o);if(p=p||r,!(!p||!p.length)){var c=p[l];return i&&(u[i]=c),s.paletteIdx=(l+1)%p.length,c}}function yE(t,e){e(t).paletteIdx=0,e(t).paletteNameMap={}}var Ns,Ya,_g,bg="\0_ec_inner",_E=1,kd=(function(t){_e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.init=function(r,n,i,a,o,s){a=a||{},this.option=null,this._theme=new pt(a),this._locale=new pt(o),this._optionManager=s},e.prototype.setOption=function(r,n,i){var a=Cg(n);this._optionManager.setOption(r,i,a),this._resetOption(null,a)},e.prototype.resetOption=function(r,n){return this._resetOption(r,Cg(n))},e.prototype._resetOption=function(r,n){var i=!1,a=this._optionManager;if(!r||r==="recreate"){var o=a.mountOption(r==="recreate");!this.option||r==="recreate"?_g(this,o):(this.restoreData(),this._mergeOption(o,n)),i=!0}if((r==="timeline"||r==="media")&&this.restoreData(),!r||r==="recreate"||r==="timeline"){var s=a.getTimelineOption(this);s&&(i=!0,this._mergeOption(s,n))}if(!r||r==="recreate"||r==="media"){var l=a.getMediaOption(this);l.length&&z(l,function(u){i=!0,this._mergeOption(u,n)},this)}return i},e.prototype.mergeOption=function(r){this._mergeOption(r,null)},e.prototype._mergeOption=function(r,n){var i=this.option,a=this._componentsMap,o=this._componentsCount,s=[],l=He(),u=n&&n.replaceMergeMainTypeMap;cE(this),z(r,function(c,h){c!=null&&(et.hasClass(h)?h&&(s.push(h),l.set(h,!0)):i[h]=i[h]==null?je(c):Ze(i[h],c,!0))}),u&&u.each(function(c,h){et.hasClass(h)&&!l.get(h)&&(s.push(h),l.set(h,!0))}),et.topologicalTravel(s,et.getAllClassMainTypes(),p,this);function p(c){var h=vE(this,c,Ut(r[c])),v=a.get(c),m=v?u&&u.get(c)?"replaceMerge":"normalMerge":"replaceAll",_=$T(v,h,m);ex(_,c,et),i[c]=null,a.set(c,null),o.set(c,0);var y=[],b=[],C=0,M;z(_,function(L,T){var E=L.existing,k=L.newOption;if(!k)E&&(E.mergeOption({},this),E.optionUpdated({},!1));else{var P=c==="series",D=et.getClass(c,L.keyInfo.subType,!P);if(!D)return;if(c==="tooltip"){if(M)return;M=!0}if(E&&E.constructor===D)E.name=L.keyInfo.name,E.mergeOption(k,this),E.optionUpdated(k,!1);else{var N=pe({componentIndex:T},L.keyInfo);E=new D(k,this,this,N),pe(E,N),L.brandNew&&(E.__requireNewView=!0),E.init(k,this,this),E.optionUpdated(null,!0)}}E?(y.push(E.option),b.push(E),C++):(y.push(void 0),b.push(void 0))},this),i[c]=y,a.set(c,b),o.set(c,C),c==="series"&&Ns(this)}this._seriesIndices||Ns(this)},e.prototype.getOption=function(){var r=je(this.option);return z(r,function(n,i){if(et.hasClass(i)){for(var a=Ut(n),o=a.length,s=!1,l=o-1;l>=0;l--)a[l]&&!Io(a[l])?s=!0:(a[l]=null,!s&&o--);a.length=o,r[i]=a}}),delete r[bg],r},e.prototype.setTheme=function(r){this._theme=new pt(r),this._resetOption("recreate",null)},e.prototype.getTheme=function(){return this._theme},e.prototype.getLocaleModel=function(){return this._locale},e.prototype.setUpdatePayload=function(r){this._payload=r},e.prototype.getUpdatePayload=function(){return this._payload},e.prototype.getComponent=function(r,n){var i=this._componentsMap.get(r);if(i){var a=i[n||0];if(a)return a;if(n==null){for(var o=0;o<i.length;o++)if(i[o])return i[o]}}},e.prototype.queryComponents=function(r){var n=r.mainType;if(!n)return[];var i=r.index,a=r.id,o=r.name,s=this._componentsMap.get(n);if(!s||!s.length)return[];var l;return i!=null?(l=[],z(Ut(i),function(u){s[u]&&l.push(s[u])})):a!=null?l=wg("id",a,s):o!=null?l=wg("name",o,s):l=At(s,function(u){return!!u}),Sg(l,r)},e.prototype.findComponents=function(r){var n=r.query,i=r.mainType,a=s(n),o=a?this.queryComponents(a):At(this._componentsMap.get(i),function(u){return!!u});return l(Sg(o,r));function s(u){var p=i+"Index",c=i+"Id",h=i+"Name";return u&&(u[p]!=null||u[c]!=null||u[h]!=null)?{mainType:i,index:u[p],id:u[c],name:u[h]}:null}function l(u){return r.filter?At(u,r.filter):u}},e.prototype.eachComponent=function(r,n,i){var a=this._componentsMap;if(Ie(r)){var o=n,s=r;a.each(function(c,h){for(var v=0;c&&v<c.length;v++){var m=c[v];m&&s.call(o,h,m,m.componentIndex)}})}else for(var l=xe(r)?a.get(r):Ae(r)?this.findComponents(r):null,u=0;l&&u<l.length;u++){var p=l[u];p&&n.call(i,p,p.componentIndex)}},e.prototype.getSeriesByName=function(r){var n=$r(r,null);return At(this._componentsMap.get("series"),function(i){return!!i&&n!=null&&i.name===n})},e.prototype.getSeriesByIndex=function(r){return this._componentsMap.get("series")[r]},e.prototype.getSeriesByType=function(r){return At(this._componentsMap.get("series"),function(n){return!!n&&n.subType===r})},e.prototype.getSeries=function(){return At(this._componentsMap.get("series"),function(r){return!!r})},e.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},e.prototype.eachSeries=function(r,n){Ya(this),z(this._seriesIndices,function(i){var a=this._componentsMap.get("series")[i];r.call(n,a,i)},this)},e.prototype.eachRawSeries=function(r,n){z(this._componentsMap.get("series"),function(i){i&&r.call(n,i,i.componentIndex)})},e.prototype.eachSeriesByType=function(r,n,i){Ya(this),z(this._seriesIndices,function(a){var o=this._componentsMap.get("series")[a];o.subType===r&&n.call(i,o,a)},this)},e.prototype.eachRawSeriesByType=function(r,n,i){return z(this.getSeriesByType(r),n,i)},e.prototype.isSeriesFiltered=function(r){return Ya(this),this._seriesIndicesMap.get(r.componentIndex)==null},e.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},e.prototype.filterSeries=function(r,n){Ya(this);var i=[];z(this._seriesIndices,function(a){var o=this._componentsMap.get("series")[a];r.call(n,o,a)&&i.push(a)},this),this._seriesIndices=i,this._seriesIndicesMap=He(i)},e.prototype.restoreData=function(r){Ns(this);var n=this._componentsMap,i=[];n.each(function(a,o){et.hasClass(o)&&i.push(o)}),et.topologicalTravel(i,et.getAllClassMainTypes(),function(a){z(n.get(a),function(o){o&&(a!=="series"||!bE(o,r))&&o.restoreData()})})},e.internalField=(function(){Ns=function(r){var n=r._seriesIndices=[];z(r._componentsMap.get("series"),function(i){i&&n.push(i.componentIndex)}),r._seriesIndicesMap=He(n)},Ya=function(r){},_g=function(r,n){r.option={},r.option[bg]=_E,r._componentsMap=He({series:[]}),r._componentsCount=He();var i=n.aria;Ae(i)&&i.enabled==null&&(i.enabled=!0),wE(n,r._theme.option),Ze(n,uE,!1),r._mergeOption(n,null)}})(),e})(pt);function bE(t,e){if(e){var r=e.seriesIndex,n=e.seriesId,i=e.seriesName;return r!=null&&t.componentIndex!==r||n!=null&&t.id!==n||i!=null&&t.name!==i}}function wE(t,e){var r=t.color&&!t.colorLayer;z(e,function(n,i){i==="colorLayer"&&r||i==="color"&&t.color||et.hasClass(i)||(typeof n=="object"?t[i]=t[i]?Ze(t[i],n,!1):je(n):t[i]==null&&(t[i]=n))})}function wg(t,e,r){if(be(e)){var n=He();return z(e,function(a){if(a!=null){var o=$r(a,null);o!=null&&n.set(a,!0)}}),At(r,function(a){return a&&n.get(a[t])})}else{var i=$r(e,null);return At(r,function(a){return a&&i!=null&&a[t]===i})}}function Sg(t,e){return e.hasOwnProperty("subType")?At(t,function(r){return r&&r.subType===e.subType}):t}function Cg(t){var e=He();return t&&z(Ut(t.replaceMerge),function(r){e.set(r,!0)}),{replaceMergeMainTypeMap:e}}Zr(kd,Ad);var SE=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],y_=(function(){function t(e){z(SE,function(r){this[r]=it(e[r],e)},this)}return t})(),CE=/^(min|max)?(.+)$/,TE=(function(){function t(e){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=e}return t.prototype.setOption=function(e,r,n){e&&(z(Ut(e.series),function(o){o&&o.data&&Jt(o.data)&&pf(o.data)}),z(Ut(e.dataset),function(o){o&&o.source&&Jt(o.source)&&pf(o.source)})),e=je(e);var i=this._optionBackup,a=xE(e,r,!i);this._newBaseOption=a.baseOption,i?(a.timelineOptions.length&&(i.timelineOptions=a.timelineOptions),a.mediaList.length&&(i.mediaList=a.mediaList),a.mediaDefault&&(i.mediaDefault=a.mediaDefault)):this._optionBackup=a},t.prototype.mountOption=function(e){var r=this._optionBackup;return this._timelineOptions=r.timelineOptions,this._mediaList=r.mediaList,this._mediaDefault=r.mediaDefault,this._currentMediaIndices=[],je(e?r.baseOption:this._newBaseOption)},t.prototype.getTimelineOption=function(e){var r,n=this._timelineOptions;if(n.length){var i=e.getComponent("timeline");i&&(r=je(n[i.getCurrentIndex()]))}return r},t.prototype.getMediaOption=function(e){var r=this._api.getWidth(),n=this._api.getHeight(),i=this._mediaList,a=this._mediaDefault,o=[],s=[];if(!i.length&&!a)return s;for(var l=0,u=i.length;l<u;l++)ME(i[l].query,r,n)&&o.push(l);return!o.length&&a&&(o=[-1]),o.length&&!EE(o,this._currentMediaIndices)&&(s=De(o,function(p){return je(p===-1?a.option:i[p].option)})),this._currentMediaIndices=o,s},t})();function xE(t,e,r){var n=[],i,a,o=t.baseOption,s=t.timeline,l=t.options,u=t.media,p=!!t.media,c=!!(l||s||o&&o.timeline);o?(a=o,a.timeline||(a.timeline=s)):((c||p)&&(t.options=t.media=null),a=t),p&&be(u)&&z(u,function(v){v&&v.option&&(v.query?n.push(v):i||(i=v))}),h(a),z(l,function(v){return h(v)}),z(n,function(v){return h(v.option)});function h(v){z(e,function(m){m(v,r)})}return{baseOption:a,timelineOptions:l||[],mediaDefault:i,mediaList:n}}function ME(t,e,r){var n={width:e,height:r,aspectratio:e/r},i=!0;return z(t,function(a,o){var s=o.match(CE);if(!(!s||!s[1]||!s[2])){var l=s[1],u=s[2].toLowerCase();LE(n[u],a,l)||(i=!1)}}),i}function LE(t,e,r){return r==="min"?t>=e:r==="max"?t<=e:t===e}function EE(t,e){return t.join(",")===e.join(",")}var Cr=z,Ho=Ae,Tg=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function Rc(t){var e=t&&t.itemStyle;if(e)for(var r=0,n=Tg.length;r<n;r++){var i=Tg[r],a=e.normal,o=e.emphasis;a&&a[i]&&(t[i]=t[i]||{},t[i].normal?Ze(t[i].normal,a[i]):t[i].normal=a[i],a[i]=null),o&&o[i]&&(t[i]=t[i]||{},t[i].emphasis?Ze(t[i].emphasis,o[i]):t[i].emphasis=o[i],o[i]=null)}}function Bt(t,e,r){if(t&&t[e]&&(t[e].normal||t[e].emphasis)){var n=t[e].normal,i=t[e].emphasis;n&&(r?(t[e].normal=t[e].emphasis=null,tt(t[e],n)):t[e]=n),i&&(t.emphasis=t.emphasis||{},t.emphasis[e]=i,i.focus&&(t.emphasis.focus=i.focus),i.blurScope&&(t.emphasis.blurScope=i.blurScope))}}function fo(t){Bt(t,"itemStyle"),Bt(t,"lineStyle"),Bt(t,"areaStyle"),Bt(t,"label"),Bt(t,"labelLine"),Bt(t,"upperLabel"),Bt(t,"edgeLabel")}function mt(t,e){var r=Ho(t)&&t[e],n=Ho(r)&&r.textStyle;if(n)for(var i=0,a=bv.length;i<a;i++){var o=bv[i];n.hasOwnProperty(o)&&(r[o]=n[o])}}function dr(t){t&&(fo(t),mt(t,"label"),t.emphasis&&mt(t.emphasis,"label"))}function AE(t){if(Ho(t)){Rc(t),fo(t),mt(t,"label"),mt(t,"upperLabel"),mt(t,"edgeLabel"),t.emphasis&&(mt(t.emphasis,"label"),mt(t.emphasis,"upperLabel"),mt(t.emphasis,"edgeLabel"));var e=t.markPoint;e&&(Rc(e),dr(e));var r=t.markLine;r&&(Rc(r),dr(r));var n=t.markArea;n&&dr(n);var i=t.data;if(t.type==="graph"){i=i||t.nodes;var a=t.links||t.edges;if(a&&!Jt(a))for(var o=0;o<a.length;o++)dr(a[o]);z(t.categories,function(u){fo(u)})}if(i&&!Jt(i))for(var o=0;o<i.length;o++)dr(i[o]);if(e=t.markPoint,e&&e.data)for(var s=e.data,o=0;o<s.length;o++)dr(s[o]);if(r=t.markLine,r&&r.data)for(var l=r.data,o=0;o<l.length;o++)be(l[o])?(dr(l[o][0]),dr(l[o][1])):dr(l[o]);t.type==="gauge"?(mt(t,"axisLabel"),mt(t,"title"),mt(t,"detail")):t.type==="treemap"?(Bt(t.breadcrumb,"itemStyle"),z(t.levels,function(u){fo(u)})):t.type==="tree"&&fo(t.leaves)}}function nn(t){return be(t)?t:t?[t]:[]}function xg(t){return(be(t)?t[0]:t)||{}}function kE(t,e){Cr(nn(t.series),function(n){Ho(n)&&AE(n)});var r=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&r.push("valueAxis","categoryAxis","logAxis","timeAxis"),Cr(r,function(n){Cr(nn(t[n]),function(i){i&&(mt(i,"axisLabel"),mt(i.axisPointer,"label"))})}),Cr(nn(t.parallel),function(n){var i=n&&n.parallelAxisDefault;mt(i,"axisLabel"),mt(i&&i.axisPointer,"label")}),Cr(nn(t.calendar),function(n){Bt(n,"itemStyle"),mt(n,"dayLabel"),mt(n,"monthLabel"),mt(n,"yearLabel")}),Cr(nn(t.radar),function(n){mt(n,"name"),n.name&&n.axisName==null&&(n.axisName=n.name,delete n.name),n.nameGap!=null&&n.axisNameGap==null&&(n.axisNameGap=n.nameGap,delete n.nameGap)}),Cr(nn(t.geo),function(n){Ho(n)&&(dr(n),Cr(nn(n.regions),function(i){dr(i)}))}),Cr(nn(t.timeline),function(n){dr(n),Bt(n,"label"),Bt(n,"itemStyle"),Bt(n,"controlStyle",!0);var i=n.data;be(i)&&z(i,function(a){Ae(a)&&(Bt(a,"label"),Bt(a,"itemStyle"))})}),Cr(nn(t.toolbox),function(n){Bt(n,"iconStyle"),Cr(n.feature,function(i){Bt(i,"iconStyle")})}),mt(xg(t.axisPointer),"label"),mt(xg(t.tooltip).axisPointer,"label")}function DE(t,e){for(var r=e.split(","),n=t,i=0;i<r.length&&(n=n&&n[r[i]],n!=null);i++);return n}function IE(t,e,r,n){for(var i=e.split(","),a=t,o,s=0;s<i.length-1;s++)o=i[s],a[o]==null&&(a[o]={}),a=a[o];a[i[s]]==null&&(a[i[s]]=r)}function Mg(t){t&&z(OE,function(e){e[0]in t&&!(e[1]in t)&&(t[e[1]]=t[e[0]])})}var OE=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],PE=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],Nc=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function Ka(t){var e=t&&t.itemStyle;if(e)for(var r=0;r<Nc.length;r++){var n=Nc[r][1],i=Nc[r][0];e[n]!=null&&(e[i]=e[n])}}function Lg(t){t&&t.alignTo==="edge"&&t.margin!=null&&t.edgeDistance==null&&(t.edgeDistance=t.margin)}function Eg(t){t&&t.downplay&&!t.blur&&(t.blur=t.downplay)}function RE(t){t&&t.focusNodeAdjacency!=null&&(t.emphasis=t.emphasis||{},t.emphasis.focus==null&&(t.emphasis.focus="adjacency"))}function __(t,e){if(t)for(var r=0;r<t.length;r++)e(t[r]),t[r]&&__(t[r].children,e)}function b_(t,e){kE(t,e),t.series=Ut(t.series),z(t.series,function(r){if(Ae(r)){var n=r.type;if(n==="line")r.clipOverflow!=null&&(r.clip=r.clipOverflow);else if(n==="pie"||n==="gauge"){r.clockWise!=null&&(r.clockwise=r.clockWise),Lg(r.label);var i=r.data;if(i&&!Jt(i))for(var a=0;a<i.length;a++)Lg(i[a]);r.hoverOffset!=null&&(r.emphasis=r.emphasis||{},(r.emphasis.scaleSize=null)&&(r.emphasis.scaleSize=r.hoverOffset))}else if(n==="gauge"){var o=DE(r,"pointer.color");o!=null&&IE(r,"itemStyle.color",o)}else if(n==="bar"){Ka(r),Ka(r.backgroundStyle),Ka(r.emphasis);var i=r.data;if(i&&!Jt(i))for(var a=0;a<i.length;a++)typeof i[a]=="object"&&(Ka(i[a]),Ka(i[a]&&i[a].emphasis))}else if(n==="sunburst"){var s=r.highlightPolicy;s&&(r.emphasis=r.emphasis||{},r.emphasis.focus||(r.emphasis.focus=s)),Eg(r),__(r.data,Eg)}else n==="graph"||n==="sankey"?RE(r):n==="map"&&(r.mapType&&!r.map&&(r.map=r.mapType),r.mapLocation&&tt(r,r.mapLocation));r.hoverAnimation!=null&&(r.emphasis=r.emphasis||{},r.emphasis&&r.emphasis.scale==null&&(r.emphasis.scale=r.hoverAnimation)),Mg(r)}}),t.dataRange&&(t.visualMap=t.dataRange),z(PE,function(r){var n=t[r];n&&(be(n)||(n=[n]),z(n,function(i){Mg(i)}))})}function NE(t){var e=He();t.eachSeries(function(r){var n=r.get("stack");if(n){var i=e.get(n)||e.set(n,[]),a=r.getData(),o={stackResultDimension:a.getCalculationInfo("stackResultDimension"),stackedOverDimension:a.getCalculationInfo("stackedOverDimension"),stackedDimension:a.getCalculationInfo("stackedDimension"),stackedByDimension:a.getCalculationInfo("stackedByDimension"),isStackedByIndex:a.getCalculationInfo("isStackedByIndex"),data:a,seriesModel:r};if(!o.stackedDimension||!(o.isStackedByIndex||o.stackedByDimension))return;i.push(o)}}),e.each(function(r){if(r.length!==0){var n=r[0].seriesModel,i=n.get("stackOrder")||"seriesAsc";i==="seriesDesc"&&r.reverse(),z(r,function(a,o){a.data.setCalculationInfo("stackedOnSeries",o>0?r[o-1].seriesModel:null)}),BE(r)}})}function BE(t){z(t,function(e,r){var n=[],i=[NaN,NaN],a=[e.stackResultDimension,e.stackedOverDimension],o=e.data,s=e.isStackedByIndex,l=e.seriesModel.get("stackStrategy")||"samesign";o.modify(a,function(u,p,c){var h=o.get(e.stackedDimension,c);if(isNaN(h))return i;var v,m;s?m=o.getRawIndex(c):v=o.get(e.stackedByDimension,c);for(var _=NaN,y=r-1;y>=0;y--){var b=t[y];if(s||(m=b.data.rawIndexOf(b.stackedByDimension,v)),m>=0){var C=b.data.getByRawIndex(b.stackResultDimension,m);if(l==="all"||l==="positive"&&C>0||l==="negative"&&C<0||l==="samesign"&&h>=0&&C>0||l==="samesign"&&h<=0&&C<0){h=HT(h,C),_=C;break}}}return n[0]=h,n[1]=_,n})})}var _u=(function(){function t(e){this.data=e.data||(e.sourceFormat===Jr?{}:[]),this.sourceFormat=e.sourceFormat||p_,this.seriesLayoutBy=e.seriesLayoutBy||Yr,this.startIndex=e.startIndex||0,this.dimensionsDetectedCount=e.dimensionsDetectedCount,this.metaRawOption=e.metaRawOption;var r=this.dimensionsDefine=e.dimensionsDefine;if(r)for(var n=0;n<r.length;n++){var i=r[n];i.type==null&&m_(this,n)===rr.Must&&(i.type="ordinal")}}return t})();function Dd(t){return t instanceof _u}function Qf(t,e,r){r=r||S_(t);var n=e.seriesLayoutBy,i=FE(t,r,n,e.sourceHeader,e.dimensions),a=new _u({data:t,sourceFormat:r,seriesLayoutBy:n,dimensionsDefine:i.dimensionsDefine,startIndex:i.startIndex,dimensionsDetectedCount:i.dimensionsDetectedCount,metaRawOption:je(e)});return a}function w_(t){return new _u({data:t,sourceFormat:Jt(t)?Pn:or})}function HE(t){return new _u({data:t.data,sourceFormat:t.sourceFormat,seriesLayoutBy:t.seriesLayoutBy,dimensionsDefine:je(t.dimensionsDefine),startIndex:t.startIndex,dimensionsDetectedCount:t.dimensionsDetectedCount})}function S_(t){var e=p_;if(Jt(t))e=Pn;else if(be(t)){t.length===0&&(e=Ft);for(var r=0,n=t.length;r<n;r++){var i=t[r];if(i!=null){if(be(i)||Jt(i)){e=Ft;break}else if(Ae(i)){e=Dr;break}}}}else if(Ae(t)){for(var a in t)if(Lr(t,a)&&Qt(t[a])){e=Jr;break}}return e}function FE(t,e,r,n,i){var a,o;if(!t)return{dimensionsDefine:Ag(i),startIndex:o,dimensionsDetectedCount:a};if(e===Ft){var s=t;n==="auto"||n==null?kg(function(u){u!=null&&u!=="-"&&(xe(u)?o==null&&(o=1):o=0)},r,s,10):o=ct(n)?n:n?1:0,!i&&o===1&&(i=[],kg(function(u,p){i[p]=u!=null?u+"":""},r,s,1/0)),a=i?i.length:r===Bi?s.length:s[0]?s[0].length:null}else if(e===Dr)i||(i=VE(t));else if(e===Jr)i||(i=[],z(t,function(u,p){i.push(p)}));else if(e===or){var l=Xo(t[0]);a=be(l)&&l.length||1}return{startIndex:o,dimensionsDefine:Ag(i),dimensionsDetectedCount:a}}function VE(t){for(var e=0,r;e<t.length&&!(r=t[e++]););if(r)return ft(r)}function Ag(t){if(t){var e=He();return De(t,function(r,n){r=Ae(r)?r:{name:r};var i={name:r.name,displayName:r.displayName,type:r.type};if(i.name==null)return i;i.name+="",i.displayName==null&&(i.displayName=i.name);var a=e.get(i.name);return a?i.name+="-"+a.count++:e.set(i.name,{count:1}),i})}}function kg(t,e,r,n){if(e===Bi)for(var i=0;i<r.length&&i<n;i++)t(r[i]?r[i][0]:null,i);else for(var a=r[0]||[],i=0;i<a.length&&i<n;i++)t(a[i],i)}function C_(t){var e=t.sourceFormat;return e===Dr||e===Jr}var di,pi,vi,gi,Dg,Ig,T_=(function(){function t(e,r){var n=Dd(e)?e:w_(e);this._source=n;var i=this._data=n.data,a=n.sourceFormat;n.seriesLayoutBy,a===Pn&&(this._offset=0,this._dimSize=r,this._data=i),Ig(this,i,n)}return t.prototype.getSource=function(){return this._source},t.prototype.count=function(){return 0},t.prototype.getItem=function(e,r){},t.prototype.appendData=function(e){},t.prototype.clean=function(){},t.protoInitialize=(function(){var e=t.prototype;e.pure=!1,e.persistent=!0})(),t.internalField=(function(){var e;Ig=function(o,s,l){var u=l.sourceFormat,p=l.seriesLayoutBy,c=l.startIndex,h=l.dimensionsDefine,v=Dg[Id(u,p)];if(pe(o,v),u===Pn)o.getItem=r,o.count=i,o.fillStorage=n;else{var m=x_(u,p);o.getItem=it(m,null,s,c,h);var _=M_(u,p);o.count=it(_,null,s,c,h)}};var r=function(o,s){o=o-this._offset,s=s||[];for(var l=this._data,u=this._dimSize,p=u*o,c=0;c<u;c++)s[c]=l[p+c];return s},n=function(o,s,l,u){for(var p=this._data,c=this._dimSize,h=0;h<c;h++){for(var v=u[h],m=v[0]==null?1/0:v[0],_=v[1]==null?-1/0:v[1],y=s-o,b=l[h],C=0;C<y;C++){var M=p[C*c+h];b[o+C]=M,M<m&&(m=M),M>_&&(_=M)}v[0]=m,v[1]=_}},i=function(){return this._data?this._data.length/this._dimSize:0};Dg=(e={},e[Ft+"_"+Yr]={pure:!0,appendData:a},e[Ft+"_"+Bi]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},e[Dr]={pure:!0,appendData:a},e[Jr]={pure:!0,appendData:function(o){var s=this._data;z(o,function(l,u){for(var p=s[u]||(s[u]=[]),c=0;c<(l||[]).length;c++)p.push(l[c])})}},e[or]={appendData:a},e[Pn]={persistent:!1,pure:!0,appendData:function(o){this._data=o},clean:function(){this._offset+=this.count(),this._data=null}},e);function a(o){for(var s=0;s<o.length;s++)this._data.push(o[s])}})(),t})(),Bs=function(t){be(t)||u0("series.data or dataset.source must be an array.")};di={},di[Ft+"_"+Yr]=Bs,di[Ft+"_"+Bi]=Bs,di[Dr]=Bs,di[Jr]=function(t,e){for(var r=0;r<e.length;r++){var n=e[r].name;n==null&&u0("dimension name must not be null/undefined.")}},di[or]=Bs;var Og=function(t,e,r,n){return t[n]},zE=(pi={},pi[Ft+"_"+Yr]=function(t,e,r,n){return t[n+e]},pi[Ft+"_"+Bi]=function(t,e,r,n,i){n+=e;for(var a=i||[],o=t,s=0;s<o.length;s++){var l=o[s];a[s]=l?l[n]:null}return a},pi[Dr]=Og,pi[Jr]=function(t,e,r,n,i){for(var a=i||[],o=0;o<r.length;o++){var s=r[o].name,l=s!=null?t[s]:null;a[o]=l?l[n]:null}return a},pi[or]=Og,pi);function x_(t,e){var r=zE[Id(t,e)];return r}var Pg=function(t,e,r){return t.length},UE=(vi={},vi[Ft+"_"+Yr]=function(t,e,r){return Math.max(0,t.length-e)},vi[Ft+"_"+Bi]=function(t,e,r){var n=t[0];return n?Math.max(0,n.length-e):0},vi[Dr]=Pg,vi[Jr]=function(t,e,r){var n=r[0].name,i=n!=null?t[n]:null;return i?i.length:0},vi[or]=Pg,vi);function M_(t,e){var r=UE[Id(t,e)];return r}var Bc=function(t,e,r){return t[e]},GE=(gi={},gi[Ft]=Bc,gi[Dr]=function(t,e,r){return t[r]},gi[Jr]=Bc,gi[or]=function(t,e,r){var n=Xo(t);return n instanceof Array?n[e]:n},gi[Pn]=Bc,gi);function L_(t){var e=GE[t];return e}function Id(t,e){return t===Ft?t+"_"+e:t}function xa(t,e,r){if(t){var n=t.getRawDataItem(e);if(n!=null){var i=t.getStore(),a=i.getSource().sourceFormat;if(r!=null){var o=t.getDimensionIndex(r),s=i.getDimensionProperty(o);return L_(a)(n,o,s)}else{var l=n;return a===or&&(l=Xo(n)),l}}}}var WE=/\{@(.+?)\}/g,jE=(function(){function t(){}return t.prototype.getDataParams=function(e,r){var n=this.getData(r),i=this.getRawValue(e,r),a=n.getRawIndex(e),o=n.getName(e),s=n.getRawDataItem(e),l=n.getItemVisual(e,"style"),u=l&&l[n.getItemVisual(e,"drawType")||"fill"],p=l&&l.stroke,c=this.mainType,h=c==="series",v=n.userOutput&&n.userOutput.get();return{componentType:c,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:h?this.subType:null,seriesIndex:this.seriesIndex,seriesId:h?this.id:null,seriesName:h?this.name:null,name:o,dataIndex:a,data:s,dataType:r,value:i,color:u,borderColor:p,dimensionNames:v?v.fullDimensions:null,encode:v?v.encode:null,$vars:["seriesName","name","value"]}},t.prototype.getFormattedLabel=function(e,r,n,i,a,o){r=r||"normal";var s=this.getData(n),l=this.getDataParams(e,n);if(o&&(l.value=o.interpolatedValue),i!=null&&be(l.value)&&(l.value=l.value[i]),!a){var u=s.getItemModel(e);a=u.get(r==="normal"?["label","formatter"]:[r,"label","formatter"])}if(Ie(a))return l.status=r,l.dimensionIndex=i,a(l);if(xe(a)){var p=c_(a,l);return p.replace(WE,function(c,h){var v=h.length,m=h;m.charAt(0)==="["&&m.charAt(v-1)==="]"&&(m=+m.slice(1,v-1));var _=xa(s,e,m);if(o&&be(o.interpolatedValue)){var y=s.getDimensionIndex(m);y>=0&&(_=o.interpolatedValue[y])}return _!=null?_+"":""})}},t.prototype.getRawValue=function(e,r){return xa(this.getData(r),e)},t.prototype.formatTooltip=function(e,r,n){},t})();function Rg(t){var e,r;return Ae(t)?t.type&&(r=t):e=t,{text:e,frag:r}}function xo(t){return new qE(t)}var qE=(function(){function t(e){e=e||{},this._reset=e.reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0}return t.prototype.perform=function(e){var r=this._upstream,n=e&&e.skip;if(this._dirty&&r){var i=this.context;i.data=i.outputData=r.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var a;this._plan&&!n&&(a=this._plan(this.context));var o=p(this._modBy),s=this._modDataCount||0,l=p(e&&e.modBy),u=e&&e.modDataCount||0;(o!==l||s!==u)&&(a="reset");function p(C){return!(C>=1)&&(C=1),C}var c;(this._dirty||a==="reset")&&(this._dirty=!1,c=this._doReset(n)),this._modBy=l,this._modDataCount=u;var h=e&&e.step;if(r?this._dueEnd=r._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var v=this._dueIndex,m=Math.min(h!=null?this._dueIndex+h:1/0,this._dueEnd);if(!n&&(c||v<m)){var _=this._progress;if(be(_))for(var y=0;y<_.length;y++)this._doProgress(_[y],v,m,l,u);else this._doProgress(_,v,m,l,u)}this._dueIndex=m;var b=this._settedOutputEnd!=null?this._settedOutputEnd:m;this._outputDueEnd=b}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},t.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},t.prototype._doProgress=function(e,r,n,i,a){Ng.reset(r,n,i,a),this._callingProgress=e,this._callingProgress({start:r,end:n,count:n-r,next:Ng.next},this.context)},t.prototype._doReset=function(e){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var r,n;!e&&this._reset&&(r=this._reset(this.context),r&&r.progress&&(n=r.forceFirstProgress,r=r.progress),be(r)&&!r.length&&(r=null)),this._progress=r,this._modBy=this._modDataCount=null;var i=this._downstream;return i&&i.dirty(),n},t.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},t.prototype.pipe=function(e){(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())},t.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},t.prototype.getUpstream=function(){return this._upstream},t.prototype.getDownstream=function(){return this._downstream},t.prototype.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e},t})(),Ng=(function(){var t,e,r,n,i,a={reset:function(l,u,p,c){e=l,t=u,r=p,n=c,i=Math.ceil(n/r),a.next=r>1&&n>0?s:o}};return a;function o(){return e<t?e++:null}function s(){var l=e%i*r+Math.ceil(e/i),u=e>=t?null:l<n?l:e;return e++,u}})();function pl(t,e){var r=e&&e.type;return r==="ordinal"?t:(r==="time"&&!ct(t)&&t!=null&&t!=="-"&&(t=+Da(t)),t==null||t===""?NaN:Number(t))}He({number:function(t){return parseFloat(t)},time:function(t){return+Da(t)},trim:function(t){return xe(t)?zr(t):t}});var $E=(function(){function t(e,r){var n=e==="desc";this._resultLT=n?1:-1,r==null&&(r=n?"min":"max"),this._incomparable=r==="min"?-1/0:1/0}return t.prototype.evaluate=function(e,r){var n=ct(e)?e:Al(e),i=ct(r)?r:Al(r),a=isNaN(n),o=isNaN(i);if(a&&(n=this._incomparable),o&&(i=this._incomparable),a&&o){var s=xe(e),l=xe(r);s&&(n=l?e:0),l&&(i=s?r:0)}return n<i?this._resultLT:n>i?-this._resultLT:0},t})(),YE=(function(){function t(){}return t.prototype.getRawData=function(){throw new Error("not supported")},t.prototype.getRawDataItem=function(e){throw new Error("not supported")},t.prototype.cloneRawData=function(){},t.prototype.getDimensionInfo=function(e){},t.prototype.cloneAllDimensionInfo=function(){},t.prototype.count=function(){},t.prototype.retrieveValue=function(e,r){},t.prototype.retrieveValueFromItem=function(e,r){},t.prototype.convertValue=function(e,r){return pl(e,r)},t})();function KE(t,e){var r=new YE,n=t.data,i=r.sourceFormat=t.sourceFormat,a=t.startIndex,o="";t.seriesLayoutBy!==Yr&&Kt(o);var s=[],l={},u=t.dimensionsDefine;if(u)z(u,function(_,y){var b=_.name,C={index:y,name:b,displayName:_.displayName};if(s.push(C),b!=null){var M="";Lr(l,b)&&Kt(M),l[b]=C}});else for(var p=0;p<t.dimensionsDetectedCount;p++)s.push({index:p});var c=x_(i,Yr);e.__isBuiltIn&&(r.getRawDataItem=function(_){return c(n,a,s,_)},r.getRawData=it(XE,null,t)),r.cloneRawData=it(ZE,null,t);var h=M_(i,Yr);r.count=it(h,null,n,a,s);var v=L_(i);r.retrieveValue=function(_,y){var b=c(n,a,s,_);return m(b,y)};var m=r.retrieveValueFromItem=function(_,y){if(_!=null){var b=s[y];if(b)return v(_,y,b.name)}};return r.getDimensionInfo=it(QE,null,s,l),r.cloneAllDimensionInfo=it(JE,null,s),r}function XE(t){var e=t.sourceFormat;if(!Od(e)){var r="";Kt(r)}return t.data}function ZE(t){var e=t.sourceFormat,r=t.data;if(!Od(e)){var n="";Kt(n)}if(e===Ft){for(var i=[],a=0,o=r.length;a<o;a++)i.push(r[a].slice());return i}else if(e===Dr){for(var i=[],a=0,o=r.length;a<o;a++)i.push(pe({},r[a]));return i}}function QE(t,e,r){if(r!=null){if(ct(r)||!isNaN(r)&&!Lr(e,r))return t[r];if(Lr(e,r))return e[r]}}function JE(t){return je(t)}var E_=He();function eA(t){t=je(t);var e=t.type,r="";e||Kt(r);var n=e.split(":");n.length!==2&&Kt(r);var i=!1;n[0]==="echarts"&&(e=n[1],i=!0),t.__isBuiltIn=i,E_.set(e,t)}function tA(t,e,r){var n=Ut(t),i=n.length,a="";i||Kt(a);for(var o=0,s=i;o<s;o++){var l=n[o];e=rA(l,e),o!==s-1&&(e.length=Math.max(e.length,1))}return e}function rA(t,e,r,n){var i="";e.length||Kt(i),Ae(t)||Kt(i);var a=t.type,o=E_.get(a);o||Kt(i);var s=De(e,function(u){return KE(u,o)}),l=Ut(o.transform({upstream:s[0],upstreamList:s,config:je(t.config)}));return De(l,function(u,p){var c="";Ae(u)||Kt(c),u.data||Kt(c);var h=S_(u.data);Od(h)||Kt(c);var v,m=e[0];if(m&&p===0&&!u.dimensions){var _=m.startIndex;_&&(u.data=m.data.slice(0,_).concat(u.data)),v={seriesLayoutBy:Yr,sourceHeader:_,dimensions:m.metaRawOption.dimensions}}else v={seriesLayoutBy:Yr,sourceHeader:0,dimensions:u.dimensions};return Qf(u.data,v,null)})}function Od(t){return t===Ft||t===Dr}var bu="undefined",nA=typeof Uint32Array===bu?Array:Uint32Array,iA=typeof Uint16Array===bu?Array:Uint16Array,A_=typeof Int32Array===bu?Array:Int32Array,Bg=typeof Float64Array===bu?Array:Float64Array,k_={float:Bg,int:A_,ordinal:Array,number:Array,time:Bg},Hc;function ra(t){return t>65535?nA:iA}function na(){return[1/0,-1/0]}function aA(t){var e=t.constructor;return e===Array?t.slice():new e(t)}function Hg(t,e,r,n,i){var a=k_[r||"float"];if(i){var o=t[e],s=o&&o.length;if(s!==n){for(var l=new a(n),u=0;u<s;u++)l[u]=o[u];t[e]=l}}else t[e]=new a(n)}var Jf=(function(){function t(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=He()}return t.prototype.initData=function(e,r,n){this._provider=e,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var i=e.getSource(),a=this.defaultDimValueGetter=Hc[i.sourceFormat];this._dimValueGetter=n||a,this._rawExtent=[],C_(i),this._dimensions=De(r,function(o){return{type:o.type,property:o.property}}),this._initDataFromProvider(0,e.count())},t.prototype.getProvider=function(){return this._provider},t.prototype.getSource=function(){return this._provider.getSource()},t.prototype.ensureCalculationDimension=function(e,r){var n=this._calcDimNameToIdx,i=this._dimensions,a=n.get(e);if(a!=null){if(i[a].type===r)return a}else a=i.length;return i[a]={type:r},n.set(e,a),this._chunks[a]=new k_[r||"float"](this._rawCount),this._rawExtent[a]=na(),a},t.prototype.collectOrdinalMeta=function(e,r){var n=this._chunks[e],i=this._dimensions[e],a=this._rawExtent,o=i.ordinalOffset||0,s=n.length;o===0&&(a[e]=na());for(var l=a[e],u=o;u<s;u++){var p=n[u]=r.parseAndCollect(n[u]);isNaN(p)||(l[0]=Math.min(p,l[0]),l[1]=Math.max(p,l[1]))}i.ordinalMeta=r,i.ordinalOffset=s,i.type="ordinal"},t.prototype.getOrdinalMeta=function(e){var r=this._dimensions[e],n=r.ordinalMeta;return n},t.prototype.getDimensionProperty=function(e){var r=this._dimensions[e];return r&&r.property},t.prototype.appendData=function(e){var r=this._provider,n=this.count();r.appendData(e);var i=r.count();return r.persistent||(i+=n),n<i&&this._initDataFromProvider(n,i,!0),[n,i]},t.prototype.appendValues=function(e,r){for(var n=this._chunks,i=this._dimensions,a=i.length,o=this._rawExtent,s=this.count(),l=s+Math.max(e.length,r||0),u=0;u<a;u++){var p=i[u];Hg(n,u,p.type,l,!0)}for(var c=[],h=s;h<l;h++)for(var v=h-s,m=0;m<a;m++){var p=i[m],_=Hc.arrayRows.call(this,e[v]||c,p.property,v,m);n[m][h]=_;var y=o[m];_<y[0]&&(y[0]=_),_>y[1]&&(y[1]=_)}return this._rawCount=this._count=l,{start:s,end:l}},t.prototype._initDataFromProvider=function(e,r,n){for(var i=this._provider,a=this._chunks,o=this._dimensions,s=o.length,l=this._rawExtent,u=De(o,function(C){return C.property}),p=0;p<s;p++){var c=o[p];l[p]||(l[p]=na()),Hg(a,p,c.type,r,n)}if(i.fillStorage)i.fillStorage(e,r,a,l);else for(var h=[],v=e;v<r;v++){h=i.getItem(v,h);for(var m=0;m<s;m++){var _=a[m],y=this._dimValueGetter(h,u[m],v,m);_[v]=y;var b=l[m];y<b[0]&&(b[0]=y),y>b[1]&&(b[1]=y)}}!i.persistent&&i.clean&&i.clean(),this._rawCount=this._count=r,this._extent=[]},t.prototype.count=function(){return this._count},t.prototype.get=function(e,r){if(!(r>=0&&r<this._count))return NaN;var n=this._chunks[e];return n?n[this.getRawIndex(r)]:NaN},t.prototype.getValues=function(e,r){var n=[],i=[];if(r==null){r=e,e=[];for(var a=0;a<this._dimensions.length;a++)i.push(a)}else i=e;for(var a=0,o=i.length;a<o;a++)n.push(this.get(i[a],r));return n},t.prototype.getByRawIndex=function(e,r){if(!(r>=0&&r<this._rawCount))return NaN;var n=this._chunks[e];return n?n[r]:NaN},t.prototype.getSum=function(e){var r=this._chunks[e],n=0;if(r)for(var i=0,a=this.count();i<a;i++){var o=this.get(e,i);isNaN(o)||(n+=o)}return n},t.prototype.getMedian=function(e){var r=[];this.each([e],function(a){isNaN(a)||r.push(a)});var n=r.sort(function(a,o){return a-o}),i=this.count();return i===0?0:i%2===1?n[(i-1)/2]:(n[i/2]+n[i/2-1])/2},t.prototype.indexOfRawIndex=function(e){if(e>=this._rawCount||e<0)return-1;if(!this._indices)return e;var r=this._indices,n=r[e];if(n!=null&&n<this._count&&n===e)return e;for(var i=0,a=this._count-1;i<=a;){var o=(i+a)/2|0;if(r[o]<e)i=o+1;else if(r[o]>e)a=o-1;else return o}return-1},t.prototype.getIndices=function(){var e,r=this._indices;if(r){var n=r.constructor,i=this._count;if(n===Array){e=new n(i);for(var a=0;a<i;a++)e[a]=r[a]}else e=new n(r.buffer,0,i)}else{var n=ra(this._rawCount);e=new n(this.count());for(var a=0;a<e.length;a++)e[a]=a}return e},t.prototype.filter=function(e,r){if(!this._count)return this;for(var n=this.clone(),i=n.count(),a=ra(n._rawCount),o=new a(i),s=[],l=e.length,u=0,p=e[0],c=n._chunks,h=0;h<i;h++){var v=void 0,m=n.getRawIndex(h);if(l===0)v=r(h);else if(l===1){var _=c[p][m];v=r(_,h)}else{for(var y=0;y<l;y++)s[y]=c[e[y]][m];s[y]=h,v=r.apply(null,s)}v&&(o[u++]=m)}return u<i&&(n._indices=o),n._count=u,n._extent=[],n._updateGetRawIdx(),n},t.prototype.selectRange=function(e){var r=this.clone(),n=r._count;if(!n)return this;var i=ft(e),a=i.length;if(!a)return this;var o=r.count(),s=ra(r._rawCount),l=new s(o),u=0,p=i[0],c=e[p][0],h=e[p][1],v=r._chunks,m=!1;if(!r._indices){var _=0;if(a===1){for(var y=v[i[0]],b=0;b<n;b++){var C=y[b];(C>=c&&C<=h||isNaN(C))&&(l[u++]=_),_++}m=!0}else if(a===2){for(var y=v[i[0]],M=v[i[1]],L=e[i[1]][0],T=e[i[1]][1],b=0;b<n;b++){var C=y[b],E=M[b];(C>=c&&C<=h||isNaN(C))&&(E>=L&&E<=T||isNaN(E))&&(l[u++]=_),_++}m=!0}}if(!m)if(a===1)for(var b=0;b<o;b++){var k=r.getRawIndex(b),C=v[i[0]][k];(C>=c&&C<=h||isNaN(C))&&(l[u++]=k)}else for(var b=0;b<o;b++){for(var P=!0,k=r.getRawIndex(b),D=0;D<a;D++){var N=i[D],C=v[N][k];(C<e[N][0]||C>e[N][1])&&(P=!1)}P&&(l[u++]=r.getRawIndex(b))}return u<o&&(r._indices=l),r._count=u,r._extent=[],r._updateGetRawIdx(),r},t.prototype.map=function(e,r){var n=this.clone(e);return this._updateDims(n,e,r),n},t.prototype.modify=function(e,r){this._updateDims(this,e,r)},t.prototype._updateDims=function(e,r,n){for(var i=e._chunks,a=[],o=r.length,s=e.count(),l=[],u=e._rawExtent,p=0;p<r.length;p++)u[r[p]]=na();for(var c=0;c<s;c++){for(var h=e.getRawIndex(c),v=0;v<o;v++)l[v]=i[r[v]][h];l[o]=c;var m=n&&n.apply(null,l);if(m!=null){typeof m!="object"&&(a[0]=m,m=a);for(var p=0;p<m.length;p++){var _=r[p],y=m[p],b=u[_],C=i[_];C&&(C[h]=y),y<b[0]&&(b[0]=y),y>b[1]&&(b[1]=y)}}}},t.prototype.lttbDownSample=function(e,r){var n=this.clone([e],!0),i=n._chunks,a=i[e],o=this.count(),s=0,l=Math.floor(1/r),u=this.getRawIndex(0),p,c,h,v=new(ra(this._rawCount))(Math.min((Math.ceil(o/l)+2)*2,o));v[s++]=u;for(var m=1;m<o-1;m+=l){for(var _=Math.min(m+l,o-1),y=Math.min(m+l*2,o),b=(y+_)/2,C=0,M=_;M<y;M++){var L=this.getRawIndex(M),T=a[L];isNaN(T)||(C+=T)}C/=y-_;var E=m,k=Math.min(m+l,o),P=m-1,D=a[u];p=-1,h=E;for(var N=-1,B=0,M=E;M<k;M++){var L=this.getRawIndex(M),T=a[L];if(isNaN(T)){B++,N<0&&(N=L);continue}c=Math.abs((P-b)*(T-D)-(P-M)*(C-D)),c>p&&(p=c,h=L)}B>0&&B<k-E&&(v[s++]=Math.min(N,h),h=Math.max(N,h)),v[s++]=h,u=h}return v[s++]=this.getRawIndex(o-1),n._count=s,n._indices=v,n.getRawIndex=this._getRawIdx,n},t.prototype.minmaxDownSample=function(e,r){for(var n=this.clone([e],!0),i=n._chunks,a=Math.floor(1/r),o=i[e],s=this.count(),l=new(ra(this._rawCount))(Math.ceil(s/a)*2),u=0,p=0;p<s;p+=a){var c=p,h=o[this.getRawIndex(c)],v=p,m=o[this.getRawIndex(v)],_=a;p+a>s&&(_=s-p);for(var y=0;y<_;y++){var b=this.getRawIndex(p+y),C=o[b];C<h&&(h=C,c=p+y),C>m&&(m=C,v=p+y)}var M=this.getRawIndex(c),L=this.getRawIndex(v);c<v?(l[u++]=M,l[u++]=L):(l[u++]=L,l[u++]=M)}return n._count=u,n._indices=l,n._updateGetRawIdx(),n},t.prototype.downSample=function(e,r,n,i){for(var a=this.clone([e],!0),o=a._chunks,s=[],l=Math.floor(1/r),u=o[e],p=this.count(),c=a._rawExtent[e]=na(),h=new(ra(this._rawCount))(Math.ceil(p/l)),v=0,m=0;m<p;m+=l){l>p-m&&(l=p-m,s.length=l);for(var _=0;_<l;_++){var y=this.getRawIndex(m+_);s[_]=u[y]}var b=n(s),C=this.getRawIndex(Math.min(m+i(s,b)||0,p-1));u[C]=b,b<c[0]&&(c[0]=b),b>c[1]&&(c[1]=b),h[v++]=C}return a._count=v,a._indices=h,a._updateGetRawIdx(),a},t.prototype.each=function(e,r){if(this._count)for(var n=e.length,i=this._chunks,a=0,o=this.count();a<o;a++){var s=this.getRawIndex(a);switch(n){case 0:r(a);break;case 1:r(i[e[0]][s],a);break;case 2:r(i[e[0]][s],i[e[1]][s],a);break;default:for(var l=0,u=[];l<n;l++)u[l]=i[e[l]][s];u[l]=a,r.apply(null,u)}}},t.prototype.getDataExtent=function(e){var r=this._chunks[e],n=na();if(!r)return n;var i=this.count(),a=!this._indices,o;if(a)return this._rawExtent[e].slice();if(o=this._extent[e],o)return o.slice();o=n;for(var s=o[0],l=o[1],u=0;u<i;u++){var p=this.getRawIndex(u),c=r[p];c<s&&(s=c),c>l&&(l=c)}return o=[s,l],this._extent[e]=o,o},t.prototype.getRawDataItem=function(e){var r=this.getRawIndex(e);if(this._provider.persistent)return this._provider.getItem(r);for(var n=[],i=this._chunks,a=0;a<i.length;a++)n.push(i[a][r]);return n},t.prototype.clone=function(e,r){var n=new t,i=this._chunks,a=e&&Aa(e,function(s,l){return s[l]=!0,s},{});if(a)for(var o=0;o<i.length;o++)n._chunks[o]=a[o]?aA(i[o]):i[o];else n._chunks=i;return this._copyCommonProps(n),r||(n._indices=this._cloneIndices()),n._updateGetRawIdx(),n},t.prototype._copyCommonProps=function(e){e._count=this._count,e._rawCount=this._rawCount,e._provider=this._provider,e._dimensions=this._dimensions,e._extent=je(this._extent),e._rawExtent=je(this._rawExtent)},t.prototype._cloneIndices=function(){if(this._indices){var e=this._indices.constructor,r=void 0;if(e===Array){var n=this._indices.length;r=new e(n);for(var i=0;i<n;i++)r[i]=this._indices[i]}else r=new e(this._indices);return r}return null},t.prototype._getRawIdxIdentity=function(e){return e},t.prototype._getRawIdx=function(e){return e<this._count&&e>=0?this._indices[e]:-1},t.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},t.internalField=(function(){function e(r,n,i,a){return pl(r[a],this._dimensions[a])}Hc={arrayRows:e,objectRows:function(r,n,i,a){return pl(r[n],this._dimensions[a])},keyedColumns:e,original:function(r,n,i,a){var o=r&&(r.value==null?r:r.value);return pl(o instanceof Array?o[a]:o,this._dimensions[a])},typedArray:function(r,n,i,a){return r[a]}}})(),t})(),oA=(function(){function t(e){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=e}return t.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},t.prototype._setLocalSource=function(e,r){this._sourceList=e,this._upstreamSignList=r,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},t.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},t.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},t.prototype._createSource=function(){this._setLocalSource([],[]);var e=this._sourceHost,r=this._getUpstreamSourceManagers(),n=!!r.length,i,a;if(Hs(e)){var o=e,s=void 0,l=void 0,u=void 0;if(n){var p=r[0];p.prepareSource(),u=p.getSource(),s=u.data,l=u.sourceFormat,a=[p._getVersionSign()]}else s=o.get("data",!0),l=Jt(s)?Pn:or,a=[];var c=this._getSourceMetaRawOption()||{},h=u&&u.metaRawOption||{},v=ke(c.seriesLayoutBy,h.seriesLayoutBy)||null,m=ke(c.sourceHeader,h.sourceHeader),_=ke(c.dimensions,h.dimensions),y=v!==h.seriesLayoutBy||!!m!=!!h.sourceHeader||_;i=y?[Qf(s,{seriesLayoutBy:v,sourceHeader:m,dimensions:_},l)]:[]}else{var b=e;if(n){var C=this._applyTransform(r);i=C.sourceList,a=C.upstreamSignList}else{var M=b.get("source",!0);i=[Qf(M,this._getSourceMetaRawOption(),null)],a=[]}}this._setLocalSource(i,a)},t.prototype._applyTransform=function(e){var r=this._sourceHost,n=r.get("transform",!0),i=r.get("fromTransformResult",!0);if(i!=null){var a="";e.length!==1&&Fg(a)}var o,s=[],l=[];return z(e,function(u){u.prepareSource();var p=u.getSource(i||0),c="";i!=null&&!p&&Fg(c),s.push(p),l.push(u._getVersionSign())}),n?o=tA(n,s,{datasetIndex:r.componentIndex}):i!=null&&(o=[HE(s[0])]),{sourceList:o,upstreamSignList:l}},t.prototype._isDirty=function(){if(this._dirty)return!0;for(var e=this._getUpstreamSourceManagers(),r=0;r<e.length;r++){var n=e[r];if(n._isDirty()||this._upstreamSignList[r]!==n._getVersionSign())return!0}},t.prototype.getSource=function(e){e=e||0;var r=this._sourceList[e];if(!r){var n=this._getUpstreamSourceManagers();return n[0]&&n[0].getSource(e)}return r},t.prototype.getSharedDataStore=function(e){var r=e.makeStoreSchema();return this._innerGetDataStore(r.dimensions,e.source,r.hash)},t.prototype._innerGetDataStore=function(e,r,n){var i=0,a=this._storeList,o=a[i];o||(o=a[i]={});var s=o[n];if(!s){var l=this._getUpstreamSourceManagers()[0];Hs(this._sourceHost)&&l?s=l._innerGetDataStore(e,r,n):(s=new Jf,s.initData(new T_(r,e.length),e)),o[n]=s}return s},t.prototype._getUpstreamSourceManagers=function(){var e=this._sourceHost;if(Hs(e)){var r=g_(e);return r?[r.getSourceManager()]:[]}else return De(hE(e),function(n){return n.getSourceManager()})},t.prototype._getSourceMetaRawOption=function(){var e=this._sourceHost,r,n,i;if(Hs(e))r=e.get("seriesLayoutBy",!0),n=e.get("sourceHeader",!0),i=e.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var a=e;r=a.get("seriesLayoutBy",!0),n=a.get("sourceHeader",!0),i=a.get("dimensions",!0)}return{seriesLayoutBy:r,sourceHeader:n,dimensions:i}},t})();function Hs(t){return t.mainType==="series"}function Fg(t){throw new Error(t)}var sA="line-height:1";function D_(t){var e=t.lineHeight;return e==null?sA:"line-height:"+$t(e+"")+"px"}function I_(t,e){var r=t.color||Le.color.tertiary,n=t.fontSize||12,i=t.fontWeight||"400",a=t.color||Le.color.secondary,o=t.fontSize||14,s=t.fontWeight||"900";return e==="html"?{nameStyle:"font-size:"+$t(n+"")+"px;color:"+$t(r)+";font-weight:"+$t(i+""),valueStyle:"font-size:"+$t(o+"")+"px;color:"+$t(a)+";font-weight:"+$t(s+"")}:{nameStyle:{fontSize:n,fill:r,fontWeight:i},valueStyle:{fontSize:o,fill:a,fontWeight:s}}}var lA=[0,10,20,30],uA=["",`
`,`

`,`


`];function Fo(t,e){return e.type=t,e}function eh(t){return t.type==="section"}function O_(t){return eh(t)?cA:fA}function P_(t){if(eh(t)){var e=0,r=t.blocks.length,n=r>1||r>0&&!t.noHeader;return z(t.blocks,function(i){var a=P_(i);a>=e&&(e=a+ +(n&&(!a||eh(i)&&!i.noHeader)))}),e}return 0}function cA(t,e,r,n){var i=e.noHeader,a=hA(P_(e)),o=[],s=e.blocks||[];dn(!s||be(s)),s=s||[];var l=t.orderMode;if(e.sortBlocks&&l){s=s.slice();var u={valueAsc:"asc",valueDesc:"desc"};if(Lr(u,l)){var p=new $E(u[l],null);s.sort(function(_,y){return p.evaluate(_.sortParam,y.sortParam)})}else l==="seriesDesc"&&s.reverse()}z(s,function(_,y){var b=e.valueFormatter,C=O_(_)(b?pe(pe({},t),{valueFormatter:b}):t,_,y>0?a.html:0,n);C!=null&&o.push(C)});var c=t.renderMode==="richText"?o.join(a.richText):th(n,o.join(""),i?r:a.html);if(i)return c;var h=Zf(e.header,"ordinal",t.useUTC),v=I_(n,t.renderMode).nameStyle,m=D_(n);return t.renderMode==="richText"?R_(t,h,v)+a.richText+c:th(n,'<div style="'+v+";"+m+';">'+$t(h)+"</div>"+c,r)}function fA(t,e,r,n){var i=t.renderMode,a=e.noName,o=e.noValue,s=!e.markerType,l=e.name,u=t.useUTC,p=e.valueFormatter||t.valueFormatter||function(L){return L=be(L)?L:[L],De(L,function(T,E){return Zf(T,be(v)?v[E]:v,u)})};if(!(a&&o)){var c=s?"":t.markupStyleCreator.makeTooltipMarker(e.markerType,e.markerColor||Le.color.secondary,i),h=a?"":Zf(l,"ordinal",u),v=e.valueType,m=o?[]:p(e.value,e.dataIndex),_=!s||!a,y=!s&&a,b=I_(n,i),C=b.nameStyle,M=b.valueStyle;return i==="richText"?(s?"":c)+(a?"":R_(t,h,C))+(o?"":vA(t,m,_,y,M)):th(n,(s?"":c)+(a?"":dA(h,!s,C))+(o?"":pA(m,_,y,M)),r)}}function Vg(t,e,r,n,i,a){if(t){var o=O_(t),s={useUTC:i,renderMode:r,orderMode:n,markupStyleCreator:e,valueFormatter:t.valueFormatter};return o(s,t,0,a)}}function hA(t){return{html:lA[t],richText:uA[t]}}function th(t,e,r){var n='<div style="clear:both"></div>',i="margin: "+r+"px 0 0",a=D_(t);return'<div style="'+i+";"+a+';">'+e+n+"</div>"}function dA(t,e,r){var n=e?"margin-left:2px":"";return'<span style="'+r+";"+n+'">'+$t(t)+"</span>"}function pA(t,e,r,n){var i=r?"10px":"20px",a=e?"float:right;margin-left:"+i:"";return t=be(t)?t:[t],'<span style="'+a+";"+n+'">'+De(t,function(o){return $t(o)}).join("&nbsp;&nbsp;")+"</span>"}function R_(t,e,r){return t.markupStyleCreator.wrapRichTextStyle(e,r)}function vA(t,e,r,n,i){var a=[i],o=n?10:20;return r&&a.push({padding:[0,0,0,o],align:"right"}),t.markupStyleCreator.wrapRichTextStyle(be(e)?e.join("  "):e,a)}function gA(t,e){var r=t.getData().getItemVisual(e,"style"),n=r[t.visualDrawType];return Pi(n)}function N_(t,e){var r=t.get("padding");return r??(e==="richText"?[8,10]:10)}var Fc=(function(){function t(){this.richTextStyles={},this._nextStyleNameId=s0()}return t.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},t.prototype.makeTooltipMarker=function(e,r,n){var i=n==="richText"?this._generateStyleName():null,a=ZL({color:r,type:e,renderMode:n,markerId:i});return xe(a)?a:(this.richTextStyles[i]=a.style,a.content)},t.prototype.wrapRichTextStyle=function(e,r){var n={};be(r)?z(r,function(a){return pe(n,a)}):pe(n,r);var i=this._generateStyleName();return this.richTextStyles[i]=n,"{"+i+"|"+e+"}"},t})();function mA(t){var e=t.series,r=t.dataIndex,n=t.multipleSeries,i=e.getData(),a=i.mapDimensionsAll("defaultedTooltip"),o=a.length,s=e.getRawValue(r),l=be(s),u=gA(e,r),p,c,h,v;if(o>1||l&&!o){var m=yA(s,e,r,a,u);p=m.inlineValues,c=m.inlineValueTypes,h=m.blocks,v=m.inlineValues[0]}else if(o){var _=i.getDimensionInfo(a[0]);v=p=xa(i,r,a[0]),c=_.type}else v=p=l?s[0]:s;var y=$h(e),b=y&&e.name||"",C=i.getName(r),M=n?b:C;return Fo("section",{header:b,noHeader:n||!y,sortParam:v,blocks:[Fo("nameValue",{markerType:"item",markerColor:u,name:M,noName:!zr(M),value:p,valueType:c,dataIndex:r})].concat(h||[])})}function yA(t,e,r,n,i){var a=e.getData(),o=Aa(t,function(c,h,v){var m=a.getDimensionInfo(v);return c=c||m&&m.tooltip!==!1&&m.displayName!=null},!1),s=[],l=[],u=[];n.length?z(n,function(c){p(xa(a,r,c),c)}):z(t,p);function p(c,h){var v=a.getDimensionInfo(h);!v||v.otherDims.tooltip===!1||(o?u.push(Fo("nameValue",{markerType:"subItem",markerColor:i,name:v.displayName,value:c,valueType:v.type})):(s.push(c),l.push(v.type)))}return{inlineValues:s,inlineValueTypes:l,blocks:u}}var wn=gt();function Fs(t,e){return t.getName(e)||t.getId(e)}var _A="__universalTransitionEnabled",Un=(function(t){_e(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r._selectedDataIndicesMap={},r}return e.prototype.init=function(r,n,i){this.seriesIndex=this.componentIndex,this.dataTask=xo({count:wA,reset:SA}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(r,i);var a=wn(this).sourceManager=new oA(this);a.prepareSource();var o=this.getInitialData(r,i);Ug(o,this),this.dataTask.context.data=o,wn(this).dataBeforeProcessed=o,zg(this),this._initSelectedMapFromData(o)},e.prototype.mergeDefaultAndTheme=function(r,n){var i=Bo(this),a=i?es(r):{},o=this.subType;et.hasClass(o)&&(o+="Series"),Ze(r,n.getTheme().get(this.subType)),Ze(r,this.getDefaultOption()),_v(r,"label",["show"]),this.fillDataTextStyle(r.data),i&&zn(r,a,i)},e.prototype.mergeOption=function(r,n){r=Ze(this.option,r,!0),this.fillDataTextStyle(r.data);var i=Bo(this);i&&zn(this.option,r,i);var a=wn(this).sourceManager;a.dirty(),a.prepareSource();var o=this.getInitialData(r,n);Ug(o,this),this.dataTask.dirty(),this.dataTask.context.data=o,wn(this).dataBeforeProcessed=o,zg(this),this._initSelectedMapFromData(o)},e.prototype.fillDataTextStyle=function(r){if(r&&!Jt(r))for(var n=["show"],i=0;i<r.length;i++)r[i]&&r[i].label&&_v(r[i],"label",n)},e.prototype.getInitialData=function(r,n){},e.prototype.appendData=function(r){var n=this.getRawData();n.appendData(r.data)},e.prototype.getData=function(r){var n=rh(this);if(n){var i=n.context.data;return r==null||!i.getLinkedData?i:i.getLinkedData(r)}else return wn(this).data},e.prototype.getAllData=function(){var r=this.getData();return r&&r.getLinkedDataAll?r.getLinkedDataAll():[{data:r}]},e.prototype.setData=function(r){var n=rh(this);if(n){var i=n.context;i.outputData=r,n!==this.dataTask&&(i.data=r)}wn(this).data=r},e.prototype.getEncode=function(){var r=this.get("encode",!0);if(r)return He(r)},e.prototype.getSourceManager=function(){return wn(this).sourceManager},e.prototype.getSource=function(){return this.getSourceManager().getSource()},e.prototype.getRawData=function(){return wn(this).dataBeforeProcessed},e.prototype.getColorBy=function(){var r=this.get("colorBy");return r||"series"},e.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},e.prototype.getBaseAxis=function(){var r=this.coordinateSystem;return r&&r.getBaseAxis&&r.getBaseAxis()},e.prototype.indicesOfNearest=function(r,n,i,a){var o=this.getData(),s=this.coordinateSystem,l=s&&s.getAxis(r);if(!s||!l)return[];var u=l.dataToCoord(i);a==null&&(a=1/0);var p=[],c=1/0,h=-1,v=0;return o.each(n,function(m,_){var y=l.dataToCoord(m),b=u-y,C=Math.abs(b);C<=a&&((C<c||C===c&&b>=0&&h<0)&&(c=C,h=b,v=0),b===h&&(p[v++]=_))}),p.length=v,p},e.prototype.formatTooltip=function(r,n,i){return mA({series:this,dataIndex:r,multipleSeries:n})},e.prototype.isAnimationEnabled=function(){var r=this.ecModel;if(Pe.node&&!(r&&r.ssr))return!1;var n=this.getShallow("animation");return n&&this.getData().count()>this.getShallow("animationThreshold")&&(n=!1),!!n},e.prototype.restoreData=function(){this.dataTask.dirty()},e.prototype.getColorFromPalette=function(r,n,i){var a=this.ecModel,o=Ad.prototype.getColorFromPalette.call(this,r,n,i);return o||(o=a.getColorFromPalette(r,n,i)),o},e.prototype.coordDimToDataDim=function(r){return this.getRawData().mapDimensionsAll(r)},e.prototype.getProgressive=function(){return this.get("progressive")},e.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},e.prototype.select=function(r,n){this._innerSelect(this.getData(n),r)},e.prototype.unselect=function(r,n){var i=this.option.selectedMap;if(i){var a=this.option.selectedMode,o=this.getData(n);if(a==="series"||i==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var s=0;s<r.length;s++){var l=r[s],u=Fs(o,l);i[u]=!1,this._selectedDataIndicesMap[u]=-1}}},e.prototype.toggleSelect=function(r,n){for(var i=[],a=0;a<r.length;a++)i[0]=r[a],this.isSelected(r[a],n)?this.unselect(i,n):this.select(i,n)},e.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var r=this._selectedDataIndicesMap,n=ft(r),i=[],a=0;a<n.length;a++){var o=r[n[a]];o>=0&&i.push(o)}return i},e.prototype.isSelected=function(r,n){var i=this.option.selectedMap;if(!i)return!1;var a=this.getData(n);return(i==="all"||i[Fs(a,r)])&&!a.getItemModel(r).get(["select","disabled"])},e.prototype.isUniversalTransitionEnabled=function(){if(this[_A])return!0;var r=this.option.universalTransition;return r?r===!0?!0:r&&r.enabled:!1},e.prototype._innerSelect=function(r,n){var i,a,o=this.option,s=o.selectedMode,l=n.length;if(!(!s||!l)){if(s==="series")o.selectedMap="all";else if(s==="multiple"){Ae(o.selectedMap)||(o.selectedMap={});for(var u=o.selectedMap,p=0;p<l;p++){var c=n[p],h=Fs(r,c);u[h]=!0,this._selectedDataIndicesMap[h]=r.getRawIndex(c)}}else if(s==="single"||s===!0){var v=n[l-1],h=Fs(r,v);o.selectedMap=(i={},i[h]=!0,i),this._selectedDataIndicesMap=(a={},a[h]=r.getRawIndex(v),a)}}},e.prototype._initSelectedMapFromData=function(r){if(!this.option.selectedMap){var n=[];r.hasItemOption&&r.each(function(i){var a=r.getRawDataItem(i);a&&a.selected&&n.push(i)}),n.length>0&&this._innerSelect(r,n)}},e.registerClass=function(r){return et.registerClass(r)},e.protoInitialize=(function(){var r=e.prototype;r.type="series.__base__",r.seriesIndex=0,r.ignoreStyleOnData=!1,r.hasSymbolVisual=!1,r.defaultSymbol="circle",r.visualStyleAccessPath="itemStyle",r.visualDrawType="fill"})(),e})(et);Zr(Un,jE);Zr(Un,Ad);p0(Un,et);function zg(t){var e=t.name;$h(t)||(t.name=bA(t)||e)}function bA(t){var e=t.getRawData(),r=e.mapDimensionsAll("seriesName"),n=[];return z(r,function(i){var a=e.getDimensionInfo(i);a.displayName&&n.push(a.displayName)}),n.join(" ")}function wA(t){return t.model.getRawData().count()}function SA(t){var e=t.model;return e.setData(e.getRawData().cloneShallow()),CA}function CA(t,e){e.outputData&&t.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function Ug(t,e){z(pC(t.CHANGABLE_METHODS,t.DOWNSAMPLE_METHODS),function(r){t.wrapMethod(r,Dt(TA,e))})}function TA(t,e){var r=rh(t);return r&&r.setOutputEnd((e||this).count()),e}function rh(t){var e=(t.ecModel||{}).scheduler,r=e&&e.getPipeline(t.uid);if(r){var n=r.currentTask;if(n){var i=n.agentStubMap;i&&(n=i.get(t.uid))}return n}}var Er=(function(){function t(){this.group=new Rt,this.uid=gu("viewComponent")}return t.prototype.init=function(e,r){},t.prototype.render=function(e,r,n,i){},t.prototype.dispose=function(e,r){},t.prototype.updateView=function(e,r,n,i){},t.prototype.updateLayout=function(e,r,n,i){},t.prototype.updateVisual=function(e,r,n,i){},t.prototype.toggleBlurSeries=function(e,r,n){},t.prototype.eachRendered=function(e){var r=this.group;r&&r.traverse(e)},t})();Kh(Er);au(Er);function B_(){var t=gt();return function(e){var r=t(e),n=e.pipelineContext,i=!!r.large,a=!!r.progressiveRender,o=r.large=!!(n&&n.large),s=r.progressiveRender=!!(n&&n.progressiveRender);return(i!==o||a!==s)&&"reset"}}var H_=gt(),xA=B_(),Kr=(function(){function t(){this.group=new Rt,this.uid=gu("viewChart"),this.renderTask=xo({plan:MA,reset:LA}),this.renderTask.context={view:this}}return t.prototype.init=function(e,r){},t.prototype.render=function(e,r,n,i){},t.prototype.highlight=function(e,r,n,i){var a=e.getData(i&&i.dataType);a&&Wg(a,i,"emphasis")},t.prototype.downplay=function(e,r,n,i){var a=e.getData(i&&i.dataType);a&&Wg(a,i,"normal")},t.prototype.remove=function(e,r){this.group.removeAll()},t.prototype.dispose=function(e,r){},t.prototype.updateView=function(e,r,n,i){this.render(e,r,n,i)},t.prototype.updateLayout=function(e,r,n,i){this.render(e,r,n,i)},t.prototype.updateVisual=function(e,r,n,i){this.render(e,r,n,i)},t.prototype.eachRendered=function(e){fd(this.group,e)},t.markUpdateMethod=function(e,r){H_(e).updateMethod=r},t.protoInitialize=(function(){var e=t.prototype;e.type="chart"})(),t})();function Gg(t,e,r){t&&jf(t)&&(e==="emphasis"?Ol:Pl)(t,r)}function Wg(t,e,r){var n=Ii(t,e),i=e&&e.highlightKey!=null?xM(e.highlightKey):null;n!=null?z(Ut(n),function(a){Gg(t.getItemGraphicEl(a),r,i)}):t.eachItemGraphicEl(function(a){Gg(a,r,i)})}Kh(Kr);au(Kr);function MA(t){return xA(t.model)}function LA(t){var e=t.model,r=t.ecModel,n=t.api,i=t.payload,a=e.pipelineContext.progressiveRender,o=t.view,s=i&&H_(i).updateMethod,l=a?"incrementalPrepareRender":s&&o[s]?s:"render";return l!=="render"&&o[l](e,r,n,i),EA[l]}var EA={incrementalPrepareRender:{progress:function(t,e){e.view.incrementalRender(t,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(t,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}},Vl="\0__throttleOriginMethod",jg="\0__throttleRate",qg="\0__throttleType";function Pd(t,e,r){var n,i=0,a=0,o=null,s,l,u,p;e=e||0;function c(){a=new Date().getTime(),o=null,t.apply(l,u||[])}var h=function(){for(var v=[],m=0;m<arguments.length;m++)v[m]=arguments[m];n=new Date().getTime(),l=this,u=v;var _=p||e,y=p||r;p=null,s=n-(y?i:a)-_,clearTimeout(o),y?o=setTimeout(c,_):s>=0?c():o=setTimeout(c,-s),i=n};return h.clear=function(){o&&(clearTimeout(o),o=null)},h.debounceNextCall=function(v){p=v},h}function F_(t,e,r,n){var i=t[e];if(i){var a=i[Vl]||i,o=i[qg],s=i[jg];if(s!==r||o!==n){if(r==null||!n)return t[e]=a;i=t[e]=Pd(a,r,n==="debounce"),i[Vl]=a,i[qg]=n,i[jg]=r}return i}}function nh(t,e){var r=t[e];r&&r[Vl]&&(r.clear&&r.clear(),t[e]=r[Vl])}var $g=gt(),Yg={itemStyle:Oo(Q0,!0),lineStyle:Oo(Z0,!0)},AA={lineStyle:"stroke",itemStyle:"fill"};function V_(t,e){var r=t.visualStyleMapper||Yg[e];return r||(console.warn("Unknown style type '"+e+"'."),Yg.itemStyle)}function z_(t,e){var r=t.visualDrawType||AA[e];return r||(console.warn("Unknown style type '"+e+"'."),"fill")}var kA={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var r=t.getData(),n=t.visualStyleAccessPath||"itemStyle",i=t.getModel(n),a=V_(t,n),o=a(i),s=i.getShallow("decal");s&&(r.setVisual("decal",s),s.dirty=!0);var l=z_(t,n),u=o[l],p=Ie(u)?u:null,c=o.fill==="auto"||o.stroke==="auto";if(!o[l]||p||c){var h=t.getColorFromPalette(t.name,null,e.getSeriesCount());o[l]||(o[l]=h,r.setVisual("colorFromPalette",!0)),o.fill=o.fill==="auto"||Ie(o.fill)?h:o.fill,o.stroke=o.stroke==="auto"||Ie(o.stroke)?h:o.stroke}if(r.setVisual("style",o),r.setVisual("drawType",l),!e.isSeriesFiltered(t)&&p)return r.setVisual("colorFromPalette",!1),{dataEach:function(v,m){var _=t.getDataParams(m),y=pe({},o);y[l]=p(_),v.setItemVisual(m,"style",y)}}}},Xa=new pt,DA={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){if(!(t.ignoreStyleOnData||e.isSeriesFiltered(t))){var r=t.getData(),n=t.visualStyleAccessPath||"itemStyle",i=V_(t,n),a=r.getVisual("drawType");return{dataEach:r.hasItemOption?function(o,s){var l=o.getRawDataItem(s);if(l&&l[n]){Xa.option=l[n];var u=i(Xa),p=o.ensureUniqueItemVisual(s,"style");pe(p,u),Xa.option.decal&&(o.setItemVisual(s,"decal",Xa.option.decal),Xa.option.decal.dirty=!0),a in u&&o.setItemVisual(s,"colorFromPalette",!1)}}:null}}}},IA={performRawSeries:!0,overallReset:function(t){var e=He();t.eachSeries(function(r){var n=r.getColorBy();if(!r.isColorBySeries()){var i=r.type+"-"+n,a=e.get(i);a||(a={},e.set(i,a)),$g(r).scope=a}}),t.eachSeries(function(r){if(!(r.isColorBySeries()||t.isSeriesFiltered(r))){var n=r.getRawData(),i={},a=r.getData(),o=$g(r).scope,s=r.visualStyleAccessPath||"itemStyle",l=z_(r,s);a.each(function(u){var p=a.getRawIndex(u);i[p]=u}),n.each(function(u){var p=i[u],c=a.getItemVisual(p,"colorFromPalette");if(c){var h=a.ensureUniqueItemVisual(p,"style"),v=n.getName(u)||u+"",m=n.count();h[l]=r.getColorFromPalette(v,o,m)}})}})}},Vs=Math.PI;function OA(t,e){e=e||{},tt(e,{text:"loading",textColor:Le.color.primary,fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255,255,255,0.8)",showSpinner:!0,color:Le.color.theme[0],spinnerRadius:10,lineWidth:5,zlevel:0});var r=new Rt,n=new St({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4});r.add(n);var i=new Ht({style:{text:e.text,fill:e.textColor,fontSize:e.fontSize,fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontFamily:e.fontFamily},zlevel:e.zlevel,z:10001}),a=new St({style:{fill:"none"},textContent:i,textConfig:{position:"right",distance:10},zlevel:e.zlevel,z:10001});r.add(a);var o;return e.showSpinner&&(o=new du({shape:{startAngle:-Vs/2,endAngle:-Vs/2+.1,r:e.spinnerRadius},style:{stroke:e.color,lineCap:"round",lineWidth:e.lineWidth},zlevel:e.zlevel,z:10001}),o.animateShape(!0).when(1e3,{endAngle:Vs*3/2}).start("circularInOut"),o.animateShape(!0).when(1e3,{startAngle:Vs*3/2}).delay(300).start("circularInOut"),r.add(o)),r.resize=function(){var s=i.getBoundingRect().width,l=e.showSpinner?e.spinnerRadius:0,u=(t.getWidth()-l*2-(e.showSpinner&&s?10:0)-s)/2-(e.showSpinner&&s?0:5+s/2)+(e.showSpinner?0:s/2)+(s?0:l),p=t.getHeight()/2;e.showSpinner&&o.setShape({cx:u,cy:p}),a.setShape({x:u-l,y:p-l,width:l*2,height:l*2}),n.setShape({x:0,y:0,width:t.getWidth(),height:t.getHeight()})},r.resize(),r}var U_=(function(){function t(e,r,n,i){this._stageTaskMap=He(),this.ecInstance=e,this.api=r,n=this._dataProcessorHandlers=n.slice(),i=this._visualHandlers=i.slice(),this._allHandlers=n.concat(i)}return t.prototype.restoreData=function(e,r){e.restoreData(r),this._stageTaskMap.each(function(n){var i=n.overallTask;i&&i.dirty()})},t.prototype.getPerformArgs=function(e,r){if(e.__pipeline){var n=this._pipelineMap.get(e.__pipeline.id),i=n.context,a=!r&&n.progressiveEnabled&&(!i||i.progressiveRender)&&e.__idxInPipeline>n.blockIndex,o=a?n.step:null,s=i&&i.modDataCount,l=s!=null?Math.ceil(s/o):null;return{step:o,modBy:l,modDataCount:s}}},t.prototype.getPipeline=function(e){return this._pipelineMap.get(e)},t.prototype.updateStreamModes=function(e,r){var n=this._pipelineMap.get(e.uid),i=e.getData(),a=i.count(),o=n.progressiveEnabled&&r.incrementalPrepareRender&&a>=n.threshold,s=e.get("large")&&a>=e.get("largeThreshold"),l=e.get("progressiveChunkMode")==="mod"?a:null;e.pipelineContext=n.context={progressiveRender:o,modDataCount:l,large:s}},t.prototype.restorePipelines=function(e){var r=this,n=r._pipelineMap=He();e.eachSeries(function(i){var a=i.getProgressive(),o=i.uid;n.set(o,{id:o,head:null,tail:null,threshold:i.getProgressiveThreshold(),progressiveEnabled:a&&!(i.preventIncremental&&i.preventIncremental()),blockIndex:-1,step:Math.round(a||700),count:0}),r._pipe(i,i.dataTask)})},t.prototype.prepareStageTasks=function(){var e=this._stageTaskMap,r=this.api.getModel(),n=this.api;z(this._allHandlers,function(i){var a=e.get(i.uid)||e.set(i.uid,{}),o="";dn(!(i.reset&&i.overallReset),o),i.reset&&this._createSeriesStageTask(i,a,r,n),i.overallReset&&this._createOverallStageTask(i,a,r,n)},this)},t.prototype.prepareView=function(e,r,n,i){var a=e.renderTask,o=a.context;o.model=r,o.ecModel=n,o.api=i,a.__block=!e.incrementalPrepareRender,this._pipe(r,a)},t.prototype.performDataProcessorTasks=function(e,r){this._performStageTasks(this._dataProcessorHandlers,e,r,{block:!0})},t.prototype.performVisualTasks=function(e,r,n){this._performStageTasks(this._visualHandlers,e,r,n)},t.prototype._performStageTasks=function(e,r,n,i){i=i||{};var a=!1,o=this;z(e,function(l,u){if(!(i.visualType&&i.visualType!==l.visualType)){var p=o._stageTaskMap.get(l.uid),c=p.seriesTaskMap,h=p.overallTask;if(h){var v,m=h.agentStubMap;m.each(function(y){s(i,y)&&(y.dirty(),v=!0)}),v&&h.dirty(),o.updatePayload(h,n);var _=o.getPerformArgs(h,i.block);m.each(function(y){y.perform(_)}),h.perform(_)&&(a=!0)}else c&&c.each(function(y,b){s(i,y)&&y.dirty();var C=o.getPerformArgs(y,i.block);C.skip=!l.performRawSeries&&r.isSeriesFiltered(y.context.model),o.updatePayload(y,n),y.perform(C)&&(a=!0)})}});function s(l,u){return l.setDirty&&(!l.dirtyMap||l.dirtyMap.get(u.__pipeline.id))}this.unfinished=a||this.unfinished},t.prototype.performSeriesTasks=function(e){var r;e.eachSeries(function(n){r=n.dataTask.perform()||r}),this.unfinished=r||this.unfinished},t.prototype.plan=function(){this._pipelineMap.each(function(e){var r=e.tail;do{if(r.__block){e.blockIndex=r.__idxInPipeline;break}r=r.getUpstream()}while(r)})},t.prototype.updatePayload=function(e,r){r!=="remain"&&(e.context.payload=r)},t.prototype._createSeriesStageTask=function(e,r,n,i){var a=this,o=r.seriesTaskMap,s=r.seriesTaskMap=He(),l=e.seriesType,u=e.getTargetSeries;e.createOnAllSeries?n.eachRawSeries(p):l?n.eachRawSeriesByType(l,p):u&&u(n,i).each(p);function p(c){var h=c.uid,v=s.set(h,o&&o.get(h)||xo({plan:HA,reset:FA,count:zA}));v.context={model:c,ecModel:n,api:i,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:a},a._pipe(c,v)}},t.prototype._createOverallStageTask=function(e,r,n,i){var a=this,o=r.overallTask=r.overallTask||xo({reset:PA});o.context={ecModel:n,api:i,overallReset:e.overallReset,scheduler:a};var s=o.agentStubMap,l=o.agentStubMap=He(),u=e.seriesType,p=e.getTargetSeries,c=!0,h=!1,v="";dn(!e.createOnAllSeries,v),u?n.eachRawSeriesByType(u,m):p?p(n,i).each(m):(c=!1,z(n.getSeries(),m));function m(_){var y=_.uid,b=l.set(y,s&&s.get(y)||(h=!0,xo({reset:RA,onDirty:BA})));b.context={model:_,overallProgress:c},b.agent=o,b.__block=c,a._pipe(_,b)}h&&o.dirty()},t.prototype._pipe=function(e,r){var n=e.uid,i=this._pipelineMap.get(n);!i.head&&(i.head=r),i.tail&&i.tail.pipe(r),i.tail=r,r.__idxInPipeline=i.count++,r.__pipeline=i},t.wrapStageHandler=function(e,r){return Ie(e)&&(e={overallReset:e,seriesType:UA(e)}),e.uid=gu("stageHandler"),r&&(e.visualType=r),e},t})();function PA(t){t.overallReset(t.ecModel,t.api,t.payload)}function RA(t){return t.overallProgress&&NA}function NA(){this.agent.dirty(),this.getDownstream().dirty()}function BA(){this.agent&&this.agent.dirty()}function HA(t){return t.plan?t.plan(t.model,t.ecModel,t.api,t.payload):null}function FA(t){t.useClearVisual&&t.data.clearAllVisual();var e=t.resetDefines=Ut(t.reset(t.model,t.ecModel,t.api,t.payload));return e.length>1?De(e,function(r,n){return G_(n)}):VA}var VA=G_(0);function G_(t){return function(e,r){var n=r.data,i=r.resetDefines[t];if(i&&i.dataEach)for(var a=e.start;a<e.end;a++)i.dataEach(n,a);else i&&i.progress&&i.progress(e,n)}}function zA(t){return t.data.count()}function UA(t){zl=null;try{t(Vo,W_)}catch{}return zl}var Vo={},W_={},zl;j_(Vo,kd);j_(W_,y_);Vo.eachSeriesByType=Vo.eachRawSeriesByType=function(t){zl=t};Vo.eachComponent=function(t){t.mainType==="series"&&t.subType&&(zl=t.subType)};function j_(t,e){for(var r in e.prototype)t[r]=Zt}var ve=Le.darkColor,GA=ve.background,Za=function(){return{axisLine:{lineStyle:{color:ve.axisLine}},splitLine:{lineStyle:{color:ve.axisSplitLine}},splitArea:{areaStyle:{color:[ve.backgroundTint,ve.backgroundTransparent]}},minorSplitLine:{lineStyle:{color:ve.axisMinorSplitLine}},axisLabel:{color:ve.axisLabel},axisName:{}}},Kg={label:{color:ve.secondary},itemStyle:{borderColor:ve.borderTint},dividerLineStyle:{color:ve.border}},q_={darkMode:!0,color:ve.theme,backgroundColor:GA,axisPointer:{lineStyle:{color:ve.border},crossStyle:{color:ve.borderShade},label:{color:ve.tertiary}},legend:{textStyle:{color:ve.secondary},pageTextStyle:{color:ve.tertiary}},textStyle:{color:ve.secondary},title:{textStyle:{color:ve.primary},subtextStyle:{color:ve.quaternary}},toolbox:{iconStyle:{borderColor:ve.accent50}},tooltip:{backgroundColor:ve.neutral20,defaultBorderColor:ve.border,textStyle:{color:ve.tertiary}},dataZoom:{borderColor:ve.accent10,textStyle:{color:ve.tertiary},brushStyle:{color:ve.backgroundTint},handleStyle:{color:ve.neutral00,borderColor:ve.accent20},moveHandleStyle:{color:ve.accent40},emphasis:{handleStyle:{borderColor:ve.accent50}},dataBackground:{lineStyle:{color:ve.accent30},areaStyle:{color:ve.accent20}},selectedDataBackground:{lineStyle:{color:ve.accent50},areaStyle:{color:ve.accent30}}},visualMap:{textStyle:{color:ve.secondary},handleStyle:{borderColor:ve.neutral30}},timeline:{lineStyle:{color:ve.accent10},label:{color:ve.tertiary},controlStyle:{color:ve.accent30,borderColor:ve.accent30}},calendar:{itemStyle:{color:ve.neutral00,borderColor:ve.neutral20},dayLabel:{color:ve.tertiary},monthLabel:{color:ve.secondary},yearLabel:{color:ve.secondary}},matrix:{x:Kg,y:Kg,backgroundColor:{borderColor:ve.axisLine},body:{itemStyle:{borderColor:ve.borderTint}}},timeAxis:Za(),logAxis:Za(),valueAxis:Za(),categoryAxis:Za(),line:{symbol:"circle"},graph:{color:ve.theme},gauge:{title:{color:ve.secondary},axisLine:{lineStyle:{color:[[1,ve.neutral05]]}},axisLabel:{color:ve.axisLabel},detail:{color:ve.primary}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}},funnel:{itemStyle:{borderColor:ve.background}},radar:(function(){var t=Za();return t.axisName={color:ve.axisLabel},t.axisLine.lineStyle.color=ve.neutral20,t})(),treemap:{breadcrumb:{itemStyle:{color:ve.neutral20,textStyle:{color:ve.secondary}},emphasis:{itemStyle:{color:ve.neutral30}}}},sunburst:{itemStyle:{borderColor:ve.background}},map:{itemStyle:{borderColor:ve.border,areaColor:ve.neutral10},label:{color:ve.tertiary},emphasis:{label:{color:ve.primary},itemStyle:{areaColor:ve.highlight}},select:{label:{color:ve.primary},itemStyle:{areaColor:ve.highlight}}},geo:{itemStyle:{borderColor:ve.border,areaColor:ve.neutral10},emphasis:{label:{color:ve.primary},itemStyle:{areaColor:ve.highlight}},select:{label:{color:ve.primary},itemStyle:{color:ve.highlight}}}};q_.categoryAxis.splitLine.show=!1;var WA=(function(){function t(){}return t.prototype.normalizeQuery=function(e){var r={},n={},i={};if(xe(e)){var a=Gr(e);r.mainType=a.main||null,r.subType=a.sub||null}else{var o=["Index","Name","Id"],s={name:1,dataIndex:1,dataType:1};z(e,function(l,u){for(var p=!1,c=0;c<o.length;c++){var h=o[c],v=u.lastIndexOf(h);if(v>0&&v===u.length-h.length){var m=u.slice(0,v);m!=="data"&&(r.mainType=m,r[h.toLowerCase()]=l,p=!0)}}s.hasOwnProperty(u)&&(n[u]=l,p=!0),p||(i[u]=l)})}return{cptQuery:r,dataQuery:n,otherQuery:i}},t.prototype.filter=function(e,r){var n=this.eventInfo;if(!n)return!0;var i=n.targetEl,a=n.packedEvent,o=n.model,s=n.view;if(!o||!s)return!0;var l=r.cptQuery,u=r.dataQuery;return p(l,o,"mainType")&&p(l,o,"subType")&&p(l,o,"index","componentIndex")&&p(l,o,"name")&&p(l,o,"id")&&p(u,a,"name")&&p(u,a,"dataIndex")&&p(u,a,"dataType")&&(!s.filterForExposedEvent||s.filterForExposedEvent(e,r.otherQuery,i,a));function p(c,h,v,m){return c[v]==null||h[m||v]===c[v]}},t.prototype.afterTrigger=function(){this.eventInfo=null},t})(),ih=["symbol","symbolSize","symbolRotate","symbolOffset"],Xg=ih.concat(["symbolKeepAspect"]),jA={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var r=t.getData();if(t.legendIcon&&r.setVisual("legendIcon",t.legendIcon),!t.hasSymbolVisual)return;for(var n={},i={},a=!1,o=0;o<ih.length;o++){var s=ih[o],l=t.get(s);Ie(l)?(a=!0,i[s]=l):n[s]=l}if(n.symbol=n.symbol||t.defaultSymbol,r.setVisual(pe({legendIcon:t.legendIcon||n.symbol,symbolKeepAspect:t.get("symbolKeepAspect")},n)),e.isSeriesFiltered(t))return;var u=ft(i);function p(c,h){for(var v=t.getRawValue(h),m=t.getDataParams(h),_=0;_<u.length;_++){var y=u[_];c.setItemVisual(h,y,i[y](v,m))}}return{dataEach:a?p:null}}},qA={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){if(!t.hasSymbolVisual||e.isSeriesFiltered(t))return;var r=t.getData();function n(i,a){for(var o=i.getItemModel(a),s=0;s<Xg.length;s++){var l=Xg[s],u=o.getShallow(l,!0);u!=null&&i.setItemVisual(a,l,u)}}return{dataEach:r.hasItemOption?n:null}}};function $A(t,e,r){switch(r){case"color":var n=t.getItemVisual(e,"style");return n[t.getVisual("drawType")];case"opacity":return t.getItemVisual(e,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getItemVisual(e,r)}}function YA(t,e){switch(e){case"color":var r=t.getVisual("style");return r[t.getVisual("drawType")];case"opacity":return t.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getVisual(e)}}function ia(t,e,r,n,i){var a=t+e;r.isSilent(a)||n.eachComponent({mainType:"series",subType:"pie"},function(o){for(var s=o.seriesIndex,l=o.option.selectedMap,u=i.selected,p=0;p<u.length;p++)if(u[p].seriesIndex===s){var c=o.getData(),h=Ii(c,i.fromActionPayload);r.trigger(a,{type:a,seriesId:o.id,name:be(h)?c.getName(h[0]):c.getName(h),selected:xe(l)?l:pe({},l)})}})}function KA(t,e,r){t.on("selectchanged",function(n){var i=r.getModel();n.isFromClick?(ia("map","selectchanged",e,i,n),ia("pie","selectchanged",e,i,n)):n.fromAction==="select"?(ia("map","selected",e,i,n),ia("pie","selected",e,i,n)):n.fromAction==="unselect"&&(ia("map","unselected",e,i,n),ia("pie","unselected",e,i,n))})}function ho(t,e,r){for(var n;t&&!(e(t)&&(n=t,r));)t=t.__hostTarget||t.parent;return n}var XA=Math.round(Math.random()*9),ZA=typeof Object.defineProperty=="function",QA=(function(){function t(){this._id="__ec_inner_"+XA++}return t.prototype.get=function(e){return this._guard(e)[this._id]},t.prototype.set=function(e,r){var n=this._guard(e);return ZA?Object.defineProperty(n,this._id,{value:r,enumerable:!1,configurable:!0}):n[this._id]=r,this},t.prototype.delete=function(e){return this.has(e)?(delete this._guard(e)[this._id],!0):!1},t.prototype.has=function(e){return!!this._guard(e)[this._id]},t.prototype._guard=function(e){if(e!==Object(e))throw TypeError("Value of WeakMap is not a non-null object.");return e},t})(),JA=at.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var r=e.cx,n=e.cy,i=e.width/2,a=e.height/2;t.moveTo(r,n-a),t.lineTo(r+i,n+a),t.lineTo(r-i,n+a),t.closePath()}}),ek=at.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var r=e.cx,n=e.cy,i=e.width/2,a=e.height/2;t.moveTo(r,n-a),t.lineTo(r+i,n),t.lineTo(r,n+a),t.lineTo(r-i,n),t.closePath()}}),tk=at.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var r=e.x,n=e.y,i=e.width/5*3,a=Math.max(i,e.height),o=i/2,s=o*o/(a-o),l=n-a+o+s,u=Math.asin(s/o),p=Math.cos(u)*o,c=Math.sin(u),h=Math.cos(u),v=o*.6,m=o*.7;t.moveTo(r-p,l+s),t.arc(r,l,o,Math.PI-u,Math.PI*2+u),t.bezierCurveTo(r+p-c*v,l+s+h*v,r,n-m,r,n),t.bezierCurveTo(r,n-m,r-p+c*v,l+s+h*v,r-p,l+s),t.closePath()}}),rk=at.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var r=e.height,n=e.width,i=e.x,a=e.y,o=n/3*2;t.moveTo(i,a),t.lineTo(i+o,a+r),t.lineTo(i,a+r/4*3),t.lineTo(i-o,a+r),t.lineTo(i,a),t.closePath()}}),nk={line:Hn,rect:St,roundRect:St,square:St,circle:fu,diamond:ek,pin:tk,arrow:rk,triangle:JA},ik={line:function(t,e,r,n,i){i.x1=t,i.y1=e+n/2,i.x2=t+r,i.y2=e+n/2},rect:function(t,e,r,n,i){i.x=t,i.y=e,i.width=r,i.height=n},roundRect:function(t,e,r,n,i){i.x=t,i.y=e,i.width=r,i.height=n,i.r=Math.min(r,n)/4},square:function(t,e,r,n,i){var a=Math.min(r,n);i.x=t,i.y=e,i.width=a,i.height=a},circle:function(t,e,r,n,i){i.cx=t+r/2,i.cy=e+n/2,i.r=Math.min(r,n)/2},diamond:function(t,e,r,n,i){i.cx=t+r/2,i.cy=e+n/2,i.width=r,i.height=n},pin:function(t,e,r,n,i){i.x=t+r/2,i.y=e+n/2,i.width=r,i.height=n},arrow:function(t,e,r,n,i){i.x=t+r/2,i.y=e+n/2,i.width=r,i.height=n},triangle:function(t,e,r,n,i){i.cx=t+r/2,i.cy=e+n/2,i.width=r,i.height=n}},ah={};z(nk,function(t,e){ah[e]=new t});var ak=at.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(t,e,r){var n=t0(t,e,r),i=this.shape;return i&&i.symbolType==="pin"&&e.position==="inside"&&(n.y=r.y+r.height*.4),n},buildPath:function(t,e,r){var n=e.symbolType;if(n!=="none"){var i=ah[n];i||(n="rect",i=ah[n]),ik[n](e.x,e.y,e.width,e.height,i.shape),i.buildPath(t,i.shape,r)}}});function ok(t,e){if(this.type!=="image"){var r=this.style;this.__isEmptyBrush?(r.stroke=t,r.fill=e||Le.color.neutral00,r.lineWidth=2):this.shape.symbolType==="line"?r.stroke=t:r.fill=t,this.markRedraw()}}function Ma(t,e,r,n,i,a,o){var s=t.indexOf("empty")===0;s&&(t=t.substr(5,1).toLowerCase()+t.substr(6));var l;return t.indexOf("image://")===0?l=U0(t.slice(8),new Be(e,r,n,i),o?"center":"cover"):t.indexOf("path://")===0?l=ld(t.slice(7),{},new Be(e,r,n,i),o?"center":"cover"):l=new ak({shape:{symbolType:t,x:e,y:r,width:n,height:i}}),l.__isEmptyBrush=s,l.setColor=ok,a&&l.setColor(a),l}function sk(t){return be(t)||(t=[+t,+t]),[t[0]||0,t[1]||0]}function $_(t,e){if(t!=null)return be(t)||(t=[t,t]),[zt(t[0],e[0])||0,zt(ke(t[1],t[0]),e[1])||0]}function Ci(t){return isFinite(t)}function lk(t,e,r){var n=e.x==null?0:e.x,i=e.x2==null?1:e.x2,a=e.y==null?0:e.y,o=e.y2==null?0:e.y2;e.global||(n=n*r.width+r.x,i=i*r.width+r.x,a=a*r.height+r.y,o=o*r.height+r.y),n=Ci(n)?n:0,i=Ci(i)?i:1,a=Ci(a)?a:0,o=Ci(o)?o:0;var s=t.createLinearGradient(n,a,i,o);return s}function uk(t,e,r){var n=r.width,i=r.height,a=Math.min(n,i),o=e.x==null?.5:e.x,s=e.y==null?.5:e.y,l=e.r==null?.5:e.r;e.global||(o=o*n+r.x,s=s*i+r.y,l=l*a),o=Ci(o)?o:.5,s=Ci(s)?s:.5,l=l>=0&&Ci(l)?l:.5;var u=t.createRadialGradient(o,s,0,o,s,l);return u}function oh(t,e,r){for(var n=e.type==="radial"?uk(t,e,r):lk(t,e,r),i=e.colorStops,a=0;a<i.length;a++)n.addColorStop(i[a].offset,i[a].color);return n}function ck(t,e){if(t===e||!t&&!e)return!1;if(!t||!e||t.length!==e.length)return!0;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!0;return!1}function zs(t){return parseInt(t,10)}function Us(t,e,r){var n=["width","height"][e],i=["clientWidth","clientHeight"][e],a=["paddingLeft","paddingTop"][e],o=["paddingRight","paddingBottom"][e];if(r[n]!=null&&r[n]!=="auto")return parseFloat(r[n]);var s=document.defaultView.getComputedStyle(t);return(t[i]||zs(s[n])||zs(t.style[n]))-(zs(s[a])||0)-(zs(s[o])||0)|0}function fk(t,e){return!t||t==="solid"||!(e>0)?null:t==="dashed"?[4*e,2*e]:t==="dotted"?[e]:ct(t)?[t]:be(t)?t:null}function Y_(t){var e=t.style,r=e.lineDash&&e.lineWidth>0&&fk(e.lineDash,e.lineWidth),n=e.lineDashOffset;if(r){var i=e.strokeNoScale&&t.getLineScale?t.getLineScale():1;i&&i!==1&&(r=De(r,function(a){return a/i}),n/=i)}return[r,n]}var hk=new Oi(!0);function Ul(t){var e=t.stroke;return!(e==null||e==="none"||!(t.lineWidth>0))}function Zg(t){return typeof t=="string"&&t!=="none"}function Gl(t){var e=t.fill;return e!=null&&e!=="none"}function Qg(t,e){if(e.fillOpacity!=null&&e.fillOpacity!==1){var r=t.globalAlpha;t.globalAlpha=e.fillOpacity*e.opacity,t.fill(),t.globalAlpha=r}else t.fill()}function Jg(t,e){if(e.strokeOpacity!=null&&e.strokeOpacity!==1){var r=t.globalAlpha;t.globalAlpha=e.strokeOpacity*e.opacity,t.stroke(),t.globalAlpha=r}else t.stroke()}function sh(t,e,r){var n=v0(e.image,e.__image,r);if(ou(n)){var i=t.createPattern(n,e.repeat||"repeat");if(typeof DOMMatrix=="function"&&i&&i.setTransform){var a=new DOMMatrix;a.translateSelf(e.x||0,e.y||0),a.rotateSelf(0,0,(e.rotation||0)*vC),a.scaleSelf(e.scaleX||1,e.scaleY||1),i.setTransform(a)}return i}}function dk(t,e,r,n){var i,a=Ul(r),o=Gl(r),s=r.strokePercent,l=s<1,u=!e.path;(!e.silent||l)&&u&&e.createPathProxy();var p=e.path||hk,c=e.__dirty;if(!n){var h=r.fill,v=r.stroke,m=o&&!!h.colorStops,_=a&&!!v.colorStops,y=o&&!!h.image,b=a&&!!v.image,C=void 0,M=void 0,L=void 0,T=void 0,E=void 0;(m||_)&&(E=e.getBoundingRect()),m&&(C=c?oh(t,h,E):e.__canvasFillGradient,e.__canvasFillGradient=C),_&&(M=c?oh(t,v,E):e.__canvasStrokeGradient,e.__canvasStrokeGradient=M),y&&(L=c||!e.__canvasFillPattern?sh(t,h,e):e.__canvasFillPattern,e.__canvasFillPattern=L),b&&(T=c||!e.__canvasStrokePattern?sh(t,v,e):e.__canvasStrokePattern,e.__canvasStrokePattern=T),m?t.fillStyle=C:y&&(L?t.fillStyle=L:o=!1),_?t.strokeStyle=M:b&&(T?t.strokeStyle=T:a=!1)}var k=e.getGlobalScale();p.setScale(k[0],k[1],e.segmentIgnoreThreshold);var P,D;t.setLineDash&&r.lineDash&&(i=Y_(e),P=i[0],D=i[1]);var N=!0;(u||c&ca)&&(p.setDPR(t.dpr),l?p.setContext(null):(p.setContext(t),N=!1),p.reset(),e.buildPath(p,e.shape,n),p.toStatic(),e.pathUpdated()),N&&p.rebuildPath(t,l?s:1),P&&(t.setLineDash(P),t.lineDashOffset=D),n||(r.strokeFirst?(a&&Jg(t,r),o&&Qg(t,r)):(o&&Qg(t,r),a&&Jg(t,r))),P&&t.setLineDash([])}function pk(t,e,r){var n=e.__image=v0(r.image,e.__image,e,e.onload);if(!(!n||!ou(n))){var i=r.x||0,a=r.y||0,o=e.getWidth(),s=e.getHeight(),l=n.width/n.height;if(o==null&&s!=null?o=s*l:s==null&&o!=null?s=o/l:o==null&&s==null&&(o=n.width,s=n.height),r.sWidth&&r.sHeight){var u=r.sx||0,p=r.sy||0;t.drawImage(n,u,p,r.sWidth,r.sHeight,i,a,o,s)}else if(r.sx&&r.sy){var u=r.sx,p=r.sy,c=o-u,h=s-p;t.drawImage(n,u,p,c,h,i,a,o,s)}else t.drawImage(n,i,a,o,s)}}function vk(t,e,r){var n,i=r.text;if(i!=null&&(i+=""),i){t.font=r.font||Bn,t.textAlign=r.textAlign,t.textBaseline=r.textBaseline;var a=void 0,o=void 0;t.setLineDash&&r.lineDash&&(n=Y_(e),a=n[0],o=n[1]),a&&(t.setLineDash(a),t.lineDashOffset=o),r.strokeFirst?(Ul(r)&&t.strokeText(i,r.x,r.y),Gl(r)&&t.fillText(i,r.x,r.y)):(Gl(r)&&t.fillText(i,r.x,r.y),Ul(r)&&t.strokeText(i,r.x,r.y)),a&&t.setLineDash([])}}var em=["shadowBlur","shadowOffsetX","shadowOffsetY"],tm=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function K_(t,e,r,n,i){var a=!1;if(!n&&(r=r||{},e===r))return!1;if(n||e.opacity!==r.opacity){Xt(t,i),a=!0;var o=Math.max(Math.min(e.opacity,1),0);t.globalAlpha=isNaN(o)?Li.opacity:o}(n||e.blend!==r.blend)&&(a||(Xt(t,i),a=!0),t.globalCompositeOperation=e.blend||Li.blend);for(var s=0;s<em.length;s++){var l=em[s];(n||e[l]!==r[l])&&(a||(Xt(t,i),a=!0),t[l]=t.dpr*(e[l]||0))}return(n||e.shadowColor!==r.shadowColor)&&(a||(Xt(t,i),a=!0),t.shadowColor=e.shadowColor||Li.shadowColor),a}function rm(t,e,r,n,i){var a=zo(e,i.inHover),o=n?null:r&&zo(r,i.inHover)||{};if(a===o)return!1;var s=K_(t,a,o,n,i);if((n||a.fill!==o.fill)&&(s||(Xt(t,i),s=!0),Zg(a.fill)&&(t.fillStyle=a.fill)),(n||a.stroke!==o.stroke)&&(s||(Xt(t,i),s=!0),Zg(a.stroke)&&(t.strokeStyle=a.stroke)),(n||a.opacity!==o.opacity)&&(s||(Xt(t,i),s=!0),t.globalAlpha=a.opacity==null?1:a.opacity),e.hasStroke()){var l=a.lineWidth,u=l/(a.strokeNoScale&&e.getLineScale?e.getLineScale():1);t.lineWidth!==u&&(s||(Xt(t,i),s=!0),t.lineWidth=u)}for(var p=0;p<tm.length;p++){var c=tm[p],h=c[0];(n||a[h]!==o[h])&&(s||(Xt(t,i),s=!0),t[h]=a[h]||c[1])}return s}function gk(t,e,r,n,i){return K_(t,zo(e,i.inHover),r&&zo(r,i.inHover),n,i)}function X_(t,e){var r=e.transform,n=t.dpr||1;r?t.setTransform(n*r[0],n*r[1],n*r[2],n*r[3],n*r[4],n*r[5]):t.setTransform(n,0,0,n,0,0)}function mk(t,e,r){for(var n=!1,i=0;i<t.length;i++){var a=t[i];n=n||a.isZeroArea(),X_(e,a),e.beginPath(),a.buildPath(e,a.shape),e.clip()}r.allClipped=n}function yk(t,e){return t&&e?t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3]||t[4]!==e[4]||t[5]!==e[5]:!(!t&&!e)}var nm=1,im=2,am=3,om=4;function _k(t){var e=Gl(t),r=Ul(t);return!(t.lineDash||!(+e^+r)||e&&typeof t.fill!="string"||r&&typeof t.stroke!="string"||t.strokePercent<1||t.strokeOpacity<1||t.fillOpacity<1)}function Xt(t,e){e.batchFill&&t.fill(),e.batchStroke&&t.stroke(),e.batchFill="",e.batchStroke=""}function zo(t,e){return e&&t.__hoverStyle||t.style}function Z_(t,e){Ti(t,e,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function Ti(t,e,r,n){var i=e.transform;if(!e.shouldBePainted(r.viewWidth,r.viewHeight,!1,!1)){e.__dirty&=~ir,e.__isRendered=!1;return}var a=e.__clipPaths,o=r.prevElClipPaths,s=!1,l=!1;if((!o||ck(a,o))&&(o&&o.length&&(Xt(t,r),t.restore(),l=s=!0,r.prevElClipPaths=null,r.allClipped=!1,r.prevEl=null),a&&a.length&&(Xt(t,r),t.save(),mk(a,t,r),s=!0),r.prevElClipPaths=a),r.allClipped){e.__isRendered=!1;return}e.beforeBrush&&e.beforeBrush(),e.innerBeforeBrush();var u=r.prevEl;u||(l=s=!0);var p=e instanceof at&&e.autoBatch&&_k(e.style);s||yk(i,u.transform)?(Xt(t,r),X_(t,e)):p||Xt(t,r);var c=zo(e,r.inHover);e instanceof at?(r.lastDrawType!==nm&&(l=!0,r.lastDrawType=nm),rm(t,e,u,l,r),(!p||!r.batchFill&&!r.batchStroke)&&t.beginPath(),dk(t,e,c,p),p&&(r.batchFill=c.fill||"",r.batchStroke=c.stroke||"")):e instanceof kl?(r.lastDrawType!==am&&(l=!0,r.lastDrawType=am),rm(t,e,u,l,r),vk(t,e,c)):e instanceof jn?(r.lastDrawType!==im&&(l=!0,r.lastDrawType=im),gk(t,e,u,l,r),pk(t,e,c)):e.getTemporalDisplayables&&(r.lastDrawType!==om&&(l=!0,r.lastDrawType=om),bk(t,e,r)),p&&n&&Xt(t,r),e.innerAfterBrush(),e.afterBrush&&e.afterBrush(),r.prevEl=e,e.__dirty=0,e.__isRendered=!0}function bk(t,e,r){var n=e.getDisplayables(),i=e.getTemporalDisplayables();t.save();var a={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:r.viewWidth,viewHeight:r.viewHeight,inHover:r.inHover},o,s;for(o=e.getCursor(),s=n.length;o<s;o++){var l=n[o];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),Ti(t,l,a,o===s-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),a.prevEl=l}for(var u=0,p=i.length;u<p;u++){var l=i[u];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),Ti(t,l,a,u===p-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),a.prevEl=l}e.clearTemporalDisplayables(),e.notClear=!0,t.restore()}var Vc=new QA,sm=new Sa(100),lm=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function lh(t,e){if(t==="none")return null;var r=e.getDevicePixelRatio(),n=e.getZr(),i=n.painter.type==="svg";t.dirty&&Vc.delete(t);var a=Vc.get(t);if(a)return a;var o=tt(t,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});o.backgroundColor==="none"&&(o.backgroundColor=null);var s={repeat:"repeat"};return l(s),s.rotation=o.rotation,s.scaleX=s.scaleY=i?1:1/r,Vc.set(t,s),t.dirty=!1,s;function l(u){for(var p=[r],c=!0,h=0;h<lm.length;++h){var v=o[lm[h]];if(v!=null&&!be(v)&&!xe(v)&&!ct(v)&&typeof v!="boolean"){c=!1;break}p.push(v)}var m;if(c){m=p.join(",")+(i?"-svg":"");var _=sm.get(m);_&&(i?u.svgElement=_:u.image=_)}var y=J_(o.dashArrayX),b=wk(o.dashArrayY),C=Q_(o.symbol),M=Sk(y),L=eb(b),T=!i&&hn.createCanvas(),E=i&&{tag:"g",attrs:{},key:"dcl",children:[]},k=D(),P;T&&(T.width=k.width*r,T.height=k.height*r,P=T.getContext("2d")),N(),c&&sm.put(m,T||E),u.image=T,u.svgElement=E,u.svgWidth=k.width,u.svgHeight=k.height;function D(){for(var B=1,U=0,F=M.length;U<F;++U)B=mv(B,M[U]);for(var G=1,U=0,F=C.length;U<F;++U)G=mv(G,C[U].length);B*=G;var Y=L*M.length*C.length;return{width:Math.max(1,Math.min(B,o.maxTileWidth)),height:Math.max(1,Math.min(Y,o.maxTileHeight))}}function N(){P&&(P.clearRect(0,0,T.width,T.height),o.backgroundColor&&(P.fillStyle=o.backgroundColor,P.fillRect(0,0,T.width,T.height)));for(var B=0,U=0;U<b.length;++U)B+=b[U];if(B<=0)return;for(var F=-L,G=0,Y=0,K=0;F<k.height;){if(G%2===0){for(var ne=Y/2%C.length,te=0,ae=0,le=0;te<k.width*2;){for(var he=0,U=0;U<y[K].length;++U)he+=y[K][U];if(he<=0)break;if(ae%2===0){var V=(1-o.symbolSize)*.5,Ce=te+y[K][ae]*V,Re=F+b[G]*V,qe=y[K][ae]*o.symbolSize,Qe=b[G]*o.symbolSize,X=le/2%C[ne].length;Oe(Ce,Re,qe,Qe,C[ne][X])}te+=y[K][ae],++le,++ae,ae===y[K].length&&(ae=0)}++K,K===y.length&&(K=0)}F+=b[G],++Y,++G,G===b.length&&(G=0)}function Oe(ie,Z,me,W,de){var ue=i?1:r,Se=Ma(de,ie*ue,Z*ue,me*ue,W*ue,o.color,o.symbolKeepAspect);if(i){var ce=n.painter.renderOneToVNode(Se);ce&&E.children.push(ce)}else Z_(P,Se)}}}}function Q_(t){if(!t||t.length===0)return[["rect"]];if(xe(t))return[[t]];for(var e=!0,r=0;r<t.length;++r)if(!xe(t[r])){e=!1;break}if(e)return Q_([t]);for(var n=[],r=0;r<t.length;++r)xe(t[r])?n.push([t[r]]):n.push(t[r]);return n}function J_(t){if(!t||t.length===0)return[[0,0]];if(ct(t)){var e=Math.ceil(t);return[[e,e]]}for(var r=!0,n=0;n<t.length;++n)if(!ct(t[n])){r=!1;break}if(r)return J_([t]);for(var i=[],n=0;n<t.length;++n)if(ct(t[n])){var e=Math.ceil(t[n]);i.push([e,e])}else{var e=De(t[n],function(s){return Math.ceil(s)});e.length%2===1?i.push(e.concat(e)):i.push(e)}return i}function wk(t){if(!t||typeof t=="object"&&t.length===0)return[0,0];if(ct(t)){var e=Math.ceil(t);return[e,e]}var r=De(t,function(n){return Math.ceil(n)});return t.length%2?r.concat(r):r}function Sk(t){return De(t,function(e){return eb(e)})}function eb(t){for(var e=0,r=0;r<t.length;++r)e+=t[r];return t.length%2===1?e*2:e}function Ck(t,e){t.eachRawSeries(function(r){if(!t.isSeriesFiltered(r)){var n=r.getData();n.hasItemVisual()&&n.each(function(o){var s=n.getItemVisual(o,"decal");if(s){var l=n.ensureUniqueItemVisual(o,"style");l.decal=lh(s,e)}});var i=n.getVisual("decal");if(i){var a=n.getVisual("style");a.decal=lh(i,e)}}})}var Mr=new Qr,tb={};function Tk(t,e){tb[t]=e}function xk(t){return tb[t]}var Mk=1,Lk=800,Ek=900,Ak=1e3,kk=2e3,Dk=5e3,rb=1e3,Ik=1100,Rd=2e3,nb=3e3,Ok=4e3,wu=4500,Pk=4600,Rk=5e3,Nk=6e3,ib=7e3,Bk={PROCESSOR:{FILTER:Ak,SERIES_FILTER:Lk,STATISTIC:Dk},VISUAL:{LAYOUT:rb,PROGRESSIVE_LAYOUT:Ik,GLOBAL:Rd,CHART:nb,POST_CHART_LAYOUT:Pk,COMPONENT:Ok,BRUSH:Rk,CHART_ITEM:wu,ARIA:Nk,DECAL:ib}},bt="__flagInMainProcess",Gs="__mainProcessVersion",Mt="__pendingUpdate",zc="__needsUpdateStatus",um=/^[a-zA-Z0-9_]+$/,Uc="__connectUpdateStatus",cm=0,Hk=1,Fk=2;function ab(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if(this.isDisposed()){this.id;return}return sb(this,t,e)}}function ob(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return sb(this,t,e)}}function sb(t,e,r){return r[0]=r[0]&&r[0].toLowerCase(),Qr.prototype[e].apply(t,r)}var lb=(function(t){_e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(Qr),ub=lb.prototype;ub.on=ob("on");ub.off=ob("off");var mi,Gc,Ws,an,js,Wc,jc,aa,oa,fm,hm,qc,dm,qs,pm,cb,cr,vm,sa,fb=(function(t){_e(e,t);function e(r,n,i){var a=t.call(this,new WA)||this;a._chartsViews=[],a._chartsMap={},a._componentsViews=[],a._componentsMap={},a._pendingActions=[],i=i||{},a._dom=r;var o="canvas",s="auto",l=!1;a[Gs]=1,i.ssr;var u=a._zr=pv(r,{renderer:i.renderer||o,devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height,ssr:i.ssr,useDirtyRect:ke(i.useDirtyRect,l),useCoarsePointer:ke(i.useCoarsePointer,s),pointerSize:i.pointerSize});a._ssr=i.ssr,a._throttledZrFlush=Pd(it(u.flush,u),17),a._updateTheme(n),a._locale=HL(i.locale||J0),a._coordSysMgr=new Md;var p=a._api=pm(a);function c(h,v){return h.__prio-v.__prio}return nl(jl,c),nl(fh,c),a._scheduler=new U_(a,p,fh,jl),a._messageCenter=new lb,a._initEvents(),a.resize=it(a.resize,a),u.animation.on("frame",a._onframe,a),fm(u,a),hm(u,a),pf(a),a}return e.prototype._onframe=function(){if(!this._disposed){vm(this);var r=this._scheduler;if(this[Mt]){var n=this[Mt].silent;this[bt]=!0,sa(this);try{mi(this),an.update.call(this,null,this[Mt].updateParams)}catch(l){throw this[bt]=!1,this[Mt]=null,l}this._zr.flush(),this[bt]=!1,this[Mt]=null,aa.call(this,n),oa.call(this,n)}else if(r.unfinished){var i=Mk,a=this._model,o=this._api;r.unfinished=!1;do{var s=+new Date;r.performSeriesTasks(a),r.performDataProcessorTasks(a),Wc(this,a),r.performVisualTasks(a),qs(this,this._model,o,"remain",{}),i-=+new Date-s}while(i>0&&r.unfinished);r.unfinished||this._zr.flush()}}},e.prototype.getDom=function(){return this._dom},e.prototype.getId=function(){return this.id},e.prototype.getZr=function(){return this._zr},e.prototype.isSSR=function(){return this._ssr},e.prototype.setOption=function(r,n,i){if(!this[bt]){if(this._disposed){this.id;return}var a,o,s;if(Ae(n)&&(i=n.lazyUpdate,a=n.silent,o=n.replaceMerge,s=n.transition,n=n.notMerge),this[bt]=!0,sa(this),!this._model||n){var l=new TE(this._api),u=this._theme,p=this._model=new kd;p.scheduler=this._scheduler,p.ssr=this._ssr,p.init(null,null,null,u,this._locale,l)}this._model.setOption(r,{replaceMerge:o},hh);var c={seriesTransition:s,optionChanged:!0};if(i)this[Mt]={silent:a,updateParams:c},this[bt]=!1,this.getZr().wakeUp();else{try{mi(this),an.update.call(this,null,c)}catch(h){throw this[Mt]=null,this[bt]=!1,h}this._ssr||this._zr.flush(),this[Mt]=null,this[bt]=!1,aa.call(this,a),oa.call(this,a)}}},e.prototype.setTheme=function(r,n){if(!this[bt]){if(this._disposed){this.id;return}var i=this._model;if(i){var a=n&&n.silent,o=null;this[Mt]&&(a==null&&(a=this[Mt].silent),o=this[Mt].updateParams,this[Mt]=null),this[bt]=!0,sa(this);try{this._updateTheme(r),i.setTheme(this._theme),mi(this),an.update.call(this,{type:"setTheme"},o)}catch(s){throw this[bt]=!1,s}this[bt]=!1,aa.call(this,a),oa.call(this,a)}}},e.prototype._updateTheme=function(r){xe(r)&&(r=hb[r]),r&&(r=je(r),r&&b_(r,!0),this._theme=r)},e.prototype.getModel=function(){return this._model},e.prototype.getOption=function(){return this._model&&this._model.getOption()},e.prototype.getWidth=function(){return this._zr.getWidth()},e.prototype.getHeight=function(){return this._zr.getHeight()},e.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||Pe.hasGlobalWindow&&window.devicePixelRatio||1},e.prototype.getRenderedCanvas=function(r){return this.renderToCanvas(r)},e.prototype.renderToCanvas=function(r){r=r||{};var n=this._zr.painter;return n.getRenderedCanvas({backgroundColor:r.backgroundColor||this._model.get("backgroundColor"),pixelRatio:r.pixelRatio||this.getDevicePixelRatio()})},e.prototype.renderToSVGString=function(r){r=r||{};var n=this._zr.painter;return n.renderToString({useViewBox:r.useViewBox})},e.prototype.getSvgDataURL=function(){var r=this._zr,n=r.storage.getDisplayList();return z(n,function(i){i.stopAnimation(null,!0)}),r.painter.toDataURL()},e.prototype.getDataURL=function(r){if(this._disposed){this.id;return}r=r||{};var n=r.excludeComponents,i=this._model,a=[],o=this;z(n,function(l){i.eachComponent({mainType:l},function(u){var p=o._componentsMap[u.__viewId];p.group.ignore||(a.push(p),p.group.ignore=!0)})});var s=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(r).toDataURL("image/"+(r&&r.type||"png"));return z(a,function(l){l.group.ignore=!1}),s},e.prototype.getConnectedDataURL=function(r){if(this._disposed){this.id;return}var n=r.type==="svg",i=this.group,a=Math.min,o=Math.max,s=1/0;if(gm[i]){var l=s,u=s,p=-s,c=-s,h=[],v=r&&r.pixelRatio||this.getDevicePixelRatio();z(Mo,function(M,L){if(M.group===i){var T=n?M.getZr().painter.getSvgDom().innerHTML:M.renderToCanvas(je(r)),E=M.getDom().getBoundingClientRect();l=a(E.left,l),u=a(E.top,u),p=o(E.right,p),c=o(E.bottom,c),h.push({dom:T,left:E.left,top:E.top})}}),l*=v,u*=v,p*=v,c*=v;var m=p-l,_=c-u,y=hn.createCanvas(),b=pv(y,{renderer:n?"svg":"canvas"});if(b.resize({width:m,height:_}),n){var C="";return z(h,function(M){var L=M.left-l,T=M.top-u;C+='<g transform="translate('+L+","+T+')">'+M.dom+"</g>"}),b.painter.getSvgRoot().innerHTML=C,r.connectedBackgroundColor&&b.painter.setBackgroundColor(r.connectedBackgroundColor),b.refreshImmediately(),b.painter.toDataURL()}else return r.connectedBackgroundColor&&b.add(new St({shape:{x:0,y:0,width:m,height:_},style:{fill:r.connectedBackgroundColor}})),z(h,function(M){var L=new jn({style:{x:M.left*v-l,y:M.top*v-u,image:M.dom}});b.add(L)}),b.refreshImmediately(),y.toDataURL("image/"+(r&&r.type||"png"))}else return this.getDataURL(r)},e.prototype.convertToPixel=function(r,n,i){return js(this,"convertToPixel",r,n,i)},e.prototype.convertToLayout=function(r,n,i){return js(this,"convertToLayout",r,n,i)},e.prototype.convertFromPixel=function(r,n,i){return js(this,"convertFromPixel",r,n,i)},e.prototype.containPixel=function(r,n){if(this._disposed){this.id;return}var i=this._model,a,o=hc(i,r);return z(o,function(s,l){l.indexOf("Models")>=0&&z(s,function(u){var p=u.coordinateSystem;if(p&&p.containPoint)a=a||!!p.containPoint(n);else if(l==="seriesModels"){var c=this._chartsMap[u.__viewId];c&&c.containPoint&&(a=a||c.containPoint(n,u))}},this)},this),!!a},e.prototype.getVisual=function(r,n){var i=this._model,a=hc(i,r,{defaultMainType:"series"}),o=a.seriesModel,s=o.getData(),l=a.hasOwnProperty("dataIndexInside")?a.dataIndexInside:a.hasOwnProperty("dataIndex")?s.indexOfRawIndex(a.dataIndex):null;return l!=null?$A(s,l,n):YA(s,n)},e.prototype.getViewOfComponentModel=function(r){return this._componentsMap[r.__viewId]},e.prototype.getViewOfSeriesModel=function(r){return this._chartsMap[r.__viewId]},e.prototype._initEvents=function(){var r=this;z(Vk,function(i){var a=function(o){var s=r.getModel(),l=o.target,u,p=i==="globalout";if(p?u={}:l&&ho(l,function(_){var y=Xe(_);if(y&&y.dataIndex!=null){var b=y.dataModel||s.getSeriesByIndex(y.seriesIndex);return u=b&&b.getDataParams(y.dataIndex,y.dataType,l)||{},!0}else if(y.eventData)return u=pe({},y.eventData),!0},!0),u){var c=u.componentType,h=u.componentIndex;(c==="markLine"||c==="markPoint"||c==="markArea")&&(c="series",h=u.seriesIndex);var v=c&&h!=null&&s.getComponent(c,h),m=v&&r[v.mainType==="series"?"_chartsMap":"_componentsMap"][v.__viewId];u.event=o,u.type=i,r._$eventProcessor.eventInfo={targetEl:l,packedEvent:u,model:v,view:m},r.trigger(i,u)}};a.zrEventfulCallAtLast=!0,r._zr.on(i,a,r)});var n=this._messageCenter;z(ch,function(i,a){n.on(a,function(o){r.trigger(a,o)})}),KA(n,this,this._api)},e.prototype.isDisposed=function(){return this._disposed},e.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},e.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var r=this.getDom();r&&h0(this.getDom(),Bd,"");var n=this,i=n._api,a=n._model;z(n._componentsViews,function(o){o.dispose(a,i)}),z(n._chartsViews,function(o){o.dispose(a,i)}),n._zr.dispose(),n._dom=n._model=n._chartsMap=n._componentsMap=n._chartsViews=n._componentsViews=n._scheduler=n._api=n._zr=n._throttledZrFlush=n._theme=n._coordSysMgr=n._messageCenter=null,delete Mo[n.id]},e.prototype.resize=function(r){if(!this[bt]){if(this._disposed){this.id;return}this._zr.resize(r);var n=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!n){var i=n.resetOption("media"),a=r&&r.silent;this[Mt]&&(a==null&&(a=this[Mt].silent),i=!0,this[Mt]=null),this[bt]=!0,sa(this);try{i&&mi(this),an.update.call(this,{type:"resize",animation:pe({duration:0},r&&r.animation)})}catch(o){throw this[bt]=!1,o}this[bt]=!1,aa.call(this,a),oa.call(this,a)}}},e.prototype.showLoading=function(r,n){if(this._disposed){this.id;return}if(Ae(r)&&(n=r,r=""),r=r||"default",this.hideLoading(),!!dh[r]){var i=dh[r](this._api,n),a=this._zr;this._loadingFX=i,a.add(i)}},e.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},e.prototype.makeActionFromEvent=function(r){var n=pe({},r);return n.type=uh[r.type],n},e.prototype.dispatchAction=function(r,n){if(this._disposed){this.id;return}if(Ae(n)||(n={silent:!!n}),!!Wl[r.type]&&this._model){if(this[bt]){this._pendingActions.push(r);return}var i=n.silent;jc.call(this,r,i);var a=n.flush;a?this._zr.flush():a!==!1&&Pe.browser.weChat&&this._throttledZrFlush(),aa.call(this,i),oa.call(this,i)}},e.prototype.updateLabelLayout=function(){Mr.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},e.prototype.appendData=function(r){if(this._disposed){this.id;return}var n=r.seriesIndex,i=this.getModel(),a=i.getSeriesByIndex(n);a.appendData(r),this._scheduler.unfinished=!0,this.getZr().wakeUp()},e.internalField=(function(){mi=function(c){var h=c._scheduler;h.restorePipelines(c._model),h.prepareStageTasks(),Gc(c,!0),Gc(c,!1),h.plan()},Gc=function(c,h){for(var v=c._model,m=c._scheduler,_=h?c._componentsViews:c._chartsViews,y=h?c._componentsMap:c._chartsMap,b=c._zr,C=c._api,M=0;M<_.length;M++)_[M].__alive=!1;h?v.eachComponent(function(E,k){E!=="series"&&L(k)}):v.eachSeries(L);function L(E){var k=E.__requireNewView;E.__requireNewView=!1;var P="_ec_"+E.id+"_"+E.type,D=!k&&y[P];if(!D){var N=Gr(E.type),B=h?Er.getClass(N.main,N.sub):Kr.getClass(N.sub);D=new B,D.init(v,C),y[P]=D,_.push(D),b.add(D.group)}E.__viewId=D.__id=P,D.__alive=!0,D.__model=E,D.group.__ecComponentInfo={mainType:E.mainType,index:E.componentIndex},!h&&m.prepareView(D,E,v,C)}for(var M=0;M<_.length;){var T=_[M];T.__alive?M++:(!h&&T.renderTask.dispose(),b.remove(T.group),T.dispose(v,C),_.splice(M,1),y[T.__id]===T&&delete y[T.__id],T.__id=T.group.__ecComponentInfo=null)}},Ws=function(c,h,v,m,_){var y=c._model;if(y.setUpdatePayload(v),!m){z([].concat(c._componentsViews).concat(c._chartsViews),T);return}var b={};b[m+"Id"]=v[m+"Id"],b[m+"Index"]=v[m+"Index"],b[m+"Name"]=v[m+"Name"];var C={mainType:m,query:b};_&&(C.subType=_);var M=v.excludeSeriesId,L;M!=null&&(L=He(),z(Ut(M),function(E){var k=$r(E,null);k!=null&&L.set(k,!0)})),y&&y.eachComponent(C,function(E){var k=L&&L.get(E.id)!=null;if(!k)if(Xv(v))if(E instanceof Un)v.type===Ei&&!v.notBlur&&!E.get(["emphasis","disabled"])&&mM(E,v,c._api);else{var P=td(E.mainType,E.componentIndex,v.name,c._api),D=P.focusSelf,N=P.dispatchers;v.type===Ei&&D&&!v.notBlur&&Uf(E.mainType,E.componentIndex,c._api),N&&z(N,function(B){v.type===Ei?Ol(B):Pl(B)})}else qf(v)&&E instanceof Un&&(bM(E,v,c._api),$v(E),cr(c))},c),y&&y.eachComponent(C,function(E){var k=L&&L.get(E.id)!=null;k||T(c[m==="series"?"_chartsMap":"_componentsMap"][E.__viewId])},c);function T(E){E&&E.__alive&&E[h]&&E[h](E.__model,y,c._api,v)}},an={prepareAndUpdate:function(c){mi(this),an.update.call(this,c,c&&{optionChanged:c.newOption!=null})},update:function(c,h){var v=this._model,m=this._api,_=this._zr,y=this._coordSysMgr,b=this._scheduler;if(v){v.setUpdatePayload(c),b.restoreData(v,c),b.performSeriesTasks(v),y.create(v,m),b.performDataProcessorTasks(v,c),Wc(this,v),y.update(v,m),n(v),b.performVisualTasks(v,c);var C=v.get("backgroundColor")||"transparent";_.setBackgroundColor(C);var M=v.get("darkMode");M!=null&&M!=="auto"&&_.setDarkMode(M),qc(this,v,m,c,h),Mr.trigger("afterupdate",v,m)}},updateTransform:function(c){var h=this,v=this._model,m=this._api;if(v){v.setUpdatePayload(c);var _=[];v.eachComponent(function(b,C){if(b!=="series"){var M=h.getViewOfComponentModel(C);if(M&&M.__alive)if(M.updateTransform){var L=M.updateTransform(C,v,m,c);L&&L.update&&_.push(M)}else _.push(M)}});var y=He();v.eachSeries(function(b){var C=h._chartsMap[b.__viewId];if(C.updateTransform){var M=C.updateTransform(b,v,m,c);M&&M.update&&y.set(b.uid,1)}else y.set(b.uid,1)}),n(v),this._scheduler.performVisualTasks(v,c,{setDirty:!0,dirtyMap:y}),qs(this,v,m,c,{},y),Mr.trigger("afterupdate",v,m)}},updateView:function(c){var h=this._model;h&&(h.setUpdatePayload(c),Kr.markUpdateMethod(c,"updateView"),n(h),this._scheduler.performVisualTasks(h,c,{setDirty:!0}),qc(this,h,this._api,c,{}),Mr.trigger("afterupdate",h,this._api))},updateVisual:function(c){var h=this,v=this._model;v&&(v.setUpdatePayload(c),v.eachSeries(function(m){m.getData().clearAllVisual()}),Kr.markUpdateMethod(c,"updateVisual"),n(v),this._scheduler.performVisualTasks(v,c,{visualType:"visual",setDirty:!0}),v.eachComponent(function(m,_){if(m!=="series"){var y=h.getViewOfComponentModel(_);y&&y.__alive&&y.updateVisual(_,v,h._api,c)}}),v.eachSeries(function(m){var _=h._chartsMap[m.__viewId];_.updateVisual(m,v,h._api,c)}),Mr.trigger("afterupdate",v,this._api))},updateLayout:function(c){an.update.call(this,c)}};function r(c,h,v,m,_){if(c._disposed){c.id;return}for(var y=c._model,b=c._coordSysMgr.getCoordinateSystems(),C,M=hc(y,v),L=0;L<b.length;L++){var T=b[L];if(T[h]&&(C=T[h](y,M,m,_))!=null)return C}}js=r,Wc=function(c,h){var v=c._chartsMap,m=c._scheduler;h.eachSeries(function(_){m.updateStreamModes(_,v[_.__viewId])})},jc=function(c,h){var v=this,m=this.getModel(),_=c.type,y=c.escapeConnect,b=Wl[_],C=(b.update||"update").split(":"),M=C.pop(),L=C[0]!=null&&Gr(C[0]);this[bt]=!0,sa(this);var T=[c],E=!1;c.batch&&(E=!0,T=De(c.batch,function(K){return K=tt(pe({},K),c),K.batch=null,K}));var k=[],P,D=[],N=b.nonRefinedEventType,B=qf(c),U=Xv(c);if(U&&I0(this._api),z(T,function(K){var ne=b.action(K,m,v._api);if(b.refineEvent?D.push(ne):P=ne,P=P||pe({},K),P.type=N,k.push(P),U){var te=Yh(c),ae=te.queryOptionMap,le=te.mainTypeSpecified,he=le?ae.keys()[0]:"series";Ws(v,M,K,he),cr(v)}else B?(Ws(v,M,K,"series"),cr(v)):L&&Ws(v,M,K,L.main,L.sub)}),M!=="none"&&!U&&!B&&!L)try{this[Mt]?(mi(this),an.update.call(this,c),this[Mt]=null):an[M].call(this,c)}catch(K){throw this[bt]=!1,K}if(E?P={type:N,escapeConnect:y,batch:k}:P=k[0],this[bt]=!1,!h){var F=void 0;if(b.refineEvent){var G=b.refineEvent(D,c,m,this._api).eventContent;dn(Ae(G)),F=tt({type:b.refinedEventType},G),F.fromAction=c.type,F.fromActionPayload=c,F.escapeConnect=!0}var Y=this._messageCenter;Y.trigger(P.type,P),F&&Y.trigger(F.type,F)}},aa=function(c){for(var h=this._pendingActions;h.length;){var v=h.shift();jc.call(this,v,c)}},oa=function(c){!c&&this.trigger("updated")},fm=function(c,h){c.on("rendered",function(v){h.trigger("rendered",v),c.animation.isFinished()&&!h[Mt]&&!h._scheduler.unfinished&&!h._pendingActions.length&&h.trigger("finished")})},hm=function(c,h){c.on("mouseover",function(v){var m=v.target,_=ho(m,jf);_&&(yM(_,v,h._api),cr(h))}).on("mouseout",function(v){var m=v.target,_=ho(m,jf);_&&(_M(_,v,h._api),cr(h))}).on("click",function(v){var m=v.target,_=ho(m,function(C){return Xe(C).dataIndex!=null},!0);if(_){var y=_.selected?"unselect":"select",b=Xe(_);h._api.dispatchAction({type:y,dataType:b.dataType,dataIndexInside:b.dataIndex,seriesIndex:b.seriesIndex,isFromClick:!0})}})};function n(c){c.clearColorPalette(),c.eachSeries(function(h){h.clearColorPalette()})}function i(c){var h=[],v=[],m=!1;if(c.eachComponent(function(C,M){var L=M.get("zlevel")||0,T=M.get("z")||0,E=M.getZLevelKey();m=m||!!E,(C==="series"?v:h).push({zlevel:L,z:T,idx:M.componentIndex,type:C,key:E})}),m){var _=h.concat(v),y,b;nl(_,function(C,M){return C.zlevel===M.zlevel?C.z-M.z:C.zlevel-M.zlevel}),z(_,function(C){var M=c.getComponent(C.type,C.idx),L=C.zlevel,T=C.key;y!=null&&(L=Math.max(y,L)),T?(L===y&&T!==b&&L++,b=T):b&&(L===y&&L++,b=""),y=L,M.setZLevel(L)})}}qc=function(c,h,v,m,_){i(h),dm(c,h,v,m,_),z(c._chartsViews,function(y){y.__alive=!1}),qs(c,h,v,m,_),z(c._chartsViews,function(y){y.__alive||y.remove(h,v)})},dm=function(c,h,v,m,_,y){z(y||c._componentsViews,function(b){var C=b.__model;u(C,b),b.render(C,h,v,m),l(C,b),p(C,b)})},qs=function(c,h,v,m,_,y){var b=c._scheduler;_=pe(_||{},{updatedSeries:h.getSeries()}),Mr.trigger("series:beforeupdate",h,v,_);var C=!1;h.eachSeries(function(M){var L=c._chartsMap[M.__viewId];L.__alive=!0;var T=L.renderTask;b.updatePayload(T,m),u(M,L),y&&y.get(M.uid)&&T.dirty(),T.perform(b.getPerformArgs(T))&&(C=!0),L.group.silent=!!M.get("silent"),s(M,L),$v(M)}),b.unfinished=C||b.unfinished,Mr.trigger("series:layoutlabels",h,v,_),Mr.trigger("series:transition",h,v,_),h.eachSeries(function(M){var L=c._chartsMap[M.__viewId];l(M,L),p(M,L)}),o(c,h),Mr.trigger("series:afterupdate",h,v,_)},cr=function(c){c[zc]=!0,c.getZr().wakeUp()},sa=function(c){c[Gs]=(c[Gs]+1)%1e3},vm=function(c){c[zc]&&(c.getZr().storage.traverse(function(h){wo(h)||a(h)}),c[zc]=!1)};function a(c){for(var h=[],v=c.currentStates,m=0;m<v.length;m++){var _=v[m];_==="emphasis"||_==="blur"||_==="select"||h.push(_)}c.selected&&c.states.select&&h.push("select"),c.hoverState===uu&&c.states.emphasis?h.push("emphasis"):c.hoverState===lu&&c.states.blur&&h.push("blur"),c.useStates(h)}function o(c,h){var v=c._zr,m=v.storage,_=0;m.traverse(function(y){y.isGroup||_++}),_>h.get("hoverLayerThreshold")&&!Pe.node&&!Pe.worker&&h.eachSeries(function(y){if(!y.preventUsingHoverLayer){var b=c._chartsMap[y.__viewId];b.__alive&&b.eachRendered(function(C){C.states.emphasis&&(C.states.emphasis.hoverLayer=!0)})}})}function s(c,h){var v=c.get("blendMode")||null;h.eachRendered(function(m){m.isGroup||(m.style.blend=v)})}function l(c,h){if(!c.preventAutoZ){var v=$0(c);h.eachRendered(function(m){return Y0(m,v.z,v.zlevel),!0})}}function u(c,h){h.eachRendered(function(v){if(!wo(v)){var m=v.getTextContent(),_=v.getTextGuideLine();v.stateTransition&&(v.stateTransition=null),m&&m.stateTransition&&(m.stateTransition=null),_&&_.stateTransition&&(_.stateTransition=null),v.hasState()?(v.prevStates=v.currentStates,v.clearStates()):v.prevStates&&(v.prevStates=null)}})}function p(c,h){var v=c.getModel("stateAnimation"),m=c.isAnimationEnabled(),_=v.get("duration"),y=_>0?{duration:_,delay:v.get("delay"),easing:v.get("easing")}:null;h.eachRendered(function(b){if(b.states&&b.states.emphasis){if(wo(b))return;if(b instanceof at&&MM(b),b.__dirty){var C=b.prevStates;C&&b.useStates(C)}if(m){b.stateTransition=y;var M=b.getTextContent(),L=b.getTextGuideLine();M&&(M.stateTransition=y),L&&(L.stateTransition=y)}b.__dirty&&a(b)}})}pm=function(c){return new((function(h){_e(v,h);function v(){return h!==null&&h.apply(this,arguments)||this}return v.prototype.getCoordinateSystems=function(){return c._coordSysMgr.getCoordinateSystems()},v.prototype.getComponentByElement=function(m){for(;m;){var _=m.__ecComponentInfo;if(_!=null)return c._model.getComponent(_.mainType,_.index);m=m.parent}},v.prototype.enterEmphasis=function(m,_){Ol(m,_),cr(c)},v.prototype.leaveEmphasis=function(m,_){Pl(m,_),cr(c)},v.prototype.enterBlur=function(m){gM(m),cr(c)},v.prototype.leaveBlur=function(m){E0(m),cr(c)},v.prototype.enterSelect=function(m){A0(m),cr(c)},v.prototype.leaveSelect=function(m){k0(m),cr(c)},v.prototype.getModel=function(){return c.getModel()},v.prototype.getViewOfComponentModel=function(m){return c.getViewOfComponentModel(m)},v.prototype.getViewOfSeriesModel=function(m){return c.getViewOfSeriesModel(m)},v.prototype.getMainProcessVersion=function(){return c[Gs]},v})(y_))(c)},cb=function(c){function h(v,m){for(var _=0;_<v.length;_++){var y=v[_];y[Uc]=m}}z(uh,function(v,m){c._messageCenter.on(m,function(_){if(gm[c.group]&&c[Uc]!==cm){if(_&&_.escapeConnect)return;var y=c.makeActionFromEvent(_),b=[];z(Mo,function(C){C!==c&&C.group===c.group&&b.push(C)}),h(b,cm),z(b,function(C){C[Uc]!==Hk&&C.dispatchAction(y)}),h(b,Fk)}})})}})(),e})(Qr),Nd=fb.prototype;Nd.on=ab("on");Nd.off=ab("off");Nd.one=function(t,e,r){var n=this;function i(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];e&&e.apply&&e.apply(this,a),n.off(t,i)}this.on.call(this,t,i,r)};var Vk=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];var Wl={},uh={},ch={},fh=[],hh=[],jl=[],hb={},dh={},Mo={},gm={},zk=+new Date-0,Bd="_echarts_instance_";function Uk(t,e,r){var n=!(r&&r.ssr);if(n){var i=Gk(t);if(i)return i}var a=new fb(t,e,r);return a.id="ec_"+zk++,Mo[a.id]=a,n&&h0(t,Bd,a.id),cb(a),Mr.trigger("afterinit",a),a}function Gk(t){return Mo[nx(t,Bd)]}function db(t,e){hb[t]=e}function pb(t){Ye(hh,t)<0&&hh.push(t)}function vb(t,e){Fd(fh,t,e,kk)}function Wk(t){Hd("afterinit",t)}function jk(t){Hd("afterupdate",t)}function Hd(t,e){Mr.on(t,e)}function Ia(t,e,r){var n,i,a,o,s;Ie(e)&&(r=e,e=""),Ae(t)?(n=t.type,i=t.event,o=t.update,s=t.publishNonRefinedEvent,r||(r=t.action),a=t.refineEvent):(n=t,i=e);function l(p){return p.toLowerCase()}i=l(i||n);var u=a?l(n):i;Wl[n]||(dn(um.test(n)&&um.test(i)),a&&dn(i!==n),Wl[n]={actionType:n,refinedEventType:i,nonRefinedEventType:u,update:o,action:r,refineEvent:a},ch[i]=1,a&&s&&(ch[u]=1),uh[u]=n)}function qk(t,e){Md.register(t,e)}function $k(t,e){Fd(jl,t,e,rb,"layout")}function Hi(t,e){Fd(jl,t,e,nb,"visual")}var mm=[];function Fd(t,e,r,n,i){if((Ie(e)||Ae(e))&&(r=e,e=n),!(Ye(mm,r)>=0)){mm.push(r);var a=U_.wrapStageHandler(r,i);a.__prio=e,a.__raw=r,t.push(a)}}function gb(t,e){dh[t]=e}function Yk(t,e,r){var n=xk("registerMap");n&&n(t,e,r)}var Kk=eA;Hi(Rd,kA);Hi(wu,DA);Hi(wu,IA);Hi(Rd,jA);Hi(wu,qA);Hi(ib,Ck);pb(b_);vb(Ek,NE);gb("default",OA);Ia({type:Ei,event:Ei,update:Ei},Zt);Ia({type:ul,event:ul,update:ul},Zt);Ia({type:Dl,event:Jh,update:Dl,action:Zt,refineEvent:Vd,publishNonRefinedEvent:!0});Ia({type:Vf,event:Jh,update:Vf,action:Zt,refineEvent:Vd,publishNonRefinedEvent:!0});Ia({type:Il,event:Jh,update:Il,action:Zt,refineEvent:Vd,publishNonRefinedEvent:!0});function Vd(t,e,r,n){return{eventContent:{selected:wM(r),isFromClick:e.isFromClick||!1}}}db("default",{});db("dark",q_);function Qa(t){return t==null?0:t.length||1}function ym(t){return t}var Xk=(function(){function t(e,r,n,i,a,o){this._old=e,this._new=r,this._oldKeyGetter=n||ym,this._newKeyGetter=i||ym,this.context=a,this._diffModeMultiple=o==="multiple"}return t.prototype.add=function(e){return this._add=e,this},t.prototype.update=function(e){return this._update=e,this},t.prototype.updateManyToOne=function(e){return this._updateManyToOne=e,this},t.prototype.updateOneToMany=function(e){return this._updateOneToMany=e,this},t.prototype.updateManyToMany=function(e){return this._updateManyToMany=e,this},t.prototype.remove=function(e){return this._remove=e,this},t.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},t.prototype._executeOneToOne=function(){var e=this._old,r=this._new,n={},i=new Array(e.length),a=new Array(r.length);this._initIndexMap(e,null,i,"_oldKeyGetter"),this._initIndexMap(r,n,a,"_newKeyGetter");for(var o=0;o<e.length;o++){var s=i[o],l=n[s],u=Qa(l);if(u>1){var p=l.shift();l.length===1&&(n[s]=l[0]),this._update&&this._update(p,o)}else u===1?(n[s]=null,this._update&&this._update(l,o)):this._remove&&this._remove(o)}this._performRestAdd(a,n)},t.prototype._executeMultiple=function(){var e=this._old,r=this._new,n={},i={},a=[],o=[];this._initIndexMap(e,n,a,"_oldKeyGetter"),this._initIndexMap(r,i,o,"_newKeyGetter");for(var s=0;s<a.length;s++){var l=a[s],u=n[l],p=i[l],c=Qa(u),h=Qa(p);if(c>1&&h===1)this._updateManyToOne&&this._updateManyToOne(p,u),i[l]=null;else if(c===1&&h>1)this._updateOneToMany&&this._updateOneToMany(p,u),i[l]=null;else if(c===1&&h===1)this._update&&this._update(p,u),i[l]=null;else if(c>1&&h>1)this._updateManyToMany&&this._updateManyToMany(p,u),i[l]=null;else if(c>1)for(var v=0;v<c;v++)this._remove&&this._remove(u[v]);else this._remove&&this._remove(u)}this._performRestAdd(o,i)},t.prototype._performRestAdd=function(e,r){for(var n=0;n<e.length;n++){var i=e[n],a=r[i],o=Qa(a);if(o>1)for(var s=0;s<o;s++)this._add&&this._add(a[s]);else o===1&&this._add&&this._add(a);r[i]=null}},t.prototype._initIndexMap=function(e,r,n,i){for(var a=this._diffModeMultiple,o=0;o<e.length;o++){var s="_ec_"+this[i](e[o],o);if(a||(n[o]=s),!!r){var l=r[s],u=Qa(l);u===0?(r[s]=o,a&&n.push(s)):u===1?r[s]=[l,o]:l.push(o)}}},t})(),Zk=(function(){function t(e,r){this._encode=e,this._schema=r}return t.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},t.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},t})();function Qk(t,e){var r={},n=r.encode={},i=He(),a=[],o=[],s={};z(t.dimensions,function(h){var v=t.getDimensionInfo(h),m=v.coordDim;if(m){var _=v.coordDimIndex;$c(n,m)[_]=h,v.isExtraCoord||(i.set(m,1),eD(v.type)&&(a[0]=h),$c(s,m)[_]=t.getDimensionIndex(v.name)),v.defaultTooltip&&o.push(h)}d_.each(function(y,b){var C=$c(n,b),M=v.otherDims[b];M!=null&&M!==!1&&(C[M]=v.name)})});var l=[],u={};i.each(function(h,v){var m=n[v];u[v]=m[0],l=l.concat(m)}),r.dataDimsOnCoord=l,r.dataDimIndicesOnCoord=De(l,function(h){return t.getDimensionInfo(h).storeDimIndex}),r.encodeFirstDimNotExtra=u;var p=n.label;p&&p.length&&(a=p.slice());var c=n.tooltip;return c&&c.length?o=c.slice():o.length||(o=a.slice()),n.defaultedLabel=a,n.defaultedTooltip=o,r.userOutput=new Zk(s,e),r}function $c(t,e){return t.hasOwnProperty(e)||(t[e]=[]),t[e]}function Jk(t){return t==="category"?"ordinal":t==="time"?"time":"float"}function eD(t){return!(t==="ordinal"||t==="time")}var vl=(function(){function t(e){this.otherDims={},e!=null&&pe(this,e)}return t})(),tD=gt(),rD={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},mb=(function(){function t(e){this.dimensions=e.dimensions,this._dimOmitted=e.dimensionOmitted,this.source=e.source,this._fullDimCount=e.fullDimensionCount,this._updateDimOmitted(e.dimensionOmitted)}return t.prototype.isDimensionOmitted=function(){return this._dimOmitted},t.prototype._updateDimOmitted=function(e){this._dimOmitted=e,e&&(this._dimNameMap||(this._dimNameMap=bb(this.source)))},t.prototype.getSourceDimensionIndex=function(e){return ke(this._dimNameMap.get(e),-1)},t.prototype.getSourceDimension=function(e){var r=this.source.dimensionsDefine;if(r)return r[e]},t.prototype.makeStoreSchema=function(){for(var e=this._fullDimCount,r=C_(this.source),n=!wb(e),i="",a=[],o=0,s=0;o<e;o++){var l=void 0,u=void 0,p=void 0,c=this.dimensions[s];if(c&&c.storeDimIndex===o)l=r?c.name:null,u=c.type,p=c.ordinalMeta,s++;else{var h=this.getSourceDimension(o);h&&(l=r?h.name:null,u=h.type)}a.push({property:l,type:u,ordinalMeta:p}),r&&l!=null&&(!c||!c.isCalculationCoord)&&(i+=n?l.replace(/\`/g,"`1").replace(/\$/g,"`2"):l),i+="$",i+=rD[u]||"f",p&&(i+=p.uid),i+="$"}var v=this.source,m=[v.seriesLayoutBy,v.startIndex,i].join("$$");return{dimensions:a,hash:m}},t.prototype.makeOutputDimensionNames=function(){for(var e=[],r=0,n=0;r<this._fullDimCount;r++){var i=void 0,a=this.dimensions[n];if(a&&a.storeDimIndex===r)a.isCalculationCoord||(i=a.name),n++;else{var o=this.getSourceDimension(r);o&&(i=o.name)}e.push(i)}return e},t.prototype.appendCalculationDimension=function(e){this.dimensions.push(e),e.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},t})();function yb(t){return t instanceof mb}function _b(t){for(var e=He(),r=0;r<(t||[]).length;r++){var n=t[r],i=Ae(n)?n.name:n;i!=null&&e.get(i)==null&&e.set(i,r)}return e}function bb(t){var e=tD(t);return e.dimNameMap||(e.dimNameMap=_b(t.dimensionsDefine))}function wb(t){return t>30}var Ja=Ae,Sn=De,nD=typeof Int32Array>"u"?Array:Int32Array,iD="e\0\0",_m=-1,aD=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],oD=["_approximateExtent"],bm,$s,eo,to,Yc,ro,Kc,sD=(function(){function t(e,r){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","minmaxDownSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","minmaxDownSample","lttbDownSample"];var n,i=!1;yb(e)?(n=e.dimensions,this._dimOmitted=e.isDimensionOmitted(),this._schema=e):(i=!0,n=e),n=n||["x","y"];for(var a={},o=[],s={},l=!1,u={},p=0;p<n.length;p++){var c=n[p],h=xe(c)?new vl({name:c}):c instanceof vl?c:new vl(c),v=h.name;h.type=h.type||"float",h.coordDim||(h.coordDim=v,h.coordDimIndex=0);var m=h.otherDims=h.otherDims||{};o.push(v),a[v]=h,u[v]!=null&&(l=!0),h.createInvertedIndices&&(s[v]=[]);var _=p;ct(h.storeDimIndex)&&(_=h.storeDimIndex),m.itemName===0&&(this._nameDimIdx=_),m.itemId===0&&(this._idDimIdx=_),i&&(h.storeDimIndex=p)}if(this.dimensions=o,this._dimInfos=a,this._initGetDimensionInfo(l),this.hostModel=r,this._invertedIndicesMap=s,this._dimOmitted){var y=this._dimIdxToName=He();z(o,function(b){y.set(a[b].storeDimIndex,b)})}}return t.prototype.getDimension=function(e){var r=this._recognizeDimIndex(e);if(r==null)return e;if(r=e,!this._dimOmitted)return this.dimensions[r];var n=this._dimIdxToName.get(r);if(n!=null)return n;var i=this._schema.getSourceDimension(r);if(i)return i.name},t.prototype.getDimensionIndex=function(e){var r=this._recognizeDimIndex(e);if(r!=null)return r;if(e==null)return-1;var n=this._getDimInfo(e);return n?n.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(e):-1},t.prototype._recognizeDimIndex=function(e){if(ct(e)||e!=null&&!isNaN(e)&&!this._getDimInfo(e)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(e)<0))return+e},t.prototype._getStoreDimIndex=function(e){var r=this.getDimensionIndex(e);return r},t.prototype.getDimensionInfo=function(e){return this._getDimInfo(this.getDimension(e))},t.prototype._initGetDimensionInfo=function(e){var r=this._dimInfos;this._getDimInfo=e?function(n){return r.hasOwnProperty(n)?r[n]:void 0}:function(n){return r[n]}},t.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},t.prototype.mapDimension=function(e,r){var n=this._dimSummary;if(r==null)return n.encodeFirstDimNotExtra[e];var i=n.encode[e];return i?i[r]:null},t.prototype.mapDimensionsAll=function(e){var r=this._dimSummary,n=r.encode[e];return(n||[]).slice()},t.prototype.getStore=function(){return this._store},t.prototype.initData=function(e,r,n){var i=this,a;if(e instanceof Jf&&(a=e),!a){var o=this.dimensions,s=Dd(e)||Qt(e)?new T_(e,o.length):e;a=new Jf;var l=Sn(o,function(u){return{type:i._dimInfos[u].type,property:u}});a.initData(s,l,n)}this._store=a,this._nameList=(r||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,a.count()),this._dimSummary=Qk(this,this._schema),this.userOutput=this._dimSummary.userOutput},t.prototype.appendData=function(e){var r=this._store.appendData(e);this._doInit(r[0],r[1])},t.prototype.appendValues=function(e,r){var n=this._store.appendValues(e,r&&r.length),i=n.start,a=n.end,o=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),r)for(var s=i;s<a;s++){var l=s-i;this._nameList[s]=r[l],o&&Kc(this,s)}},t.prototype._updateOrdinalMeta=function(){for(var e=this._store,r=this.dimensions,n=0;n<r.length;n++){var i=this._dimInfos[r[n]];i.ordinalMeta&&e.collectOrdinalMeta(i.storeDimIndex,i.ordinalMeta)}},t.prototype._shouldMakeIdFromName=function(){var e=this._store.getProvider();return this._idDimIdx==null&&e.getSource().sourceFormat!==Pn&&!e.fillStorage},t.prototype._doInit=function(e,r){if(!(e>=r)){var n=this._store,i=n.getProvider();this._updateOrdinalMeta();var a=this._nameList,o=this._idList,s=i.getSource().sourceFormat,l=s===or;if(l&&!i.pure)for(var u=[],p=e;p<r;p++){var c=i.getItem(p,u);if(!this.hasItemOption&&qT(c)&&(this.hasItemOption=!0),c){var h=c.name;a[p]==null&&h!=null&&(a[p]=$r(h,null));var v=c.id;o[p]==null&&v!=null&&(o[p]=$r(v,null))}}if(this._shouldMakeIdFromName())for(var p=e;p<r;p++)Kc(this,p);bm(this)}},t.prototype.getApproximateExtent=function(e){return this._approximateExtent[e]||this._store.getDataExtent(this._getStoreDimIndex(e))},t.prototype.setApproximateExtent=function(e,r){r=this.getDimension(r),this._approximateExtent[r]=e.slice()},t.prototype.getCalculationInfo=function(e){return this._calculationInfo[e]},t.prototype.setCalculationInfo=function(e,r){Ja(e)?pe(this._calculationInfo,e):this._calculationInfo[e]=r},t.prototype.getName=function(e){var r=this.getRawIndex(e),n=this._nameList[r];return n==null&&this._nameDimIdx!=null&&(n=eo(this,this._nameDimIdx,r)),n==null&&(n=""),n},t.prototype._getCategory=function(e,r){var n=this._store.get(e,r),i=this._store.getOrdinalMeta(e);return i?i.categories[n]:n},t.prototype.getId=function(e){return $s(this,this.getRawIndex(e))},t.prototype.count=function(){return this._store.count()},t.prototype.get=function(e,r){var n=this._store,i=this._dimInfos[e];if(i)return n.get(i.storeDimIndex,r)},t.prototype.getByRawIndex=function(e,r){var n=this._store,i=this._dimInfos[e];if(i)return n.getByRawIndex(i.storeDimIndex,r)},t.prototype.getIndices=function(){return this._store.getIndices()},t.prototype.getDataExtent=function(e){return this._store.getDataExtent(this._getStoreDimIndex(e))},t.prototype.getSum=function(e){return this._store.getSum(this._getStoreDimIndex(e))},t.prototype.getMedian=function(e){return this._store.getMedian(this._getStoreDimIndex(e))},t.prototype.getValues=function(e,r){var n=this,i=this._store;return be(e)?i.getValues(Sn(e,function(a){return n._getStoreDimIndex(a)}),r):i.getValues(e)},t.prototype.hasValue=function(e){for(var r=this._dimSummary.dataDimIndicesOnCoord,n=0,i=r.length;n<i;n++)if(isNaN(this._store.get(r[n],e)))return!1;return!0},t.prototype.indexOfName=function(e){for(var r=0,n=this._store.count();r<n;r++)if(this.getName(r)===e)return r;return-1},t.prototype.getRawIndex=function(e){return this._store.getRawIndex(e)},t.prototype.indexOfRawIndex=function(e){return this._store.indexOfRawIndex(e)},t.prototype.rawIndexOf=function(e,r){var n=e&&this._invertedIndicesMap[e],i=n&&n[r];return i==null||isNaN(i)?_m:i},t.prototype.each=function(e,r,n){Ie(e)&&(n=r,r=e,e=[]);var i=n||this,a=Sn(to(e),this._getStoreDimIndex,this);this._store.each(a,i?it(r,i):r)},t.prototype.filterSelf=function(e,r,n){Ie(e)&&(n=r,r=e,e=[]);var i=n||this,a=Sn(to(e),this._getStoreDimIndex,this);return this._store=this._store.filter(a,i?it(r,i):r),this},t.prototype.selectRange=function(e){var r=this,n={},i=ft(e);return z(i,function(a){var o=r._getStoreDimIndex(a);n[o]=e[a]}),this._store=this._store.selectRange(n),this},t.prototype.mapArray=function(e,r,n){Ie(e)&&(n=r,r=e,e=[]),n=n||this;var i=[];return this.each(e,function(){i.push(r&&r.apply(this,arguments))},n),i},t.prototype.map=function(e,r,n,i){var a=n||i||this,o=Sn(to(e),this._getStoreDimIndex,this),s=ro(this);return s._store=this._store.map(o,a?it(r,a):r),s},t.prototype.modify=function(e,r,n,i){var a=n||i||this,o=Sn(to(e),this._getStoreDimIndex,this);this._store.modify(o,a?it(r,a):r)},t.prototype.downSample=function(e,r,n,i){var a=ro(this);return a._store=this._store.downSample(this._getStoreDimIndex(e),r,n,i),a},t.prototype.minmaxDownSample=function(e,r){var n=ro(this);return n._store=this._store.minmaxDownSample(this._getStoreDimIndex(e),r),n},t.prototype.lttbDownSample=function(e,r){var n=ro(this);return n._store=this._store.lttbDownSample(this._getStoreDimIndex(e),r),n},t.prototype.getRawDataItem=function(e){return this._store.getRawDataItem(e)},t.prototype.getItemModel=function(e){var r=this.hostModel,n=this.getRawDataItem(e);return new pt(n,r,r&&r.ecModel)},t.prototype.diff=function(e){var r=this;return new Xk(e?e.getStore().getIndices():[],this.getStore().getIndices(),function(n){return $s(e,n)},function(n){return $s(r,n)})},t.prototype.getVisual=function(e){var r=this._visual;return r&&r[e]},t.prototype.setVisual=function(e,r){this._visual=this._visual||{},Ja(e)?pe(this._visual,e):this._visual[e]=r},t.prototype.getItemVisual=function(e,r){var n=this._itemVisuals[e],i=n&&n[r];return i??this.getVisual(r)},t.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},t.prototype.ensureUniqueItemVisual=function(e,r){var n=this._itemVisuals,i=n[e];i||(i=n[e]={});var a=i[r];return a==null&&(a=this.getVisual(r),be(a)?a=a.slice():Ja(a)&&(a=pe({},a)),i[r]=a),a},t.prototype.setItemVisual=function(e,r,n){var i=this._itemVisuals[e]||{};this._itemVisuals[e]=i,Ja(r)?pe(i,r):i[r]=n},t.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},t.prototype.setLayout=function(e,r){Ja(e)?pe(this._layout,e):this._layout[e]=r},t.prototype.getLayout=function(e){return this._layout[e]},t.prototype.getItemLayout=function(e){return this._itemLayouts[e]},t.prototype.setItemLayout=function(e,r,n){this._itemLayouts[e]=n?pe(this._itemLayouts[e]||{},r):r},t.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},t.prototype.setItemGraphicEl=function(e,r){var n=this.hostModel&&this.hostModel.seriesIndex;oM(n,this.dataType,e,r),this._graphicEls[e]=r},t.prototype.getItemGraphicEl=function(e){return this._graphicEls[e]},t.prototype.eachItemGraphicEl=function(e,r){z(this._graphicEls,function(n,i){n&&e&&e.call(r,n,i)})},t.prototype.cloneShallow=function(e){return e||(e=new t(this._schema?this._schema:Sn(this.dimensions,this._getDimInfo,this),this.hostModel)),Yc(e,this),e._store=this._store,e},t.prototype.wrapMethod=function(e,r){var n=this[e];Ie(n)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var i=n.apply(this,arguments);return r.apply(this,[i].concat(Fh(arguments)))})},t.internalField=(function(){bm=function(e){var r=e._invertedIndicesMap;z(r,function(n,i){var a=e._dimInfos[i],o=a.ordinalMeta,s=e._store;if(o){n=r[i]=new nD(o.categories.length);for(var l=0;l<n.length;l++)n[l]=_m;for(var l=0;l<s.count();l++)n[s.get(a.storeDimIndex,l)]=l}})},eo=function(e,r,n){return $r(e._getCategory(r,n),null)},$s=function(e,r){var n=e._idList[r];return n==null&&e._idDimIdx!=null&&(n=eo(e,e._idDimIdx,r)),n==null&&(n=iD+r),n},to=function(e){return be(e)||(e=e!=null?[e]:[]),e},ro=function(e){var r=new t(e._schema?e._schema:Sn(e.dimensions,e._getDimInfo,e),e.hostModel);return Yc(r,e),r},Yc=function(e,r){z(aD.concat(r.__wrappedMethods||[]),function(n){r.hasOwnProperty(n)&&(e[n]=r[n])}),e.__wrappedMethods=r.__wrappedMethods,z(oD,function(n){e[n]=je(r[n])}),e._calculationInfo=pe({},r._calculationInfo)},Kc=function(e,r){var n=e._nameList,i=e._idList,a=e._nameDimIdx,o=e._idDimIdx,s=n[r],l=i[r];if(s==null&&a!=null&&(n[r]=s=eo(e,a,r)),l==null&&o!=null&&(i[r]=l=eo(e,o,r)),l==null&&s!=null){var u=e._nameRepeatCount,p=u[s]=(u[s]||0)+1;l=s,p>1&&(l+="__ec__"+p),i[r]=l}}})(),t})();function lD(t,e){Dd(t)||(t=w_(t)),e=e||{};var r=e.coordDimensions||[],n=e.dimensionsDefine||t.dimensionsDefine||[],i=He(),a=[],o=cD(t,r,n,e.dimensionsCount),s=e.canOmitUnusedDimensions&&wb(o),l=n===t.dimensionsDefine,u=l?bb(t):_b(n),p=e.encodeDefine;!p&&e.encodeDefaulter&&(p=e.encodeDefaulter(t,o));for(var c=He(p),h=new A_(o),v=0;v<h.length;v++)h[v]=-1;function m(D){var N=h[D];if(N<0){var B=n[D],U=Ae(B)?B:{name:B},F=new vl,G=U.name;G!=null&&u.get(G)!=null&&(F.name=F.displayName=G),U.type!=null&&(F.type=U.type),U.displayName!=null&&(F.displayName=U.displayName);var Y=a.length;return h[D]=Y,F.storeDimIndex=D,a.push(F),F}return a[N]}if(!s)for(var v=0;v<o;v++)m(v);c.each(function(D,N){var B=Ut(D).slice();if(B.length===1&&!xe(B[0])&&B[0]<0){c.set(N,!1);return}var U=c.set(N,[]);z(B,function(F,G){var Y=xe(F)?u.get(F):F;Y!=null&&Y<o&&(U[G]=Y,y(m(Y),N,G))})});var _=0;z(r,function(D){var N,B,U,F;if(xe(D))N=D,F={};else{F=D,N=F.name;var G=F.ordinalMeta;F.ordinalMeta=null,F=pe({},F),F.ordinalMeta=G,B=F.dimsDef,U=F.otherDims,F.name=F.coordDim=F.coordDimIndex=F.dimsDef=F.otherDims=null}var Y=c.get(N);if(Y!==!1){if(Y=Ut(Y),!Y.length)for(var K=0;K<(B&&B.length||1);K++){for(;_<o&&m(_).coordDim!=null;)_++;_<o&&Y.push(_++)}z(Y,function(ne,te){var ae=m(ne);if(l&&F.type!=null&&(ae.type=F.type),y(tt(ae,F),N,te),ae.name==null&&B){var le=B[te];!Ae(le)&&(le={name:le}),ae.name=ae.displayName=le.name,ae.defaultTooltip=le.defaultTooltip}U&&tt(ae.otherDims,U)})}});function y(D,N,B){d_.get(N)!=null?D.otherDims[N]=B:(D.coordDim=N,D.coordDimIndex=B,i.set(N,!0))}var b=e.generateCoord,C=e.generateCoordCount,M=C!=null;C=b?C||1:0;var L=b||"value";function T(D){D.name==null&&(D.name=D.coordDim)}if(s)z(a,function(D){T(D)}),a.sort(function(D,N){return D.storeDimIndex-N.storeDimIndex});else for(var E=0;E<o;E++){var k=m(E),P=k.coordDim;P==null&&(k.coordDim=fD(L,i,M),k.coordDimIndex=0,(!b||C<=0)&&(k.isExtraCoord=!0),C--),T(k),k.type==null&&(m_(t,E)===rr.Must||k.isExtraCoord&&(k.otherDims.itemName!=null||k.otherDims.seriesName!=null))&&(k.type="ordinal")}return uD(a),new mb({source:t,dimensions:a,fullDimensionCount:o,dimensionOmitted:s})}function uD(t){for(var e=He(),r=0;r<t.length;r++){var n=t[r],i=n.name,a=e.get(i)||0;a>0&&(n.name=i+(a-1)),a++,e.set(i,a)}}function cD(t,e,r,n){var i=Math.max(t.dimensionsDetectedCount||1,e.length,r.length,n||0);return z(e,function(a){var o;Ae(a)&&(o=a.dimsDef)&&(i=Math.max(i,o.length))}),i}function fD(t,e,r){if(r||e.hasKey(t)){for(var n=0;e.hasKey(t+n);)n++;t+=n}return e.set(t,!0),t}var hD=(function(){function t(e){this.coordSysDims=[],this.axisMap=He(),this.categoryAxisMap=He(),this.coordSysName=e}return t})();function dD(t){var e=t.get("coordinateSystem"),r=new hD(e),n=pD[e];if(n)return n(t,r,r.axisMap,r.categoryAxisMap),r}var pD={cartesian2d:function(t,e,r,n){var i=t.getReferringComponents("xAxis",yr).models[0],a=t.getReferringComponents("yAxis",yr).models[0];e.coordSysDims=["x","y"],r.set("x",i),r.set("y",a),la(i)&&(n.set("x",i),e.firstCategoryDimIndex=0),la(a)&&(n.set("y",a),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},singleAxis:function(t,e,r,n){var i=t.getReferringComponents("singleAxis",yr).models[0];e.coordSysDims=["single"],r.set("single",i),la(i)&&(n.set("single",i),e.firstCategoryDimIndex=0)},polar:function(t,e,r,n){var i=t.getReferringComponents("polar",yr).models[0],a=i.findAxisModel("radiusAxis"),o=i.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],r.set("radius",a),r.set("angle",o),la(a)&&(n.set("radius",a),e.firstCategoryDimIndex=0),la(o)&&(n.set("angle",o),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},geo:function(t,e,r,n){e.coordSysDims=["lng","lat"]},parallel:function(t,e,r,n){var i=t.ecModel,a=i.getComponent("parallel",t.get("parallelIndex")),o=e.coordSysDims=a.dimensions.slice();z(a.parallelAxisIndex,function(s,l){var u=i.getComponent("parallelAxis",s),p=o[l];r.set(p,u),la(u)&&(n.set(p,u),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=l))})},matrix:function(t,e,r,n){var i=t.getReferringComponents("matrix",yr).models[0];e.coordSysDims=["x","y"];var a=i.getDimensionModel("x"),o=i.getDimensionModel("y");r.set("x",a),r.set("y",o),n.set("x",a),n.set("y",o)}};function la(t){return t.get("type")==="category"}function vD(t,e,r){r=r||{};var n=r.byIndex,i=r.stackedCoordDimension,a,o,s;gD(e)?a=e:(o=e.schema,a=o.dimensions,s=e.store);var l=!!(t&&t.get("stack")),u,p,c,h;if(z(a,function(C,M){xe(C)&&(a[M]=C={name:C}),l&&!C.isExtraCoord&&(!n&&!u&&C.ordinalMeta&&(u=C),!p&&C.type!=="ordinal"&&C.type!=="time"&&(!i||i===C.coordDim)&&(p=C))}),p&&!n&&!u&&(n=!0),p){c="__\0ecstackresult_"+t.id,h="__\0ecstackedover_"+t.id,u&&(u.createInvertedIndices=!0);var v=p.coordDim,m=p.type,_=0;z(a,function(C){C.coordDim===v&&_++});var y={name:c,coordDim:v,coordDimIndex:_,type:m,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length},b={name:h,coordDim:h,coordDimIndex:_+1,type:m,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length+1};o?(s&&(y.storeDimIndex=s.ensureCalculationDimension(h,m),b.storeDimIndex=s.ensureCalculationDimension(c,m)),o.appendCalculationDimension(y),o.appendCalculationDimension(b)):(a.push(y),a.push(b))}return{stackedDimension:p&&p.name,stackedByDimension:u&&u.name,isStackedByIndex:n,stackedOverDimension:h,stackResultDimension:c}}function gD(t){return!yb(t.schema)}function Uo(t,e){return!!e&&e===t.getCalculationInfo("stackedDimension")}function mD(t,e){return Uo(t,e)?t.getCalculationInfo("stackResultDimension"):e}function yD(t,e){var r=t.get("coordinateSystem"),n=Md.get(r),i;return e&&e.coordSysDims&&(i=De(e.coordSysDims,function(a){var o={name:a},s=e.axisMap.get(a);if(s){var l=s.get("type");o.type=Jk(l)}return o})),i||(i=n&&(n.getDimensionsInfo?n.getDimensionsInfo():n.dimensions.slice())||["x","y"]),i}function _D(t,e,r){var n,i;return r&&z(t,function(a,o){var s=a.coordDim,l=r.categoryAxisMap.get(s);l&&(n==null&&(n=o),a.ordinalMeta=l.getOrdinalMeta(),e&&(a.createInvertedIndices=!0)),a.otherDims.itemName!=null&&(i=!0)}),!i&&n!=null&&(t[n].otherDims.itemName=0),n}function bD(t,e,r){r=r||{};var n=e.getSourceManager(),i,a=!1;i=n.getSource(),a=i.sourceFormat===or;var o=dD(e),s=yD(e,o),l=r.useEncodeDefaulter,u=Ie(l)?l:l?Dt(fE,s,e):null,p={coordDimensions:s,generateCoord:r.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:u,canOmitUnusedDimensions:!a},c=lD(i,p),h=_D(c.dimensions,r.createInvertedIndices,o),v=a?null:n.getSharedDataStore(c),m=vD(e,{schema:c,store:v}),_=new sD(c,e);_.setCalculationInfo(m);var y=h!=null&&wD(i)?function(b,C,M,L){return L===h?M:this.defaultDimValueGetter(b,C,M,L)}:null;return _.hasItemOption=!1,_.initData(a?i:v,null,y),_}function wD(t){if(t.sourceFormat===or){var e=SD(t.data||[]);return!be(Xo(e))}}function SD(t){for(var e=0;e<t.length&&t[e]==null;)e++;return t[e]}function ph(t){return t.type==="interval"||t.type==="log"}function CD(t,e,r,n,i){var a={},o=a.interval=o0(e/r);n!=null&&o<n&&(o=a.interval=n),i!=null&&o>i&&(o=a.interval=i);var s=a.intervalPrecision=Go(o),l=a.niceTickExtent=[Pt(Math.ceil(t[0]/o)*o,s),Pt(Math.floor(t[1]/o)*o,s)];return TD(l,t),a}function Xc(t){var e=Math.pow(10,qh(t)),r=t/e;return r?r===2?r=3:r===3?r=5:r*=2:r=1,Pt(r*e)}function Go(t){return un(t)+2}function wm(t,e,r){t[e]=Math.max(Math.min(t[e],r[1]),r[0])}function TD(t,e){!isFinite(t[0])&&(t[0]=e[0]),!isFinite(t[1])&&(t[1]=e[1]),wm(t,0,e),wm(t,1,e),t[0]>t[1]&&(t[0]=t[1])}function zd(t,e){return t>=e[0]&&t<=e[1]}var xD=(function(){function t(){this.normalize=Sm,this.scale=Cm}return t.prototype.updateMethods=function(e){e.hasBreaks()?(this.normalize=it(e.normalize,e),this.scale=it(e.scale,e)):(this.normalize=Sm,this.scale=Cm)},t})();function Sm(t,e){return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0])}function Cm(t,e){return t*(e[1]-e[0])+e[0]}function vh(t,e,r){var n=Math.log(t);return[Math.log(r?e[0]:Math.max(0,e[0]))/n,Math.log(r?e[1]:Math.max(0,e[1]))/n]}var qn=(function(){function t(e){this._calculator=new xD,this._setting=e||{},this._extent=[1/0,-1/0]}return t.prototype.getSetting=function(e){return this._setting[e]},t.prototype._innerUnionExtent=function(e){var r=this._extent;this._innerSetExtent(e[0]<r[0]?e[0]:r[0],e[1]>r[1]?e[1]:r[1])},t.prototype.unionExtentFromData=function(e,r){this._innerUnionExtent(e.getApproximateExtent(r))},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.setExtent=function(e,r){this._innerSetExtent(e,r)},t.prototype._innerSetExtent=function(e,r){var n=this._extent;isNaN(e)||(n[0]=e),isNaN(r)||(n[1]=r),this._brkCtx&&this._brkCtx.update(n)},t.prototype.setBreaksFromOption=function(e){},t.prototype._innerSetBreak=function(e){this._brkCtx&&(this._brkCtx.setBreaks(e),this._calculator.updateMethods(this._brkCtx),this._brkCtx.update(this._extent))},t.prototype._innerGetBreaks=function(){return this._brkCtx?this._brkCtx.breaks:[]},t.prototype.hasBreaks=function(){return this._brkCtx?this._brkCtx.hasBreaks():!1},t.prototype._getExtentSpanWithBreaks=function(){return this._brkCtx&&this._brkCtx.hasBreaks()?this._brkCtx.getExtentSpan():this._extent[1]-this._extent[0]},t.prototype.isInExtentRange=function(e){return this._extent[0]<=e&&this._extent[1]>=e},t.prototype.isBlank=function(){return this._isBlank},t.prototype.setBlank=function(e){this._isBlank=e},t})();au(qn);var MD=0,gh=(function(){function t(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication,this.uid=++MD,this._onCollect=e.onCollect}return t.createByAxisModel=function(e){var r=e.option,n=r.data,i=n&&De(n,LD);return new t({categories:i,needCollect:!i,deduplication:r.dedplication!==!1})},t.prototype.getOrdinal=function(e){return this._getOrCreateMap().get(e)},t.prototype.parseAndCollect=function(e){var r,n=this._needCollect;if(!xe(e)&&!n)return e;if(n&&!this._deduplication)return r=this.categories.length,this.categories[r]=e,this._onCollect&&this._onCollect(e,r),r;var i=this._getOrCreateMap();return r=i.get(e),r==null&&(n?(r=this.categories.length,this.categories[r]=e,i.set(e,r),this._onCollect&&this._onCollect(e,r)):r=NaN),r},t.prototype._getOrCreateMap=function(){return this._map||(this._map=He(this.categories))},t})();function LD(t){return Ae(t)&&t.value!=null?t.value:t+""}var Sb=(function(t){_e(e,t);function e(r){var n=t.call(this,r)||this;n.type="ordinal";var i=n.getSetting("ordinalMeta");return i||(i=new gh({})),be(i)&&(i=new gh({categories:De(i,function(a){return Ae(a)?a.value:a})})),n._ordinalMeta=i,n._extent=n.getSetting("extent")||[0,i.categories.length-1],n}return e.prototype.parse=function(r){return r==null?NaN:xe(r)?this._ordinalMeta.getOrdinal(r):Math.round(r)},e.prototype.contain=function(r){return zd(r,this._extent)&&r>=0&&r<this._ordinalMeta.categories.length},e.prototype.normalize=function(r){return r=this._getTickNumber(r),this._calculator.normalize(r,this._extent)},e.prototype.scale=function(r){return r=Math.round(this._calculator.scale(r,this._extent)),this.getRawOrdinalNumber(r)},e.prototype.getTicks=function(){for(var r=[],n=this._extent,i=n[0];i<=n[1];)r.push({value:i}),i++;return r},e.prototype.getMinorTicks=function(r){},e.prototype.setSortInfo=function(r){if(r==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var n=r.ordinalNumbers,i=this._ordinalNumbersByTick=[],a=this._ticksByOrdinalNumber=[],o=0,s=this._ordinalMeta.categories.length,l=Math.min(s,n.length);o<l;++o){var u=n[o];i[o]=u,a[u]=o}for(var p=0;o<s;++o){for(;a[p]!=null;)p++;i.push(p),a[p]=o}},e.prototype._getTickNumber=function(r){var n=this._ticksByOrdinalNumber;return n&&r>=0&&r<n.length?n[r]:r},e.prototype.getRawOrdinalNumber=function(r){var n=this._ordinalNumbersByTick;return n&&r>=0&&r<n.length?n[r]:r},e.prototype.getLabel=function(r){if(!this.isBlank()){var n=this.getRawOrdinalNumber(r.value),i=this._ordinalMeta.categories[n];return i==null?"":i+""}},e.prototype.count=function(){return this._extent[1]-this._extent[0]+1},e.prototype.isInExtentRange=function(r){return r=this._getTickNumber(r),this._extent[0]<=r&&this._extent[1]>=r},e.prototype.getOrdinalMeta=function(){return this._ordinalMeta},e.prototype.calcNiceTicks=function(){},e.prototype.calcNiceExtent=function(){},e.type="ordinal",e})(qn);qn.registerClass(Sb);var Cn=Pt,La=(function(t){_e(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="interval",r._interval=0,r._intervalPrecision=2,r}return e.prototype.parse=function(r){return r==null||r===""?NaN:Number(r)},e.prototype.contain=function(r){return zd(r,this._extent)},e.prototype.normalize=function(r){return this._calculator.normalize(r,this._extent)},e.prototype.scale=function(r){return this._calculator.scale(r,this._extent)},e.prototype.getInterval=function(){return this._interval},e.prototype.setInterval=function(r){this._interval=r,this._niceExtent=this._extent.slice(),this._intervalPrecision=Go(r)},e.prototype.getTicks=function(r){r=r||{};var n=this._interval,i=this._extent,a=this._niceExtent,o=this._intervalPrecision,s=Hl(),l=[];if(!n)return l;r.breakTicks;var u=1e4;i[0]<a[0]&&(r.expandToNicedExtent?l.push({value:Cn(a[0]-n,o)}):l.push({value:i[0]}));for(var p=function(m,_){return Math.round((_-m)/n)},c=a[0];c<=a[1];){if(l.push({value:c}),c=Cn(c+n,o),this._brkCtx){var h=this._brkCtx.calcNiceTickMultiple(c,p);h>=0&&(c=Cn(c+h*n,o))}if(l.length>0&&c===l[l.length-1].value)break;if(l.length>u)return[]}var v=l.length?l[l.length-1].value:a[1];return i[1]>v&&(r.expandToNicedExtent?l.push({value:Cn(v+n,o)}):l.push({value:i[1]})),r.breakTicks,l},e.prototype.getMinorTicks=function(r){for(var n=this.getTicks({expandToNicedExtent:!0}),i=[],a=this.getExtent(),o=1;o<n.length;o++){var s=n[o],l=n[o-1];if(!(l.break||s.break)){for(var u=0,p=[],c=s.value-l.value,h=c/r,v=Go(h);u<r-1;){var m=Cn(l.value+(u+1)*h,v);m>a[0]&&m<a[1]&&p.push(m),u++}var _=Hl();_&&_.pruneTicksByBreak("auto",p,this._getNonTransBreaks(),function(y){return y},this._interval,a),i.push(p)}}return i},e.prototype._getNonTransBreaks=function(){return this._brkCtx?this._brkCtx.breaks:[]},e.prototype.getLabel=function(r,n){if(r==null)return"";var i=n&&n.precision;i==null?i=un(r.value)||0:i==="auto"&&(i=this._intervalPrecision);var a=Cn(r.value,i,!0);return l_(a)},e.prototype.calcNiceTicks=function(r,n,i){r=r||5;var a=this._extent.slice(),o=this._getExtentSpanWithBreaks();if(isFinite(o)){o<0&&(o=-o,a.reverse(),this._innerSetExtent(a[0],a[1]),a=this._extent.slice());var s=CD(a,o,r,n,i);this._intervalPrecision=s.intervalPrecision,this._interval=s.interval,this._niceExtent=s.niceTickExtent}},e.prototype.calcNiceExtent=function(r){var n=this._extent.slice();if(n[0]===n[1])if(n[0]!==0){var i=Math.abs(n[0]);r.fixMax||(n[1]+=i/2),n[0]-=i/2}else n[1]=1;var a=n[1]-n[0];isFinite(a)||(n[0]=0,n[1]=1),this._innerSetExtent(n[0],n[1]),n=this._extent.slice(),this.calcNiceTicks(r.splitNumber,r.minInterval,r.maxInterval);var o=this._interval,s=this._intervalPrecision;r.fixMin||(n[0]=Cn(Math.floor(n[0]/o)*o,s)),r.fixMax||(n[1]=Cn(Math.ceil(n[1]/o)*o,s)),this._innerSetExtent(n[0],n[1])},e.prototype.setNiceExtent=function(r,n){this._niceExtent=[r,n]},e.type="interval",e})(qn);qn.registerClass(La);var Cb=typeof Float32Array<"u",ED=Cb?Float32Array:Array;function ma(t){return be(t)?Cb?new Float32Array(t):t:new ED(t)}var AD="__ec_stack_";function kD(t){return t.get("stack")||AD+t.seriesIndex}function Tb(t){return t.dim+t.index}function DD(t,e){var r=[];return e.eachSeriesByType(t,function(n){ND(n)&&r.push(n)}),r}function ID(t){var e={};z(t,function(l){var u=l.coordinateSystem,p=u.getBaseAxis();if(!(p.type!=="time"&&p.type!=="value"))for(var c=l.getData(),h=p.dim+"_"+p.index,v=c.getDimensionIndex(c.mapDimension(p.dim)),m=c.getStore(),_=0,y=m.count();_<y;++_){var b=m.get(v,_);e[h]?e[h].push(b):e[h]=[b]}});var r={};for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];if(i){i.sort(function(l,u){return l-u});for(var a=null,o=1;o<i.length;++o){var s=i[o]-i[o-1];s>0&&(a=a===null?s:Math.min(a,s))}r[n]=a}}return r}function OD(t){var e=ID(t),r=[];return z(t,function(n){var i=n.coordinateSystem,a=i.getBaseAxis(),o=a.getExtent(),s;if(a.type==="category")s=a.getBandWidth();else if(a.type==="value"||a.type==="time"){var l=a.dim+"_"+a.index,u=e[l],p=Math.abs(o[1]-o[0]),c=a.scale.getExtent(),h=Math.abs(c[1]-c[0]);s=u?p/h*u:p}else{var v=n.getData();s=Math.abs(o[1]-o[0])/v.count()}var m=zt(n.get("barWidth"),s),_=zt(n.get("barMaxWidth"),s),y=zt(n.get("barMinWidth")||(BD(n)?.5:1),s),b=n.get("barGap"),C=n.get("barCategoryGap"),M=n.get("defaultBarGap");r.push({bandWidth:s,barWidth:m,barMaxWidth:_,barMinWidth:y,barGap:b,barCategoryGap:C,defaultBarGap:M,axisKey:Tb(a),stackId:kD(n)})}),PD(r)}function PD(t){var e={};z(t,function(n,i){var a=n.axisKey,o=n.bandWidth,s=e[a]||{bandWidth:o,remainedWidth:o,autoWidthCount:0,categoryGap:null,gap:n.defaultBarGap||0,stacks:{}},l=s.stacks;e[a]=s;var u=n.stackId;l[u]||s.autoWidthCount++,l[u]=l[u]||{width:0,maxWidth:0};var p=n.barWidth;p&&!l[u].width&&(l[u].width=p,p=Math.min(s.remainedWidth,p),s.remainedWidth-=p);var c=n.barMaxWidth;c&&(l[u].maxWidth=c);var h=n.barMinWidth;h&&(l[u].minWidth=h);var v=n.barGap;v!=null&&(s.gap=v);var m=n.barCategoryGap;m!=null&&(s.categoryGap=m)});var r={};return z(e,function(n,i){r[i]={};var a=n.stacks,o=n.bandWidth,s=n.categoryGap;if(s==null){var l=ft(a).length;s=Math.max(35-l*4,15)+"%"}var u=zt(s,o),p=zt(n.gap,1),c=n.remainedWidth,h=n.autoWidthCount,v=(c-u)/(h+(h-1)*p);v=Math.max(v,0),z(a,function(b){var C=b.maxWidth,M=b.minWidth;if(b.width){var L=b.width;C&&(L=Math.min(L,C)),M&&(L=Math.max(L,M)),b.width=L,c-=L+p*L,h--}else{var L=v;C&&C<L&&(L=Math.min(C,c)),M&&M>L&&(L=M),L!==v&&(b.width=L,c-=L+p*L,h--)}}),v=(c-u)/(h+(h-1)*p),v=Math.max(v,0);var m=0,_;z(a,function(b,C){b.width||(b.width=v),_=b,m+=b.width*(1+p)}),_&&(m-=_.width*p);var y=-m/2;z(a,function(b,C){r[i][C]=r[i][C]||{bandWidth:o,offset:y,width:b.width},y+=b.width*(1+p)})}),r}function RD(t,e,r){if(t&&e){var n=t[Tb(e)];return n}}function ND(t){return t.coordinateSystem&&t.coordinateSystem.type==="cartesian2d"}function BD(t){return t.pipelineContext&&t.pipelineContext.large}var HD=function(t,e,r,n){for(;r<n;){var i=r+n>>>1;t[i][1]<e?r=i+1:n=i}return r},xb=(function(t){_e(e,t);function e(r){var n=t.call(this,r)||this;return n.type="time",n}return e.prototype.getLabel=function(r){var n=this.getSetting("useUTC");return mu(r.value,dg[YL(Co(this._minLevelUnit))]||dg.second,n,this.getSetting("locale"))},e.prototype.getFormattedLabel=function(r,n,i){var a=this.getSetting("useUTC"),o=this.getSetting("locale");return KL(r,n,i,o,a)},e.prototype.getTicks=function(r){var n=this._interval,i=this._extent,a=[];if(!n)return a;var o=this.getSetting("useUTC"),s=Fl(i[1],o);a.push({value:i[0],time:{level:0,upperTimeUnit:s,lowerTimeUnit:s}});var l=qD(this._minLevelUnit,this._approxInterval,o,i,this._getExtentSpanWithBreaks(),this._brkCtx);a=a.concat(l);var u=Fl(i[1],o);a.push({value:i[1],time:{level:0,upperTimeUnit:u,lowerTimeUnit:u}}),this.getSetting("useUTC");var p=Ai.length-1,c=0;return z(a,function(h){p=Math.min(p,Ye(Ai,h.time.upperTimeUnit)),c=Math.max(c,h.time.level)}),a},e.prototype.calcNiceExtent=function(r){var n=this.getExtent();if(n[0]===n[1]&&(n[0]-=_r,n[1]+=_r),n[1]===-1/0&&n[0]===1/0){var i=new Date;n[1]=+new Date(i.getFullYear(),i.getMonth(),i.getDate()),n[0]=n[1]-_r}this._innerSetExtent(n[0],n[1]),this.calcNiceTicks(r.splitNumber,r.minInterval,r.maxInterval)},e.prototype.calcNiceTicks=function(r,n,i){r=r||10;var a=this._getExtentSpanWithBreaks();this._approxInterval=a/r,n!=null&&this._approxInterval<n&&(this._approxInterval=n),i!=null&&this._approxInterval>i&&(this._approxInterval=i);var o=Ys.length,s=Math.min(HD(Ys,this._approxInterval,0,o),o-1);this._interval=Ys[s][1],this._intervalPrecision=Go(this._interval),this._minLevelUnit=Ys[Math.max(s-1,0)][0]},e.prototype.parse=function(r){return ct(r)?r:+Da(r)},e.prototype.contain=function(r){return zd(r,this._extent)},e.prototype.normalize=function(r){return this._calculator.normalize(r,this._extent)},e.prototype.scale=function(r){return this._calculator.scale(r,this._extent)},e.type="time",e})(La),Ys=[["second",yd],["minute",_d],["hour",So],["quarter-day",So*6],["half-day",So*12],["day",_r*1.2],["half-week",_r*3.5],["week",_r*7],["month",_r*31],["quarter",_r*95],["half-year",hg/2],["year",hg]];function FD(t,e,r,n){return Xf(new Date(e),t,n).getTime()===Xf(new Date(r),t,n).getTime()}function VD(t,e){return t/=_r,t>16?16:t>7.5?7:t>3.5?4:t>1.5?2:1}function zD(t){var e=30*_r;return t/=e,t>6?6:t>3?3:t>2?2:1}function UD(t){return t/=So,t>12?12:t>6?6:t>3.5?4:t>2?2:1}function Tm(t,e){return t/=e?_d:yd,t>30?30:t>20?20:t>15?15:t>10?10:t>5?5:t>2?2:1}function GD(t){return o0(t)}function WD(t,e,r){var n=Math.max(0,Ye(Ai,e)-1);return Xf(new Date(t),Ai[n],r).getTime()}function jD(t,e){var r=new Date(0);r[t](1);var n=r.getTime();r[t](1+e);var i=r.getTime()-n;return function(a,o){return Math.max(0,Math.round((o-a)/i))}}function qD(t,e,r,n,i,a){var o=1e4,s=WL,l=0;function u(F,G,Y,K,ne,te,ae){for(var le=jD(ne,F),he=G,V=new Date(he);he<Y&&he<=n[1]&&(ae.push({value:he}),!(l++>o));)if(V[ne](V[K]()+F),he=V.getTime(),a){var Ce=a.calcNiceTickMultiple(he,le);Ce>0&&(V[ne](V[K]()+Ce*F),he=V.getTime())}ae.push({value:he,notAdd:!0})}function p(F,G,Y){var K=[],ne=!G.length;if(!FD(Co(F),n[0],n[1],r)){ne&&(G=[{value:WD(n[0],F,r)},{value:n[1]}]);for(var te=0;te<G.length-1;te++){var ae=G[te].value,le=G[te+1].value;if(ae!==le){var he=void 0,V=void 0,Ce=void 0,Re=!1;switch(F){case"year":he=Math.max(1,Math.round(e/_r/365)),V=t_(r),Ce=XL(r);break;case"half-year":case"quarter":case"month":he=zD(e),V=bd(r),Ce=r_(r);break;case"week":case"half-week":case"day":he=VD(e),V=wd(r),Ce=n_(r),Re=!0;break;case"half-day":case"quarter-day":case"hour":he=UD(e),V=Sd(r),Ce=i_(r);break;case"minute":he=Tm(e,!0),V=Cd(r),Ce=a_(r);break;case"second":he=Tm(e,!1),V=Td(r),Ce=o_(r);break;case"millisecond":he=GD(e),V=xd(r),Ce=s_(r);break}le>=n[0]&&ae<=n[1]&&u(he,ae,le,V,Ce,Re,K),F==="year"&&Y.length>1&&te===0&&Y.unshift({value:Y[0].value-he})}}for(var te=0;te<K.length;te++)Y.push(K[te])}}for(var c=[],h=[],v=0,m=0,_=0;_<s.length;++_){var y=Co(s[_]);if($L(s[_])){p(s[_],c[c.length-1]||[],h);var b=s[_+1]?Co(s[_+1]):null;if(y!==b){if(h.length){m=v,h.sort(function(F,G){return F.value-G.value});for(var C=[],M=0;M<h.length;++M){var L=h[M].value;(M===0||h[M-1].value!==L)&&(C.push(h[M]),L>=n[0]&&L<=n[1]&&v++)}var T=i/e;if(v>T*1.5&&m>T/1.5||(c.push(C),v>T||t===s[_]))break}h=[]}}}for(var E=At(De(c,function(F){return At(F,function(G){return G.value>=n[0]&&G.value<=n[1]&&!G.notAdd})}),function(F){return F.length>0}),k=[],P=E.length-1,_=0;_<E.length;++_)for(var D=E[_],N=0;N<D.length;++N){var B=Fl(D[N].value,r);k.push({value:D[N].value,time:{level:P-_,upperTimeUnit:B,lowerTimeUnit:B}})}k.sort(function(F,G){return F.value-G.value});for(var U=[],_=0;_<k.length;++_)(_===0||k[_].value!==k[_-1].value)&&U.push(k[_]);return U}qn.registerClass(xb);var mh=Pt,$D=Math.floor,YD=Math.ceil,Ks=Math.pow,Xs=Math.log,Mb=(function(t){_e(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="log",r.base=10,r._originalScale=new La,r}return e.prototype.getTicks=function(r){r=r||{};var n=this._extent.slice(),i=this._originalScale.getExtent(),a=t.prototype.getTicks.call(this,r),o=this.base;return this._originalScale._innerGetBreaks(),De(a,function(s){var l=s.value,u=null,p=Ks(o,l);l===n[0]&&this._fixMin?u=i[0]:l===n[1]&&this._fixMax&&(u=i[1]);var c;return u!=null&&(p=Zc(p,u)),{value:p,break:c}},this)},e.prototype._getNonTransBreaks=function(){return this._originalScale._innerGetBreaks()},e.prototype.setExtent=function(r,n){this._originalScale.setExtent(r,n);var i=vh(this.base,[r,n]);t.prototype.setExtent.call(this,i[0],i[1])},e.prototype.getExtent=function(){var r=this.base,n=t.prototype.getExtent.call(this);n[0]=Ks(r,n[0]),n[1]=Ks(r,n[1]);var i=this._originalScale.getExtent();return this._fixMin&&(n[0]=Zc(n[0],i[0])),this._fixMax&&(n[1]=Zc(n[1],i[1])),n},e.prototype.unionExtentFromData=function(r,n){this._originalScale.unionExtentFromData(r,n);var i=vh(this.base,r.getApproximateExtent(n),!0);this._innerUnionExtent(i)},e.prototype.calcNiceTicks=function(r){r=r||10;var n=this._extent.slice(),i=this._getExtentSpanWithBreaks();if(!(!isFinite(i)||i<=0)){var a=VT(i),o=r/i*a;for(o<=.5&&(a*=10);!isNaN(a)&&Math.abs(a)<1&&Math.abs(a)>0;)a*=10;var s=[mh(YD(n[0]/a)*a),mh($D(n[1]/a)*a)];this._interval=a,this._intervalPrecision=Go(a),this._niceExtent=s}},e.prototype.calcNiceExtent=function(r){t.prototype.calcNiceExtent.call(this,r),this._fixMin=r.fixMin,this._fixMax=r.fixMax},e.prototype.contain=function(r){return r=Xs(r)/Xs(this.base),t.prototype.contain.call(this,r)},e.prototype.normalize=function(r){return r=Xs(r)/Xs(this.base),t.prototype.normalize.call(this,r)},e.prototype.scale=function(r){return r=t.prototype.scale.call(this,r),Ks(this.base,r)},e.prototype.setBreaksFromOption=function(r){},e.type="log",e})(La);function Zc(t,e){return mh(t,un(e))}qn.registerClass(Mb);var KD=(function(){function t(e,r,n){this._prepareParams(e,r,n)}return t.prototype._prepareParams=function(e,r,n){n[1]<n[0]&&(n=[NaN,NaN]),this._dataMin=n[0],this._dataMax=n[1];var i=this._isOrdinal=e.type==="ordinal";this._needCrossZero=e.type==="interval"&&r.getNeedCrossZero&&r.getNeedCrossZero();var a=r.get("min",!0);a==null&&(a=r.get("startValue",!0));var o=this._modelMinRaw=a;Ie(o)?this._modelMinNum=Zs(e,o({min:n[0],max:n[1]})):o!=="dataMin"&&(this._modelMinNum=Zs(e,o));var s=this._modelMaxRaw=r.get("max",!0);if(Ie(s)?this._modelMaxNum=Zs(e,s({min:n[0],max:n[1]})):s!=="dataMax"&&(this._modelMaxNum=Zs(e,s)),i)this._axisDataLen=r.getCategories().length;else{var l=r.get("boundaryGap"),u=be(l)?l:[l||0,l||0];typeof u[0]=="boolean"||typeof u[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[Di(u[0],1),Di(u[1],1)]}},t.prototype.calculate=function(){var e=this._isOrdinal,r=this._dataMin,n=this._dataMax,i=this._axisDataLen,a=this._boundaryGapInner,o=e?null:n-r||Math.abs(r),s=this._modelMinRaw==="dataMin"?r:this._modelMinNum,l=this._modelMaxRaw==="dataMax"?n:this._modelMaxNum,u=s!=null,p=l!=null;s==null&&(s=e?i?0:NaN:r-a[0]*o),l==null&&(l=e?i?i-1:NaN:n+a[1]*o),(s==null||!isFinite(s))&&(s=NaN),(l==null||!isFinite(l))&&(l=NaN);var c=Ao(s)||Ao(l)||e&&!i;this._needCrossZero&&(s>0&&l>0&&!u&&(s=0),s<0&&l<0&&!p&&(l=0));var h=this._determinedMin,v=this._determinedMax;return h!=null&&(s=h,u=!0),v!=null&&(l=v,p=!0),{min:s,max:l,minFixed:u,maxFixed:p,isBlank:c}},t.prototype.modifyDataMinMax=function(e,r){this[ZD[e]]=r},t.prototype.setDeterminedMinMax=function(e,r){var n=XD[e];this[n]=r},t.prototype.freeze=function(){this.frozen=!0},t})(),XD={min:"_determinedMin",max:"_determinedMax"},ZD={min:"_dataMin",max:"_dataMax"};function QD(t,e,r){var n=t.rawExtentInfo;return n||(n=new KD(t,e,r),t.rawExtentInfo=n,n)}function Zs(t,e){return e==null?null:Ao(e)?NaN:t.parse(e)}function Lb(t,e){var r=t.type,n=QD(t,e,t.getExtent()).calculate();t.setBlank(n.isBlank);var i=n.min,a=n.max,o=e.ecModel;if(o&&r==="time"){var s=DD("bar",o),l=!1;if(z(s,function(c){l=l||c.getBaseAxis()===e.axis}),l){var u=OD(s),p=JD(i,a,e,u);i=p.min,a=p.max}}return{extent:[i,a],fixMin:n.minFixed,fixMax:n.maxFixed}}function JD(t,e,r,n){var i=r.axis.getExtent(),a=Math.abs(i[1]-i[0]),o=RD(n,r.axis);if(o===void 0)return{min:t,max:e};var s=1/0;z(o,function(v){s=Math.min(v.offset,s)});var l=-1/0;z(o,function(v){l=Math.max(v.offset+v.width,l)}),s=Math.abs(s),l=Math.abs(l);var u=s+l,p=e-t,c=1-(s+l)/a,h=p/c-p;return e+=h*(l/u),t-=h*(s/u),{min:t,max:e}}function xm(t,e){var r=e,n=Lb(t,r),i=n.extent,a=r.get("splitNumber");t instanceof Mb&&(t.base=r.get("logBase"));var o=t.type,s=r.get("interval"),l=o==="interval"||o==="time";t.setBreaksFromOption(Ab(r)),t.setExtent(i[0],i[1]),t.calcNiceExtent({splitNumber:a,fixMin:n.fixMin,fixMax:n.fixMax,minInterval:l?r.get("minInterval"):null,maxInterval:l?r.get("maxInterval"):null}),s!=null&&t.setInterval&&t.setInterval(s)}function e2(t,e){if(e=e||t.get("type"),e)switch(e){case"category":return new Sb({ordinalMeta:t.getOrdinalMeta?t.getOrdinalMeta():t.getCategories(),extent:[1/0,-1/0]});case"time":return new xb({locale:t.ecModel.getLocaleModel(),useUTC:t.ecModel.get("useUTC")});default:return new(qn.getClass(e)||La)}}function t2(t){var e=t.scale.getExtent(),r=e[0],n=e[1];return!(r>0&&n>0||r<0&&n<0)}function ts(t){var e=t.getLabelModel().get("formatter");if(t.type==="time"){var r=jL(e);return function(i,a){return t.scale.getFormattedLabel(i,a,r)}}else{if(xe(e))return function(i){var a=t.scale.getLabel(i),o=e.replace("{value}",a??"");return o};if(Ie(e)){if(t.type==="category")return function(i,a){return e(ql(t,i),i.value-t.scale.getExtent()[0],null)};var n=Hl();return function(i,a){var o=null;return n&&(o=n.makeAxisLabelFormatterParamBreak(o,i.break)),e(ql(t,i),a,o)}}else return function(i){return t.scale.getLabel(i)}}}function ql(t,e){return t.type==="category"?t.scale.getLabel(e):e.value}function Ud(t){var e=t.get("interval");return e??"auto"}function Eb(t){return t.type==="category"&&Ud(t.getLabelModel())===0}function r2(t,e){var r={};return z(t.mapDimensionsAll(e),function(n){r[mD(t,n)]=!0}),ft(r)}function Ea(t){return t==="middle"||t==="center"}function Wo(t){return t.getShallow("show")}function Ab(t){var e=t.get("breaks",!0);e==null}var n2=(function(){function t(){}return t.prototype.getNeedCrossZero=function(){var e=this.option;return!e.scale},t.prototype.getCoordSysModel=function(){},t})(),Mm=[],i2={registerPreprocessor:pb,registerProcessor:vb,registerPostInit:Wk,registerPostUpdate:jk,registerUpdateLifecycle:Hd,registerAction:Ia,registerCoordinateSystem:qk,registerLayout:$k,registerVisual:Hi,registerTransform:Kk,registerLoading:gb,registerMap:Yk,registerImpl:Tk,PRIORITY:Bk,ComponentModel:et,ComponentView:Er,SeriesModel:Un,ChartView:Kr,registerComponentModel:function(t){et.registerClass(t)},registerComponentView:function(t){Er.registerClass(t)},registerSeriesModel:function(t){Un.registerClass(t)},registerChartView:function(t){Kr.registerClass(t)},registerCustomSeries:function(t,e){},registerSubTypeDefaulter:function(t,e){et.registerSubTypeDefaulter(t,e)},registerPainter:function(t,e){OT(t,e)}};function Gn(t){if(be(t)){z(t,function(e){Gn(e)});return}Ye(Mm,t)>=0||(Mm.push(t),Ie(t)&&(t={install:t}),t.install(i2))}var a2=gt(),Lo=gt(),Ar={estimate:1,determine:2};function $l(t){return{out:{noPxChangeTryDetermine:[]},kind:t}}function kb(t,e){var r=De(e,function(n){return t.scale.parse(n)});return t.type==="time"&&r.length>0&&(r.sort(),r.unshift(r[0]),r.push(r[r.length-1])),r}function o2(t,e){var r=t.getLabelModel().get("customValues");if(r){var n=ts(t),i=t.scale.getExtent(),a=kb(t,r),o=At(a,function(s){return s>=i[0]&&s<=i[1]});return{labels:De(o,function(s){var l={value:s};return{formattedLabel:n(l),rawLabel:t.scale.getLabel(l),tickValue:s,time:void 0,break:void 0}})}}return t.type==="category"?l2(t,e):c2(t)}function s2(t,e,r){var n=t.getTickModel().get("customValues");if(n){var i=t.scale.getExtent(),a=kb(t,n);return{ticks:At(a,function(o){return o>=i[0]&&o<=i[1]})}}return t.type==="category"?u2(t,e):{ticks:De(t.scale.getTicks(r),function(o){return o.value})}}function l2(t,e){var r=t.getLabelModel(),n=Db(t,r,e);return!r.get("show")||t.scale.isBlank()?{labels:[]}:n}function Db(t,e,r){var n=h2(t),i=Ud(e),a=r.kind===Ar.estimate;if(!a){var o=Ob(n,i);if(o)return o}var s,l;Ie(i)?s=Nb(t,i):(l=i==="auto"?d2(t,r):i,s=Rb(t,l));var u={labels:s,labelCategoryInterval:l};return a?r.out.noPxChangeTryDetermine.push(function(){return yh(n,i,u),!0}):yh(n,i,u),u}function u2(t,e){var r=f2(t),n=Ud(e),i=Ob(r,n);if(i)return i;var a,o;if((!e.get("show")||t.scale.isBlank())&&(a=[]),Ie(n))a=Nb(t,n,!0);else if(n==="auto"){var s=Db(t,t.getLabelModel(),$l(Ar.determine));o=s.labelCategoryInterval,a=De(s.labels,function(l){return l.tickValue})}else o=n,a=Rb(t,o,!0);return yh(r,n,{ticks:a,tickCategoryInterval:o})}function c2(t){var e=t.scale.getTicks(),r=ts(t);return{labels:De(e,function(n,i){return{formattedLabel:r(n,i),rawLabel:t.scale.getLabel(n),tickValue:n.value,time:n.time,break:n.break}})}}var f2=Ib("axisTick"),h2=Ib("axisLabel");function Ib(t){return function(r){return Lo(r)[t]||(Lo(r)[t]={list:[]})}}function Ob(t,e){for(var r=0;r<t.list.length;r++)if(t.list[r].key===e)return t.list[r].value}function yh(t,e,r){return t.list.push({key:e,value:r}),r}function d2(t,e){if(e.kind===Ar.estimate){var r=t.calculateCategoryInterval(e);return e.out.noPxChangeTryDetermine.push(function(){return Lo(t).autoInterval=r,!0}),r}var n=Lo(t).autoInterval;return n??(Lo(t).autoInterval=t.calculateCategoryInterval(e))}function p2(t,e){var r=e.kind,n=g2(t),i=ts(t),a=(n.axisRotate-n.labelRotate)/180*Math.PI,o=t.scale,s=o.getExtent(),l=o.count();if(s[1]-s[0]<1)return 0;var u=1,p=40;l>p&&(u=Math.max(1,Math.floor(l/p)));for(var c=s[0],h=t.dataToCoord(c+1)-t.dataToCoord(c),v=Math.abs(h*Math.cos(a)),m=Math.abs(h*Math.sin(a)),_=0,y=0;c<=s[1];c+=u){var b=0,C=0,M=e0(i({value:c}),n.font,"center","top");b=M.width*1.3,C=M.height*1.3,_=Math.max(_,b,7),y=Math.max(y,C,7)}var L=_/v,T=y/m;isNaN(L)&&(L=1/0),isNaN(T)&&(T=1/0);var E=Math.max(0,Math.floor(Math.min(L,T)));if(r===Ar.estimate)return e.out.noPxChangeTryDetermine.push(it(v2,null,t,E,l)),E;var k=Pb(t,E,l);return k??E}function v2(t,e,r){return Pb(t,e,r)==null}function Pb(t,e,r){var n=a2(t.model),i=t.getExtent(),a=n.lastAutoInterval,o=n.lastTickCount;if(a!=null&&o!=null&&Math.abs(a-e)<=1&&Math.abs(o-r)<=1&&a>e&&n.axisExtent0===i[0]&&n.axisExtent1===i[1])return a;n.lastTickCount=r,n.lastAutoInterval=e,n.axisExtent0=i[0],n.axisExtent1=i[1]}function g2(t){var e=t.getLabelModel();return{axisRotate:t.getRotate?t.getRotate():t.isHorizontal&&!t.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}function Rb(t,e,r){var n=ts(t),i=t.scale,a=i.getExtent(),o=t.getLabelModel(),s=[],l=Math.max((e||0)+1,1),u=a[0],p=i.count();u!==0&&l>1&&p/l>2&&(u=Math.round(Math.ceil(u/l)*l));var c=Eb(t),h=o.get("showMinLabel")||c,v=o.get("showMaxLabel")||c;h&&u!==a[0]&&_(a[0]);for(var m=u;m<=a[1];m+=l)_(m);v&&m-l!==a[1]&&_(a[1]);function _(y){var b={value:y};s.push(r?y:{formattedLabel:n(b),rawLabel:i.getLabel(b),tickValue:y,time:void 0,break:void 0})}return s}function Nb(t,e,r){var n=t.scale,i=ts(t),a=[];return z(n.getTicks(),function(o){var s=n.getLabel(o),l=o.value;e(o.value,s)&&a.push(r?l:{formattedLabel:i(o),rawLabel:s,tickValue:l,time:void 0,break:void 0})}),a}var Lm=[0,1],m2=(function(){function t(e,r,n){this.onBand=!1,this.inverse=!1,this.dim=e,this.scale=r,this._extent=n||[0,0]}return t.prototype.contain=function(e){var r=this._extent,n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return e>=n&&e<=i},t.prototype.containData=function(e){return this.scale.contain(this.scale.parse(e))},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.getPixelPrecision=function(e){return BT(e||this.scale.getExtent(),this._extent)},t.prototype.setExtent=function(e,r){var n=this._extent;n[0]=e,n[1]=r},t.prototype.dataToCoord=function(e,r){var n=this._extent,i=this.scale;return e=i.normalize(i.parse(e)),this.onBand&&i.type==="ordinal"&&(n=n.slice(),Em(n,i.count())),gv(e,Lm,n,r)},t.prototype.coordToData=function(e,r){var n=this._extent,i=this.scale;this.onBand&&i.type==="ordinal"&&(n=n.slice(),Em(n,i.count()));var a=gv(e,n,Lm,r);return this.scale.scale(a)},t.prototype.pointToData=function(e,r){},t.prototype.getTicksCoords=function(e){e=e||{};var r=e.tickModel||this.getTickModel(),n=s2(this,r,{breakTicks:e.breakTicks,pruneByBreak:e.pruneByBreak}),i=n.ticks,a=De(i,function(s){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(s):s),tickValue:s}},this),o=r.get("alignWithLabel");return y2(this,a,o,e.clamp),a},t.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var e=this.model.getModel("minorTick"),r=e.get("splitNumber");r>0&&r<100||(r=5);var n=this.scale.getMinorTicks(r),i=De(n,function(a){return De(a,function(o){return{coord:this.dataToCoord(o),tickValue:o}},this)},this);return i},t.prototype.getViewLabels=function(e){return e=e||$l(Ar.determine),o2(this,e).labels},t.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},t.prototype.getTickModel=function(){return this.model.getModel("axisTick")},t.prototype.getBandWidth=function(){var e=this._extent,r=this.scale.getExtent(),n=r[1]-r[0]+(this.onBand?1:0);n===0&&(n=1);var i=Math.abs(e[1]-e[0]);return Math.abs(i)/n},t.prototype.calculateCategoryInterval=function(e){return e=e||$l(Ar.determine),p2(this,e)},t})();function Em(t,e){var r=t[1]-t[0],n=e,i=r/n/2;t[0]+=i,t[1]-=i}function y2(t,e,r,n){var i=e.length;if(!t.onBand||r||!i)return;var a=t.getExtent(),o,s;if(i===1)e[0].coord=a[0],e[0].onBand=!0,o=e[1]={coord:a[1],tickValue:e[0].tickValue,onBand:!0};else{var l=e[i-1].tickValue-e[0].tickValue,u=(e[i-1].coord-e[0].coord)/l;z(e,function(v){v.coord-=u/2,v.onBand=!0});var p=t.scale.getExtent();s=1+p[1]-e[i-1].tickValue,o={coord:e[i-1].coord+u*s,tickValue:p[1]+1,onBand:!0},e.push(o)}var c=a[0]>a[1];h(e[0].coord,a[0])&&(n?e[0].coord=a[0]:e.shift()),n&&h(a[0],e[0].coord)&&e.unshift({coord:a[0],onBand:!0}),h(a[1],o.coord)&&(n?o.coord=a[1]:e.pop()),n&&h(o.coord,a[1])&&e.push({coord:a[1],onBand:!0});function h(v,m){return v=Pt(v),m=Pt(m),c?v>m:v<m}}var Am=["label","labelLine","layoutOption","priority","defaultAttr","marginForce","minMarginForce","marginDefault","suggestIgnore"],_2=1,Yl=2,Bb=_2|Yl;function Kl(t,e,r){r=r||Bb,e?t.dirty|=r:t.dirty&=~r}function Hb(t,e){return e=e||Bb,t.dirty==null||!!(t.dirty&e)}function Wn(t){if(t)return Hb(t)&&b2(t,t.label,t),t}function b2(t,e,r){var n=e.getComputedTransform();t.transform=dd(t.transform,n);var i=t.localRect=No(t.localRect,e.getBoundingRect()),a=e.style,o=a.margin,s=r&&r.marginForce,l=r&&r.minMarginForce,u=r&&r.marginDefault,p=a.__marginType;p==null&&u&&(o=u,p=ga.textMargin);for(var c=0;c<4;c++)Qc[c]=p===ga.minMargin&&l&&l[c]!=null?l[c]:s&&s[c]!=null?s[c]:o?o[c]:0;p===ga.textMargin&&Nl(i,Qc,!1,!1);var h=t.rect=No(t.rect,i);return n&&h.applyTransform(n),p===ga.minMargin&&Nl(h,Qc,!1,!1),t.axisAligned=hd(n),(t.label=t.label||{}).ignore=e.ignore,Kl(t,!1),Kl(t,!0,Yl),t}var Qc=[0,0,0,0];function w2(t,e,r){return t.transform=dd(t.transform,r),t.localRect=No(t.localRect,e),t.rect=No(t.rect,e),r&&t.rect.applyTransform(r),t.axisAligned=hd(r),t.obb=void 0,(t.label=t.label||{}).ignore=!1,t}function S2(t,e){if(t){t.label.x+=e.x,t.label.y+=e.y,t.label.markRedraw();var r=t.transform;r&&(r[4]+=e.x,r[5]+=e.y);var n=t.rect;n&&(n.x+=e.x,n.y+=e.y);var i=t.obb;i&&i.fromBoundingRect(t.localRect,r)}}function km(t,e){for(var r=0;r<Am.length;r++){var n=Am[r];t[n]==null&&(t[n]=e[n])}return Wn(t)}function Dm(t){var e=t.obb;return(!e||Hb(t,Yl))&&(t.obb=e=e||new z0,e.fromBoundingRect(t.localRect,t.transform),Kl(t,!1,Yl)),e}function C2(t){var e=[];t.sort(function(u,p){return(p.suggestIgnore?1:0)-(u.suggestIgnore?1:0)||p.priority-u.priority});function r(u){if(!u.ignore){var p=u.ensureState("emphasis");p.ignore==null&&(p.ignore=!1)}u.ignore=!0}for(var n=0;n<t.length;n++){var i=Wn(t[n]);if(!i.label.ignore){for(var a=i.label,o=i.labelLine,s=!1,l=0;l<e.length;l++)if(Gd(i,e[l],null,{touchThreshold:.05})){s=!0;break}s?(r(a),o&&r(o)):e.push(i)}}}function Gd(t,e,r,n){return!t||!e||t.label&&t.label.ignore||e.label&&e.label.ignore||!t.rect.intersect(e.rect,r,n)?!1:t.axisAligned&&e.axisAligned?!0:Dm(t).intersect(Dm(e),r,n)}function Im(t,e,r){var n=hn.createCanvas(),i=e.getWidth(),a=e.getHeight(),o=n.style;return o&&(o.position="absolute",o.left="0",o.top="0",o.width=i+"px",o.height=a+"px",n.setAttribute("data-zr-dom-id",t)),n.width=i*r,n.height=a*r,n}var Jc=(function(t){_e(e,t);function e(r,n,i){var a=t.call(this)||this;a.motionBlur=!1,a.lastFrameAlpha=.7,a.dpr=1,a.virtual=!1,a.config={},a.incremental=!1,a.zlevel=0,a.maxRepaintRectCount=5,a.__dirty=!0,a.__firstTimePaint=!0,a.__used=!1,a.__drawIndex=0,a.__startIndex=0,a.__endIndex=0,a.__prevStartIndex=null,a.__prevEndIndex=null;var o;i=i||Ll,typeof r=="string"?o=Im(r,n,i):Ae(r)&&(o=r,r=o.id),a.id=r,a.dom=o;var s=o.style;return s&&(Py(o),o.onselectstart=function(){return!1},s.padding="0",s.margin="0",s.borderWidth="0"),a.painter=n,a.dpr=i,a}return e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},e.prototype.setUnpainted=function(){this.__firstTimePaint=!0},e.prototype.createBackBuffer=function(){var r=this.dpr;this.domBack=Im("back-"+this.id,this.painter,r),this.ctxBack=this.domBack.getContext("2d"),r!==1&&this.ctxBack.scale(r,r)},e.prototype.createRepaintRects=function(r,n,i,a){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var o=[],s=this.maxRepaintRectCount,l=!1,u=new Be(0,0,0,0);function p(C){if(!(!C.isFinite()||C.isZero()))if(o.length===0){var M=new Be(0,0,0,0);M.copy(C),o.push(M)}else{for(var L=!1,T=1/0,E=0,k=0;k<o.length;++k){var P=o[k];if(P.intersect(C)){var D=new Be(0,0,0,0);D.copy(P),D.union(C),o[k]=D,L=!0;break}else if(l){u.copy(C),u.union(P);var N=C.width*C.height,B=P.width*P.height,U=u.width*u.height,F=U-N-B;F<T&&(T=F,E=k)}}if(l&&(o[E].union(C),L=!0),!L){var M=new Be(0,0,0,0);M.copy(C),o.push(M)}l||(l=o.length>=s)}}for(var c=this.__startIndex;c<this.__endIndex;++c){var h=r[c];if(h){var v=h.shouldBePainted(i,a,!0,!0),m=h.__isRendered&&(h.__dirty&ir||!v)?h.getPrevPaintRect():null;m&&p(m);var _=v&&(h.__dirty&ir||!h.__isRendered)?h.getPaintRect():null;_&&p(_)}}for(var c=this.__prevStartIndex;c<this.__prevEndIndex;++c){var h=n[c],v=h&&h.shouldBePainted(i,a,!0,!0);if(h&&(!v||!h.__zr)&&h.__isRendered){var m=h.getPrevPaintRect();m&&p(m)}}var y;do{y=!1;for(var c=0;c<o.length;){if(o[c].isZero()){o.splice(c,1);continue}for(var b=c+1;b<o.length;)o[c].intersect(o[b])?(y=!0,o[c].union(o[b]),o.splice(b,1)):b++;c++}}while(y);return this._paintRects=o,o},e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},e.prototype.resize=function(r,n){var i=this.dpr,a=this.dom,o=a.style,s=this.domBack;o&&(o.width=r+"px",o.height=n+"px"),a.width=r*i,a.height=n*i,s&&(s.width=r*i,s.height=n*i,i!==1&&this.ctxBack.scale(i,i))},e.prototype.clear=function(r,n,i){var a=this.dom,o=this.ctx,s=a.width,l=a.height;n=n||this.clearColor;var u=this.motionBlur&&!r,p=this.lastFrameAlpha,c=this.dpr,h=this;u&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(a,0,0,s/c,l/c));var v=this.domBack;function m(_,y,b,C){if(o.clearRect(_,y,b,C),n&&n!=="transparent"){var M=void 0;if(tu(n)){var L=n.global||n.__width===b&&n.__height===C;M=L&&n.__canvasGradient||oh(o,n,{x:0,y:0,width:b,height:C}),n.__canvasGradient=M,n.__width=b,n.__height=C}else cC(n)&&(n.scaleX=n.scaleX||c,n.scaleY=n.scaleY||c,M=sh(o,n,{dirty:function(){h.setUnpainted(),h.painter.refresh()}}));o.save(),o.fillStyle=M||n,o.fillRect(_,y,b,C),o.restore()}u&&(o.save(),o.globalAlpha=p,o.drawImage(v,_,y,b,C),o.restore())}!i||u?m(0,0,s,l):i.length&&z(i,function(_){m(_.x*c,_.y*c,_.width*c,_.height*c)})},e})(Qr),Om=1e5,yi=314159,Qs=.01,T2=.001;function x2(t){return t?t.__builtin__?!0:!(typeof t.resize!="function"||typeof t.refresh!="function"):!1}function M2(t,e){var r=document.createElement("div");return r.style.cssText=["position:relative","width:"+t+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",r}var L2=(function(){function t(e,r,n,i){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var a=!e.nodeName||e.nodeName.toUpperCase()==="CANVAS";this._opts=n=pe({},n||{}),this.dpr=n.devicePixelRatio||Ll,this._singleCanvas=a,this.root=e;var o=e.style;o&&(Py(e),e.innerHTML=""),this.storage=r;var s=this._zlevelList;this._prevDisplayList=[];var l=this._layers;if(a){var p=e,c=p.width,h=p.height;n.width!=null&&(c=n.width),n.height!=null&&(h=n.height),this.dpr=n.devicePixelRatio||1,p.width=c*this.dpr,p.height=h*this.dpr,this._width=c,this._height=h;var v=new Jc(p,this,this.dpr);v.__builtin__=!0,v.initContext(),l[yi]=v,v.zlevel=yi,s.push(yi),this._domRoot=e}else{this._width=Us(e,0,n),this._height=Us(e,1,n);var u=this._domRoot=M2(this._width,this._height);e.appendChild(u)}}return t.prototype.getType=function(){return"canvas"},t.prototype.isSingleCanvas=function(){return this._singleCanvas},t.prototype.getViewportRoot=function(){return this._domRoot},t.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},t.prototype.refresh=function(e){var r=this.storage.getDisplayList(!0),n=this._prevDisplayList,i=this._zlevelList;this._redrawId=Math.random(),this._paintList(r,n,e,this._redrawId);for(var a=0;a<i.length;a++){var o=i[a],s=this._layers[o];if(!s.__builtin__&&s.refresh){var l=a===0?this._backgroundColor:null;s.refresh(l)}}return this._opts.useDirtyRect&&(this._prevDisplayList=r.slice()),this},t.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},t.prototype._paintHoverList=function(e){var r=e.length,n=this._hoverlayer;if(n&&n.clear(),!!r){for(var i={inHover:!0,viewWidth:this._width,viewHeight:this._height},a,o=0;o<r;o++){var s=e[o];s.__inHover&&(n||(n=this._hoverlayer=this.getLayer(Om)),a||(a=n.ctx,a.save()),Ti(a,s,i,o===r-1))}a&&a.restore()}},t.prototype.getHoverLayer=function(){return this.getLayer(Om)},t.prototype.paintOne=function(e,r){Z_(e,r)},t.prototype._paintList=function(e,r,n,i){if(this._redrawId===i){n=n||!1,this._updateLayerStatus(e);var a=this._doPaintList(e,r,n),o=a.finished,s=a.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),s&&this._paintHoverList(e),o)this.eachLayer(function(u){u.afterBrush&&u.afterBrush()});else{var l=this;wl(function(){l._paintList(e,r,n,i)})}}},t.prototype._compositeManually=function(){var e=this.getLayer(yi).ctx,r=this._domRoot.width,n=this._domRoot.height;e.clearRect(0,0,r,n),this.eachBuiltinLayer(function(i){i.virtual&&e.drawImage(i.dom,0,0,r,n)})},t.prototype._doPaintList=function(e,r,n){for(var i=this,a=[],o=this._opts.useDirtyRect,s=0;s<this._zlevelList.length;s++){var l=this._zlevelList[s],u=this._layers[l];u.__builtin__&&u!==this._hoverlayer&&(u.__dirty||n)&&a.push(u)}for(var p=!0,c=!1,h=function(_){var y=a[_],b=y.ctx,C=o&&y.createRepaintRects(e,r,v._width,v._height),M=n?y.__startIndex:y.__drawIndex,L=!n&&y.incremental&&Date.now,T=L&&Date.now(),E=y.zlevel===v._zlevelList[0]?v._backgroundColor:null;if(y.__startIndex===y.__endIndex)y.clear(!1,E,C);else if(M===y.__startIndex){var k=e[M];(!k.incremental||!k.notClear||n)&&y.clear(!1,E,C)}M===-1&&(console.error("For some unknown reason. drawIndex is -1"),M=y.__startIndex);var P,D=function(F){var G={inHover:!1,allClipped:!1,prevEl:null,viewWidth:i._width,viewHeight:i._height};for(P=M;P<y.__endIndex;P++){var Y=e[P];if(Y.__inHover&&(c=!0),i._doPaintEl(Y,y,o,F,G,P===y.__endIndex-1),L){var K=Date.now()-T;if(K>15)break}}G.prevElClipPaths&&b.restore()};if(C)if(C.length===0)P=y.__endIndex;else for(var N=v.dpr,B=0;B<C.length;++B){var U=C[B];b.save(),b.beginPath(),b.rect(U.x*N,U.y*N,U.width*N,U.height*N),b.clip(),D(U),b.restore()}else b.save(),D(),b.restore();y.__drawIndex=P,y.__drawIndex<y.__endIndex&&(p=!1)},v=this,m=0;m<a.length;m++)h(m);return Pe.wxa&&z(this._layers,function(_){_&&_.ctx&&_.ctx.draw&&_.ctx.draw()}),{finished:p,needsRefreshHover:c}},t.prototype._doPaintEl=function(e,r,n,i,a,o){var s=r.ctx;if(n){var l=e.getPaintRect();(!i||l&&l.intersect(i))&&(Ti(s,e,a,o),e.setPrevPaintRect(l))}else Ti(s,e,a,o)},t.prototype.getLayer=function(e,r){this._singleCanvas&&!this._needsManuallyCompositing&&(e=yi);var n=this._layers[e];return n||(n=new Jc("zr_"+e,this,this.dpr),n.zlevel=e,n.__builtin__=!0,this._layerConfig[e]?Ze(n,this._layerConfig[e],!0):this._layerConfig[e-Qs]&&Ze(n,this._layerConfig[e-Qs],!0),r&&(n.virtual=r),this.insertLayer(e,n),n.initContext()),n},t.prototype.insertLayer=function(e,r){var n=this._layers,i=this._zlevelList,a=i.length,o=this._domRoot,s=null,l=-1;if(!n[e]&&x2(r)){if(a>0&&e>i[0]){for(l=0;l<a-1&&!(i[l]<e&&i[l+1]>e);l++);s=n[i[l]]}if(i.splice(l+1,0,e),n[e]=r,!r.virtual)if(s){var u=s.dom;u.nextSibling?o.insertBefore(r.dom,u.nextSibling):o.appendChild(r.dom)}else o.firstChild?o.insertBefore(r.dom,o.firstChild):o.appendChild(r.dom);r.painter||(r.painter=this)}},t.prototype.eachLayer=function(e,r){for(var n=this._zlevelList,i=0;i<n.length;i++){var a=n[i];e.call(r,this._layers[a],a)}},t.prototype.eachBuiltinLayer=function(e,r){for(var n=this._zlevelList,i=0;i<n.length;i++){var a=n[i],o=this._layers[a];o.__builtin__&&e.call(r,o,a)}},t.prototype.eachOtherLayer=function(e,r){for(var n=this._zlevelList,i=0;i<n.length;i++){var a=n[i],o=this._layers[a];o.__builtin__||e.call(r,o,a)}},t.prototype.getLayers=function(){return this._layers},t.prototype._updateLayerStatus=function(e){this.eachBuiltinLayer(function(c,h){c.__dirty=c.__used=!1});function r(c){a&&(a.__endIndex!==c&&(a.__dirty=!0),a.__endIndex=c)}if(this._singleCanvas)for(var n=1;n<e.length;n++){var i=e[n];if(i.zlevel!==e[n-1].zlevel||i.incremental){this._needsManuallyCompositing=!0;break}}var a=null,o=0,s,l;for(l=0;l<e.length;l++){var i=e[l],u=i.zlevel,p=void 0;s!==u&&(s=u,o=0),i.incremental?(p=this.getLayer(u+T2,this._needsManuallyCompositing),p.incremental=!0,o=1):p=this.getLayer(u+(o>0?Qs:0),this._needsManuallyCompositing),p.__builtin__||Hh("ZLevel "+u+" has been used by unkown layer "+p.id),p!==a&&(p.__used=!0,p.__startIndex!==l&&(p.__dirty=!0),p.__startIndex=l,p.incremental?p.__drawIndex=-1:p.__drawIndex=l,r(l),a=p),i.__dirty&ir&&!i.__inHover&&(p.__dirty=!0,p.incremental&&p.__drawIndex<0&&(p.__drawIndex=l))}r(l),this.eachBuiltinLayer(function(c,h){!c.__used&&c.getElementCount()>0&&(c.__dirty=!0,c.__startIndex=c.__endIndex=c.__drawIndex=0),c.__dirty&&c.__drawIndex<0&&(c.__drawIndex=c.__startIndex)})},t.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},t.prototype._clearLayer=function(e){e.clear()},t.prototype.setBackgroundColor=function(e){this._backgroundColor=e,z(this._layers,function(r){r.setUnpainted()})},t.prototype.configLayer=function(e,r){if(r){var n=this._layerConfig;n[e]?Ze(n[e],r,!0):n[e]=r;for(var i=0;i<this._zlevelList.length;i++){var a=this._zlevelList[i];if(a===e||a===e+Qs){var o=this._layers[a];Ze(o,n[e],!0)}}}},t.prototype.delLayer=function(e){var r=this._layers,n=this._zlevelList,i=r[e];i&&(i.dom.parentNode.removeChild(i.dom),delete r[e],n.splice(Ye(n,e),1))},t.prototype.resize=function(e,r){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var i=this._opts,a=this.root;if(e!=null&&(i.width=e),r!=null&&(i.height=r),e=Us(a,0,i),r=Us(a,1,i),n.style.display="",this._width!==e||r!==this._height){n.style.width=e+"px",n.style.height=r+"px";for(var o in this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(e,r);this.refresh(!0)}this._width=e,this._height=r}else{if(e==null||r==null)return;this._width=e,this._height=r,this.getLayer(yi).resize(e,r)}return this},t.prototype.clearLayer=function(e){var r=this._layers[e];r&&r.clear()},t.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},t.prototype.getRenderedCanvas=function(e){if(e=e||{},this._singleCanvas&&!this._compositeManually)return this._layers[yi].dom;var r=new Jc("image",this,e.pixelRatio||this.dpr);r.initContext(),r.clear(!1,e.backgroundColor||this._backgroundColor);var n=r.ctx;if(e.pixelRatio<=this.dpr){this.refresh();var i=r.dom.width,a=r.dom.height;this.eachLayer(function(c){c.__builtin__?n.drawImage(c.dom,0,0,i,a):c.renderToCanvas&&(n.save(),c.renderToCanvas(n),n.restore())})}else for(var o={inHover:!1,viewWidth:this._width,viewHeight:this._height},s=this.storage.getDisplayList(!0),l=0,u=s.length;l<u;l++){var p=s[l];Ti(n,p,o,l===u-1)}return r.dom},t.prototype.getWidth=function(){return this._width},t.prototype.getHeight=function(){return this._height},t})();function E2(t){t.registerPainter("canvas",L2)}var A2=(function(t){_e(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.hasSymbolVisual=!0,r}return e.prototype.getInitialData=function(r){return bD(null,this,{useEncodeDefaulter:!0})},e.prototype.getLegendIcon=function(r){var n=new Rt,i=Ma("line",0,r.itemHeight/2,r.itemWidth,0,r.lineStyle.stroke,!1);n.add(i),i.setStyle(r.lineStyle);var a=this.getData().getVisual("symbol"),o=this.getData().getVisual("symbolRotate"),s=a==="none"?"circle":a,l=r.itemHeight*.8,u=Ma(s,(r.itemWidth-l)/2,(r.itemHeight-l)/2,l,l,r.itemStyle.fill);n.add(u),u.setStyle(r.itemStyle);var p=r.iconRotate==="inherit"?o:r.iconRotate||0;return u.rotation=p*Math.PI/180,u.setOrigin([r.itemWidth/2,r.itemHeight/2]),s.indexOf("empty")>-1&&(u.style.stroke=u.style.fill,u.style.fill=Le.color.neutral00,u.style.lineWidth=2),n},e.type="series.line",e.dependencies=["grid","polar"],e.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:6,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},e})(Un);function Fb(t,e){var r=t.mapDimensionsAll("defaultedLabel"),n=r.length;if(n===1){var i=xa(t,e,r[0]);return i!=null?i+"":null}else if(n){for(var a=[],o=0;o<r.length;o++)a.push(xa(t,e,r[o]));return a.join(" ")}}function k2(t,e){var r=t.mapDimensionsAll("defaultedLabel");if(!be(e))return e+"";for(var n=[],i=0;i<r.length;i++){var a=t.getDimensionIndex(r[i]);a>=0&&n.push(e[a])}return n.join(" ")}var Wd=(function(t){_e(e,t);function e(r,n,i,a){var o=t.call(this)||this;return o.updateData(r,n,i,a),o}return e.prototype._createSymbol=function(r,n,i,a,o,s){this.removeAll();var l=Ma(r,-1,-1,2,2,null,s);l.attr({z2:ke(o,100),culling:!0,scaleX:a[0]/2,scaleY:a[1]/2}),l.drift=D2,this._symbolType=r,this.add(l)},e.prototype.stopSymbolAnimation=function(r){this.childAt(0).stopAnimation(null,r)},e.prototype.getSymbolType=function(){return this._symbolType},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){Ol(this.childAt(0))},e.prototype.downplay=function(){Pl(this.childAt(0))},e.prototype.setZ=function(r,n){var i=this.childAt(0);i.zlevel=r,i.z=n},e.prototype.setDraggable=function(r,n){var i=this.childAt(0);i.draggable=r,i.cursor=!n&&r?"move":i.cursor},e.prototype.updateData=function(r,n,i,a){this.silent=!1;var o=r.getItemVisual(n,"symbol")||"circle",s=r.hostModel,l=e.getSymbolSize(r,n),u=e.getSymbolZ2(r,n),p=o!==this._symbolType,c=a&&a.disableAnimation;if(p){var h=r.getItemVisual(n,"symbolKeepAspect");this._createSymbol(o,r,n,l,u,h)}else{var v=this.childAt(0);v.silent=!1;var m={scaleX:l[0]/2,scaleY:l[1]/2};c?v.attr(m):Fn(v,m,s,n),aL(v)}if(this._updateCommon(r,n,l,i,a),p){var v=this.childAt(0);if(!c){var m={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:v.style.opacity}};v.scaleX=v.scaleY=0,v.style.opacity=0,Jo(v,m,s,n)}}c&&this.childAt(0).stopAnimation("leave")},e.prototype._updateCommon=function(r,n,i,a,o){var s=this.childAt(0),l=r.hostModel,u,p,c,h,v,m,_,y,b;if(a&&(u=a.emphasisItemStyle,p=a.blurItemStyle,c=a.selectItemStyle,h=a.focus,v=a.blurScope,_=a.labelStatesModels,y=a.hoverScale,b=a.cursorStyle,m=a.emphasisDisabled),!a||r.hasItemOption){var C=a&&a.itemModel?a.itemModel:r.getItemModel(n),M=C.getModel("emphasis");u=M.getModel("itemStyle").getItemStyle(),c=C.getModel(["select","itemStyle"]).getItemStyle(),p=C.getModel(["blur","itemStyle"]).getItemStyle(),h=M.get("focus"),v=M.get("blurScope"),m=M.get("disabled"),_=vd(C),y=M.getShallow("scale"),b=C.getShallow("cursor")}var L=r.getItemVisual(n,"symbolRotate");s.attr("rotation",(L||0)*Math.PI/180||0);var T=$_(r.getItemVisual(n,"symbolOffset"),i);T&&(s.x=T[0],s.y=T[1]),b&&s.attr("cursor",b);var E=r.getItemVisual(n,"style"),k=E.fill;if(s instanceof jn){var P=s.style;s.useStyle(pe({image:P.image,x:P.x,y:P.y,width:P.width,height:P.height},E))}else s.__isEmptyBrush?s.useStyle(pe({},E)):s.useStyle(E),s.style.decal=null,s.setColor(k,o&&o.symbolInnerColor),s.style.strokeNoScale=!0;var D=r.getItemVisual(n,"liftZ"),N=this._z2;D!=null?N==null&&(this._z2=s.z2,s.z2+=D):N!=null&&(s.z2=N,this._z2=null);var B=o&&o.useNameLabel;pd(s,_,{labelFetcher:l,labelDataIndex:n,defaultText:U,inheritColor:k,defaultOpacity:E.opacity});function U(Y){return B?r.getName(Y):Fb(r,Y)}this._sizeX=i[0]/2,this._sizeY=i[1]/2;var F=s.ensureState("emphasis");F.style=u,s.ensureState("select").style=c,s.ensureState("blur").style=p;var G=y==null||y===!0?Math.max(1.1,3/this._sizeY):isFinite(y)&&y>0?+y:1;F.scaleX=this._sizeX*G,F.scaleY=this._sizeY*G,this.setSymbolScale(1),Wf(this,h,v,m)},e.prototype.setSymbolScale=function(r){this.scaleX=this.scaleY=r},e.prototype.fadeOut=function(r,n,i){var a=this.childAt(0),o=Xe(this).dataIndex,s=i&&i.animation;if(this.silent=a.silent=!0,i&&i.fadeLabel){var l=a.getTextContent();l&&Rl(l,{style:{opacity:0}},n,{dataIndex:o,removeOpt:s,cb:function(){a.removeTextContent()}})}else a.removeTextContent();Rl(a,{style:{opacity:0},scaleX:0,scaleY:0},n,{dataIndex:o,cb:r,removeOpt:s})},e.getSymbolSize=function(r,n){return sk(r.getItemVisual(n,"symbolSize"))},e.getSymbolZ2=function(r,n){return r.getItemVisual(n,"z2")},e})(Rt);function D2(t,e){this.parent.drift(t,e)}function ef(t,e,r,n){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(n.isIgnore&&n.isIgnore(r))&&!(n.clipShape&&!n.clipShape.contain(e[0],e[1]))&&t.getItemVisual(r,"symbol")!=="none"}function Pm(t){return t!=null&&!Ae(t)&&(t={isIgnore:t}),t||{}}function Rm(t){var e=t.hostModel,r=e.getModel("emphasis");return{emphasisItemStyle:r.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:r.get("focus"),blurScope:r.get("blurScope"),emphasisDisabled:r.get("disabled"),hoverScale:r.get("scale"),labelStatesModels:vd(e),cursorStyle:e.get("cursor")}}var I2=(function(){function t(e){this.group=new Rt,this._SymbolCtor=e||Wd}return t.prototype.updateData=function(e,r){this._progressiveEls=null,r=Pm(r);var n=this.group,i=e.hostModel,a=this._data,o=this._SymbolCtor,s=r.disableAnimation,l=Rm(e),u={disableAnimation:s},p=r.getSymbolPoint||function(c){return e.getItemLayout(c)};a||n.removeAll(),e.diff(a).add(function(c){var h=p(c);if(ef(e,h,c,r)){var v=new o(e,c,l,u);v.setPosition(h),e.setItemGraphicEl(c,v),n.add(v)}}).update(function(c,h){var v=a.getItemGraphicEl(h),m=p(c);if(!ef(e,m,c,r)){n.remove(v);return}var _=e.getItemVisual(c,"symbol")||"circle",y=v&&v.getSymbolType&&v.getSymbolType();if(!v||y&&y!==_)n.remove(v),v=new o(e,c,l,u),v.setPosition(m);else{v.updateData(e,c,l,u);var b={x:m[0],y:m[1]};s?v.attr(b):Fn(v,b,i)}n.add(v),e.setItemGraphicEl(c,v)}).remove(function(c){var h=a.getItemGraphicEl(c);h&&h.fadeOut(function(){n.remove(h)},i)}).execute(),this._getSymbolPoint=p,this._data=e},t.prototype.updateLayout=function(){var e=this,r=this._data;r&&r.eachItemGraphicEl(function(n,i){var a=e._getSymbolPoint(i);n.setPosition(a),n.markRedraw()})},t.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=Rm(e),this._data=null,this.group.removeAll()},t.prototype.incrementalUpdate=function(e,r,n){this._progressiveEls=[],n=Pm(n);function i(l){l.isGroup||(l.incremental=!0,l.ensureState("emphasis").hoverLayer=!0)}for(var a=e.start;a<e.end;a++){var o=r.getItemLayout(a);if(ef(r,o,a,n)){var s=new this._SymbolCtor(r,a,this._seriesScope);s.traverse(i),s.setPosition(o),this.group.add(s),r.setItemGraphicEl(a,s),this._progressiveEls.push(s)}}},t.prototype.eachRendered=function(e){fd(this._progressiveEls||this.group,e)},t.prototype.remove=function(e){var r=this.group,n=this._data;n&&e?n.eachItemGraphicEl(function(i){i.fadeOut(function(){r.remove(i)},n.hostModel)}):r.removeAll()},t})();function Vb(t,e,r){var n=t.getBaseAxis(),i=t.getOtherAxis(n),a=O2(i,r),o=n.dim,s=i.dim,l=e.mapDimension(s),u=e.mapDimension(o),p=s==="x"||s==="radius"?1:0,c=De(t.dimensions,function(m){return e.mapDimension(m)}),h=!1,v=e.getCalculationInfo("stackResultDimension");return Uo(e,c[0])&&(h=!0,c[0]=v),Uo(e,c[1])&&(h=!0,c[1]=v),{dataDimsForPoint:c,valueStart:a,valueAxisDim:s,baseAxisDim:o,stacked:!!h,valueDim:l,baseDim:u,baseDataOffset:p,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function O2(t,e){var r=0,n=t.scale.getExtent();return e==="start"?r=n[0]:e==="end"?r=n[1]:ct(e)&&!isNaN(e)?r=e:n[0]>0?r=n[0]:n[1]<0&&(r=n[1]),r}function zb(t,e,r,n){var i=NaN;t.stacked&&(i=r.get(r.getCalculationInfo("stackedOverDimension"),n)),isNaN(i)&&(i=t.valueStart);var a=t.baseDataOffset,o=[];return o[a]=r.get(t.baseDim,n),o[1-a]=i,e.dataToPoint(o)}function P2(t,e){var r=[];return e.diff(t).add(function(n){r.push({cmd:"+",idx:n})}).update(function(n,i){r.push({cmd:"=",idx:i,idx1:n})}).remove(function(n){r.push({cmd:"-",idx:n})}).execute(),r}function R2(t,e,r,n,i,a,o,s){for(var l=P2(t,e),u=[],p=[],c=[],h=[],v=[],m=[],_=[],y=Vb(i,e,o),b=t.getLayout("points")||[],C=e.getLayout("points")||[],M=0;M<l.length;M++){var L=l[M],T=!0,E=void 0,k=void 0;switch(L.cmd){case"=":E=L.idx*2,k=L.idx1*2;var P=b[E],D=b[E+1],N=C[k],B=C[k+1];(isNaN(P)||isNaN(D))&&(P=N,D=B),u.push(P,D),p.push(N,B),c.push(r[E],r[E+1]),h.push(n[k],n[k+1]),_.push(e.getRawIndex(L.idx1));break;case"+":var U=L.idx,F=y.dataDimsForPoint,G=i.dataToPoint([e.get(F[0],U),e.get(F[1],U)]);k=U*2,u.push(G[0],G[1]),p.push(C[k],C[k+1]);var Y=zb(y,i,e,U);c.push(Y[0],Y[1]),h.push(n[k],n[k+1]),_.push(e.getRawIndex(U));break;case"-":T=!1}T&&(v.push(L),m.push(m.length))}m.sort(function(qe,Qe){return _[qe]-_[Qe]});for(var K=u.length,ne=ma(K),te=ma(K),ae=ma(K),le=ma(K),he=[],M=0;M<m.length;M++){var V=m[M],Ce=M*2,Re=V*2;ne[Ce]=u[Re],ne[Ce+1]=u[Re+1],te[Ce]=p[Re],te[Ce+1]=p[Re+1],ae[Ce]=c[Re],ae[Ce+1]=c[Re+1],le[Ce]=h[Re],le[Ce+1]=h[Re+1],he[M]=v[V]}return{current:ne,next:te,stackedOnCurrent:ae,stackedOnNext:le,status:he}}var Tn=Math.min,xn=Math.max;function ki(t,e){return isNaN(t)||isNaN(e)}function _h(t,e,r,n,i,a,o,s,l){for(var u,p,c,h,v,m,_=r,y=0;y<n;y++){var b=e[_*2],C=e[_*2+1];if(_>=i||_<0)break;if(ki(b,C)){if(l){_+=a;continue}break}if(_===r)t[a>0?"moveTo":"lineTo"](b,C),c=b,h=C;else{var M=b-u,L=C-p;if(M*M+L*L<.5){_+=a;continue}if(o>0){for(var T=_+a,E=e[T*2],k=e[T*2+1];E===b&&k===C&&y<n;)y++,T+=a,_+=a,E=e[T*2],k=e[T*2+1],b=e[_*2],C=e[_*2+1],M=b-u,L=C-p;var P=y+1;if(l)for(;ki(E,k)&&P<n;)P++,T+=a,E=e[T*2],k=e[T*2+1];var D=.5,N=0,B=0,U=void 0,F=void 0;if(P>=n||ki(E,k))v=b,m=C;else{N=E-u,B=k-p;var G=b-u,Y=E-b,K=C-p,ne=k-C,te=void 0,ae=void 0;if(s==="x"){te=Math.abs(G),ae=Math.abs(Y);var le=N>0?1:-1;v=b-le*te*o,m=C,U=b+le*ae*o,F=C}else if(s==="y"){te=Math.abs(K),ae=Math.abs(ne);var he=B>0?1:-1;v=b,m=C-he*te*o,U=b,F=C+he*ae*o}else te=Math.sqrt(G*G+K*K),ae=Math.sqrt(Y*Y+ne*ne),D=ae/(ae+te),v=b-N*o*(1-D),m=C-B*o*(1-D),U=b+N*o*D,F=C+B*o*D,U=Tn(U,xn(E,b)),F=Tn(F,xn(k,C)),U=xn(U,Tn(E,b)),F=xn(F,Tn(k,C)),N=U-b,B=F-C,v=b-N*te/ae,m=C-B*te/ae,v=Tn(v,xn(u,b)),m=Tn(m,xn(p,C)),v=xn(v,Tn(u,b)),m=xn(m,Tn(p,C)),N=b-v,B=C-m,U=b+N*ae/te,F=C+B*ae/te}t.bezierCurveTo(c,h,v,m,b,C),c=U,h=F}else t.lineTo(b,C)}u=b,p=C,_+=a}return y}var Ub=(function(){function t(){this.smooth=0,this.smoothConstraint=!0}return t})(),N2=(function(t){_e(e,t);function e(r){var n=t.call(this,r)||this;return n.type="ec-polyline",n}return e.prototype.getDefaultStyle=function(){return{stroke:Le.color.neutral99,fill:null}},e.prototype.getDefaultShape=function(){return new Ub},e.prototype.buildPath=function(r,n){var i=n.points,a=0,o=i.length/2;if(n.connectNulls){for(;o>0&&ki(i[o*2-2],i[o*2-1]);o--);for(;a<o&&ki(i[a*2],i[a*2+1]);a++);}for(;a<o;)a+=_h(r,i,a,o,o,1,n.smooth,n.smoothMonotone,n.connectNulls)+1},e.prototype.getPointOn=function(r,n){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var i=this.path,a=i.data,o=Oi.CMD,s,l,u=n==="x",p=[],c=0;c<a.length;){var h=a[c++],v=void 0,m=void 0,_=void 0,y=void 0,b=void 0,C=void 0,M=void 0;switch(h){case o.M:s=a[c++],l=a[c++];break;case o.L:if(v=a[c++],m=a[c++],M=u?(r-s)/(v-s):(r-l)/(m-l),M<=1&&M>=0){var L=u?(m-l)*M+l:(v-s)*M+s;return u?[r,L]:[L,r]}s=v,l=m;break;case o.C:v=a[c++],m=a[c++],_=a[c++],y=a[c++],b=a[c++],C=a[c++];var T=u?Cl(s,v,_,b,r,p):Cl(l,m,y,C,r,p);if(T>0)for(var E=0;E<T;E++){var k=p[E];if(k<=1&&k>=0){var L=u?Ot(l,m,y,C,k):Ot(s,v,_,b,k);return u?[r,L]:[L,r]}}s=b,l=C;break}}},e})(at),B2=(function(t){_e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(Ub),H2=(function(t){_e(e,t);function e(r){var n=t.call(this,r)||this;return n.type="ec-polygon",n}return e.prototype.getDefaultShape=function(){return new B2},e.prototype.buildPath=function(r,n){var i=n.points,a=n.stackedOnPoints,o=0,s=i.length/2,l=n.smoothMonotone;if(n.connectNulls){for(;s>0&&ki(i[s*2-2],i[s*2-1]);s--);for(;o<s&&ki(i[o*2],i[o*2+1]);o++);}for(;o<s;){var u=_h(r,i,o,s,s,1,n.smooth,l,n.connectNulls);_h(r,a,o+u-1,u,s,-1,n.stackedOnSmooth,l,n.connectNulls),o+=u+1,r.closePath()}},e})(at);function F2(t,e,r,n,i){var a=t.getArea(),o=a.x,s=a.y,l=a.width,u=a.height,p=r.get(["lineStyle","width"])||0;o-=p/2,s-=p/2,l+=p,u+=p,l=Math.ceil(l),o!==Math.floor(o)&&(o=Math.floor(o),l++);var c=new St({shape:{x:o,y:s,width:l,height:u}});if(e){var h=t.getBaseAxis(),v=h.isHorizontal(),m=h.inverse;v?(m&&(c.shape.x+=l),c.shape.width=0):(m||(c.shape.y+=u),c.shape.height=0);var _=Ie(i)?function(y){i(y,c)}:null;Jo(c,{shape:{width:l,height:u,x:o,y:s}},r,null,n,_)}return c}function V2(t,e,r){var n=t.getArea(),i=Pt(n.r0,1),a=Pt(n.r,1),o=new hu({shape:{cx:Pt(t.cx,1),cy:Pt(t.cy,1),r0:i,r:a,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}});if(e){var s=t.getBaseAxis().dim==="angle";s?o.shape.endAngle=n.startAngle:o.shape.r=i,Jo(o,{shape:{endAngle:n.endAngle,r:a}},r)}return o}function z2(t,e){return t.type===e}function Nm(t,e){if(t.length===e.length){for(var r=0;r<t.length;r++)if(t[r]!==e[r])return;return!0}}function Bm(t){for(var e=1/0,r=1/0,n=-1/0,i=-1/0,a=0;a<t.length;){var o=t[a++],s=t[a++];isNaN(o)||(e=Math.min(o,e),n=Math.max(o,n)),isNaN(s)||(r=Math.min(s,r),i=Math.max(s,i))}return[[e,r],[n,i]]}function Hm(t,e){var r=Bm(t),n=r[0],i=r[1],a=Bm(e),o=a[0],s=a[1];return Math.max(Math.abs(n[0]-o[0]),Math.abs(n[1]-o[1]),Math.abs(i[0]-s[0]),Math.abs(i[1]-s[1]))}function Fm(t){return ct(t)?t:t?.5:0}function U2(t,e,r){if(!r.valueDim)return[];for(var n=e.count(),i=ma(n*2),a=0;a<n;a++){var o=zb(r,t,e,a);i[a*2]=o[0],i[a*2+1]=o[1]}return i}function Mn(t,e,r,n,i){var a=r.getBaseAxis(),o=a.dim==="x"||a.dim==="radius"?0:1,s=[],l=0,u=[],p=[],c=[],h=[];if(i){for(l=0;l<t.length;l+=2){var v=e||t;!isNaN(v[l])&&!isNaN(v[l+1])&&h.push(t[l],t[l+1])}t=h}for(l=0;l<t.length-2;l+=2)switch(c[0]=t[l+2],c[1]=t[l+3],p[0]=t[l],p[1]=t[l+1],s.push(p[0],p[1]),n){case"end":u[o]=c[o],u[1-o]=p[1-o],s.push(u[0],u[1]);break;case"middle":var m=(p[o]+c[o])/2,_=[];u[o]=_[o]=m,u[1-o]=p[1-o],_[1-o]=c[1-o],s.push(u[0],u[1]),s.push(_[0],_[1]);break;default:u[o]=p[o],u[1-o]=c[1-o],s.push(u[0],u[1])}return s.push(t[l++],t[l++]),s}function G2(t,e){var r=[],n=t.length,i,a;function o(p,c,h){var v=p.coord,m=(h-v)/(c.coord-v),_=oT(m,[p.color,c.color]);return{coord:h,color:_}}for(var s=0;s<n;s++){var l=t[s],u=l.coord;if(u<0)i=l;else if(u>e){a?r.push(o(a,l,e)):i&&r.push(o(i,l,0),o(i,l,e));break}else i&&(r.push(o(i,l,0)),i=null),r.push(l),a=l}return r}function W2(t,e,r){var n=t.getVisual("visualMeta");if(!(!n||!n.length||!t.count())&&e.type==="cartesian2d"){for(var i,a,o=n.length-1;o>=0;o--){var s=t.getDimensionInfo(n[o].dimension);if(i=s&&s.coordDim,i==="x"||i==="y"){a=n[o];break}}if(a){var l=e.getAxis(i),u=De(a.stops,function(M){return{coord:l.toGlobalCoord(l.dataToCoord(M.value)),color:M.color}}),p=u.length,c=a.outerColors.slice();p&&u[0].coord>u[p-1].coord&&(u.reverse(),c.reverse());var h=G2(u,i==="x"?r.getWidth():r.getHeight()),v=h.length;if(!v&&p)return u[0].coord<0?c[1]?c[1]:u[p-1].color:c[0]?c[0]:u[0].color;var m=10,_=h[0].coord-m,y=h[v-1].coord+m,b=y-_;if(b<.001)return"transparent";z(h,function(M){M.offset=(M.coord-_)/b}),h.push({offset:v?h[v-1].offset:.5,color:c[1]||"transparent"}),h.unshift({offset:v?h[0].offset:.5,color:c[0]||"transparent"});var C=new V0(0,0,0,0,h,!0);return C[i]=_,C[i+"2"]=y,C}}}function j2(t,e,r){var n=t.get("showAllSymbol"),i=n==="auto";if(!(n&&!i)){var a=r.getAxesByScale("ordinal")[0];if(a&&!(i&&q2(a,e))){var o=e.mapDimension(a.dim),s={};return z(a.getViewLabels(),function(l){var u=a.scale.getRawOrdinalNumber(l.tickValue);s[u]=1}),function(l){return!s.hasOwnProperty(e.get(o,l))}}}}function q2(t,e){var r=t.getExtent(),n=Math.abs(r[1]-r[0])/t.scale.count();isNaN(n)&&(n=0);for(var i=e.count(),a=Math.max(1,Math.round(i/5)),o=0;o<i;o+=a)if(Wd.getSymbolSize(e,o)[t.isHorizontal()?1:0]*1.5>n)return!1;return!0}function $2(t,e){return isNaN(t)||isNaN(e)}function Y2(t){for(var e=t.length/2;e>0&&$2(t[e*2-2],t[e*2-1]);e--);return e-1}function Vm(t,e){return[t[e*2],t[e*2+1]]}function K2(t,e,r){for(var n=t.length/2,i=r==="x"?0:1,a,o,s=0,l=-1,u=0;u<n;u++)if(o=t[u*2+i],!(isNaN(o)||isNaN(t[u*2+1-i]))){if(u===0){a=o;continue}if(a<=e&&o>=e||a>=e&&o<=e){l=u;break}s=u,a=o}return{range:[s,l],t:(e-a)/(o-a)}}function Gb(t){if(t.get(["endLabel","show"]))return!0;for(var e=0;e<Xr.length;e++)if(t.get([Xr[e],"endLabel","show"]))return!0;return!1}function tf(t,e,r,n){if(z2(e,"cartesian2d")){var i=n.getModel("endLabel"),a=i.get("valueAnimation"),o=n.getData(),s={lastFrameIndex:0},l=Gb(n)?function(v,m){t._endLabelOnDuring(v,m,o,s,a,i,e)}:null,u=e.getBaseAxis().isHorizontal(),p=F2(e,r,n,function(){var v=t._endLabel;v&&r&&s.originalX!=null&&v.attr({x:s.originalX,y:s.originalY})},l);if(!n.get("clip",!0)){var c=p.shape,h=Math.max(c.width,c.height);u?(c.y-=h,c.height+=h*2):(c.x-=h,c.width+=h*2)}return l&&l(1,p),p}else return V2(e,r,n)}function X2(t,e){var r=e.getBaseAxis(),n=r.isHorizontal(),i=r.inverse,a=n?i?"right":"left":"center",o=n?"middle":i?"top":"bottom";return{normal:{align:t.get("align")||a,verticalAlign:t.get("verticalAlign")||o}}}var Z2=(function(t){_e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.init=function(){var r=new Rt,n=new I2;this.group.add(n.group),this._symbolDraw=n,this._lineGroup=r,this._changePolyState=it(this._changePolyState,this)},e.prototype.render=function(r,n,i){var a=r.coordinateSystem,o=this.group,s=r.getData(),l=r.getModel("lineStyle"),u=r.getModel("areaStyle"),p=s.getLayout("points")||[],c=a.type==="polar",h=this._coordSys,v=this._symbolDraw,m=this._polyline,_=this._polygon,y=this._lineGroup,b=!n.ssr&&r.get("animation"),C=!u.isEmpty(),M=u.get("origin"),L=Vb(a,s,M),T=C&&U2(a,s,L),E=r.get("showSymbol"),k=r.get("connectNulls"),P=E&&!c&&j2(r,s,a),D=this._data;D&&D.eachItemGraphicEl(function(qe,Qe){qe.__temp&&(o.remove(qe),D.setItemGraphicEl(Qe,null))}),E||v.remove(),o.add(y);var N=c?!1:r.get("step"),B;a&&a.getArea&&r.get("clip",!0)&&(B=a.getArea(),B.width!=null?(B.x-=.1,B.y-=.1,B.width+=.2,B.height+=.2):B.r0&&(B.r0-=.5,B.r+=.5)),this._clipShapeForSymbol=B;var U=W2(s,a,i)||s.getVisual("style")[s.getVisual("drawType")];if(!(m&&h.type===a.type&&N===this._step))E&&v.updateData(s,{isIgnore:P,clipShape:B,disableAnimation:!0,getSymbolPoint:function(qe){return[p[qe*2],p[qe*2+1]]}}),b&&this._initSymbolLabelAnimation(s,a,B),N&&(T&&(T=Mn(T,p,a,N,k)),p=Mn(p,null,a,N,k)),m=this._newPolyline(p),C?_=this._newPolygon(p,T):_&&(y.remove(_),_=this._polygon=null),c||this._initOrUpdateEndLabel(r,a,Pi(U)),y.setClipPath(tf(this,a,!0,r));else{C&&!_?_=this._newPolygon(p,T):_&&!C&&(y.remove(_),_=this._polygon=null),c||this._initOrUpdateEndLabel(r,a,Pi(U));var F=y.getClipPath();if(F){var G=tf(this,a,!1,r);Jo(F,{shape:G.shape},r)}else y.setClipPath(tf(this,a,!0,r));E&&v.updateData(s,{isIgnore:P,clipShape:B,disableAnimation:!0,getSymbolPoint:function(qe){return[p[qe*2],p[qe*2+1]]}}),(!Nm(this._stackedOnPoints,T)||!Nm(this._points,p))&&(b?this._doUpdateAnimation(s,T,a,i,N,M,k):(N&&(T&&(T=Mn(T,p,a,N,k)),p=Mn(p,null,a,N,k)),m.setShape({points:p}),_&&_.setShape({points:p,stackedOnPoints:T})))}var Y=r.getModel("emphasis"),K=Y.get("focus"),ne=Y.get("blurScope"),te=Y.get("disabled");if(m.useStyle(tt(l.getLineStyle(),{fill:"none",stroke:U,lineJoin:"bevel"})),Kv(m,r,"lineStyle"),m.style.lineWidth>0&&r.get(["emphasis","lineStyle","width"])==="bolder"){var ae=m.getState("emphasis").style;ae.lineWidth=+m.style.lineWidth+1}Xe(m).seriesIndex=r.seriesIndex,Wf(m,K,ne,te);var le=Fm(r.get("smooth")),he=r.get("smoothMonotone");if(m.setShape({smooth:le,smoothMonotone:he,connectNulls:k}),_){var V=s.getCalculationInfo("stackedOnSeries"),Ce=0;_.useStyle(tt(u.getAreaStyle(),{fill:U,opacity:.7,lineJoin:"bevel",decal:s.getVisual("style").decal})),V&&(Ce=Fm(V.get("smooth"))),_.setShape({smooth:le,stackedOnSmooth:Ce,smoothMonotone:he,connectNulls:k}),Kv(_,r,"areaStyle"),Xe(_).seriesIndex=r.seriesIndex,Wf(_,K,ne,te)}var Re=this._changePolyState;s.eachItemGraphicEl(function(qe){qe&&(qe.onHoverStateChange=Re)}),this._polyline.onHoverStateChange=Re,this._data=s,this._coordSys=a,this._stackedOnPoints=T,this._points=p,this._step=N,this._valueOrigin=M,r.get("triggerLineEvent")&&(this.packEventData(r,m),_&&this.packEventData(r,_))},e.prototype.packEventData=function(r,n){Xe(n).eventData={componentType:"series",componentSubType:"line",componentIndex:r.componentIndex,seriesIndex:r.seriesIndex,seriesName:r.name,seriesType:"line"}},e.prototype.highlight=function(r,n,i,a){var o=r.getData(),s=Ii(o,a);if(this._changePolyState("emphasis"),!(s instanceof Array)&&s!=null&&s>=0){var l=o.getLayout("points"),u=o.getItemGraphicEl(s);if(!u){var p=l[s*2],c=l[s*2+1];if(isNaN(p)||isNaN(c)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(p,c))return;var h=r.get("zlevel")||0,v=r.get("z")||0;u=new Wd(o,s),u.x=p,u.y=c,u.setZ(h,v);var m=u.getSymbolPath().getTextContent();m&&(m.zlevel=h,m.z=v,m.z2=this._polyline.z2+1),u.__temp=!0,o.setItemGraphicEl(s,u),u.stopSymbolAnimation(!0),this.group.add(u)}u.highlight()}else Kr.prototype.highlight.call(this,r,n,i,a)},e.prototype.downplay=function(r,n,i,a){var o=r.getData(),s=Ii(o,a);if(this._changePolyState("normal"),s!=null&&s>=0){var l=o.getItemGraphicEl(s);l&&(l.__temp?(o.setItemGraphicEl(s,null),this.group.remove(l)):l.downplay())}else Kr.prototype.downplay.call(this,r,n,i,a)},e.prototype._changePolyState=function(r){var n=this._polygon;Wv(this._polyline,r),n&&Wv(n,r)},e.prototype._newPolyline=function(r){var n=this._polyline;return n&&this._lineGroup.remove(n),n=new N2({shape:{points:r},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(n),this._polyline=n,n},e.prototype._newPolygon=function(r,n){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new H2({shape:{points:r,stackedOnPoints:n},segmentIgnoreThreshold:2}),this._lineGroup.add(i),this._polygon=i,i},e.prototype._initSymbolLabelAnimation=function(r,n,i){var a,o,s=n.getBaseAxis(),l=s.inverse;n.type==="cartesian2d"?(a=s.isHorizontal(),o=!1):n.type==="polar"&&(a=s.dim==="angle",o=!0);var u=r.hostModel,p=u.get("animationDuration");Ie(p)&&(p=p(null));var c=u.get("animationDelay")||0,h=Ie(c)?c(null):c;r.eachItemGraphicEl(function(v,m){var _=v;if(_){var y=[v.x,v.y],b=void 0,C=void 0,M=void 0;if(i)if(o){var L=i,T=n.pointToCoord(y);a?(b=L.startAngle,C=L.endAngle,M=-T[1]/180*Math.PI):(b=L.r0,C=L.r,M=T[0])}else{var E=i;a?(b=E.x,C=E.x+E.width,M=v.x):(b=E.y+E.height,C=E.y,M=v.y)}var k=C===b?0:(M-b)/(C-b);l&&(k=1-k);var P=Ie(c)?c(m):p*k+h,D=_.getSymbolPath(),N=D.getTextContent();_.attr({scaleX:0,scaleY:0}),_.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:P}),N&&N.animateFrom({style:{opacity:0}},{duration:300,delay:P}),D.disableLabelAnimation=!0}})},e.prototype._initOrUpdateEndLabel=function(r,n,i){var a=r.getModel("endLabel");if(Gb(r)){var o=r.getData(),s=this._polyline,l=o.getLayout("points");if(!l){s.removeTextContent(),this._endLabel=null;return}var u=this._endLabel;u||(u=this._endLabel=new Ht({z2:200}),u.ignoreClip=!0,s.setTextContent(this._endLabel),s.disableLabelAnimation=!0);var p=Y2(l);p>=0&&(pd(s,vd(r,"endLabel"),{inheritColor:i,labelFetcher:r,labelDataIndex:p,defaultText:function(c,h,v){return v!=null?k2(o,v):Fb(o,c)},enableTextSetter:!0},X2(a,n)),s.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},e.prototype._endLabelOnDuring=function(r,n,i,a,o,s,l){var u=this._endLabel,p=this._polyline;if(u){r<1&&a.originalX==null&&(a.originalX=u.x,a.originalY=u.y);var c=i.getLayout("points"),h=i.hostModel,v=h.get("connectNulls"),m=s.get("precision"),_=s.get("distance")||0,y=l.getBaseAxis(),b=y.isHorizontal(),C=y.inverse,M=n.shape,L=C?b?M.x:M.y+M.height:b?M.x+M.width:M.y,T=(b?_:0)*(C?-1:1),E=(b?0:-_)*(C?-1:1),k=b?"x":"y",P=K2(c,L,k),D=P.range,N=D[1]-D[0],B=void 0;if(N>=1){if(N>1&&!v){var U=Vm(c,D[0]);u.attr({x:U[0]+T,y:U[1]+E}),o&&(B=h.getRawValue(D[0]))}else{var U=p.getPointOn(L,k);U&&u.attr({x:U[0]+T,y:U[1]+E});var F=h.getRawValue(D[0]),G=h.getRawValue(D[1]);o&&(B=ax(i,m,F,G,P.t))}a.lastFrameIndex=D[0]}else{var Y=r===1||a.lastFrameIndex>0?D[0]:0,U=Vm(c,Y);o&&(B=h.getRawValue(Y)),u.attr({x:U[0]+T,y:U[1]+E})}if(o){var K=X0(u);typeof K.setLabelText=="function"&&K.setLabelText(B)}}},e.prototype._doUpdateAnimation=function(r,n,i,a,o,s,l){var u=this._polyline,p=this._polygon,c=r.hostModel,h=R2(this._data,r,this._stackedOnPoints,n,this._coordSys,i,this._valueOrigin),v=h.current,m=h.stackedOnCurrent,_=h.next,y=h.stackedOnNext;if(o&&(m=Mn(h.stackedOnCurrent,h.current,i,o,l),v=Mn(h.current,null,i,o,l),y=Mn(h.stackedOnNext,h.next,i,o,l),_=Mn(h.next,null,i,o,l)),Hm(v,_)>3e3||p&&Hm(m,y)>3e3){u.stopAnimation(),u.setShape({points:_}),p&&(p.stopAnimation(),p.setShape({points:_,stackedOnPoints:y}));return}u.shape.__points=h.current,u.shape.points=v;var b={shape:{points:_}};h.current!==v&&(b.shape.__points=h.next),u.stopAnimation(),Fn(u,b,c),p&&(p.setShape({points:v,stackedOnPoints:m}),p.stopAnimation(),Fn(p,{shape:{stackedOnPoints:y}},c),u.shape.points!==p.shape.points&&(p.shape.points=u.shape.points));for(var C=[],M=h.status,L=0;L<M.length;L++){var T=M[L].cmd;if(T==="="){var E=r.getItemGraphicEl(M[L].idx1);E&&C.push({el:E,ptIdx:L})}}u.animators&&u.animators.length&&u.animators[0].during(function(){p&&p.dirtyShape();for(var k=u.shape.__points,P=0;P<C.length;P++){var D=C[P].el,N=C[P].ptIdx*2;D.x=k[N],D.y=k[N+1],D.markRedraw()}})},e.prototype.remove=function(r){var n=this.group,i=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),i&&i.eachItemGraphicEl(function(a,o){a.__temp&&(n.remove(a),i.setItemGraphicEl(o,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},e.type="line",e})(Kr);function Q2(t,e){return{seriesType:t,plan:B_(),reset:function(r){var n=r.getData(),i=r.coordinateSystem;if(r.pipelineContext,!!i){var a=De(i.dimensions,function(c){return n.mapDimension(c)}).slice(0,2),o=a.length,s=n.getCalculationInfo("stackResultDimension");Uo(n,a[0])&&(a[0]=s),Uo(n,a[1])&&(a[1]=s);var l=n.getStore(),u=n.getDimensionIndex(a[0]),p=n.getDimensionIndex(a[1]);return o&&{progress:function(c,h){for(var v=c.end-c.start,m=ma(v*o),_=[],y=[],b=c.start,C=0;b<c.end;b++){var M=void 0;if(o===1){var L=l.get(u,b);M=i.dataToPoint(L,null,y)}else _[0]=l.get(u,b),_[1]=l.get(p,b),M=i.dataToPoint(_,null,y);m[C++]=M[0],m[C++]=M[1]}h.setLayout("points",m)}}}}}}var J2={average:function(t){for(var e=0,r=0,n=0;n<t.length;n++)isNaN(t[n])||(e+=t[n],r++);return r===0?NaN:e/r},sum:function(t){for(var e=0,r=0;r<t.length;r++)e+=t[r]||0;return e},max:function(t){for(var e=-1/0,r=0;r<t.length;r++)t[r]>e&&(e=t[r]);return isFinite(e)?e:NaN},min:function(t){for(var e=1/0,r=0;r<t.length;r++)t[r]<e&&(e=t[r]);return isFinite(e)?e:NaN},nearest:function(t){return t[0]}},eI=function(t){return Math.round(t.length/2)};function tI(t){return{seriesType:t,reset:function(e,r,n){var i=e.getData(),a=e.get("sampling"),o=e.coordinateSystem,s=i.count();if(s>10&&o.type==="cartesian2d"&&a){var l=o.getBaseAxis(),u=o.getOtherAxis(l),p=l.getExtent(),c=n.getDevicePixelRatio(),h=Math.abs(p[1]-p[0])*(c||1),v=Math.round(s/h);if(isFinite(v)&&v>1){a==="lttb"?e.setData(i.lttbDownSample(i.mapDimension(u.dim),1/v)):a==="minmax"&&e.setData(i.minmaxDownSample(i.mapDimension(u.dim),1/v));var m=void 0;xe(a)?m=J2[a]:Ie(a)&&(m=a),m&&e.setData(i.downSample(i.mapDimension(u.dim),1/v,m,eI))}}}}}function rI(t){t.registerChartView(Z2),t.registerSeriesModel(A2),t.registerLayout(Q2("line")),t.registerVisual({seriesType:"line",reset:function(e){var r=e.getData(),n=e.getModel("lineStyle").getLineStyle();n&&!n.stroke&&(n.stroke=r.getVisual("style").fill),r.setVisual("legendLineStyle",n)}}),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,tI("line"))}var Wb={left:0,right:0,top:0,bottom:0},Xl=["25%","25%"],nI=(function(t){_e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.mergeDefaultAndTheme=function(r,n){var i=es(r.outerBounds);t.prototype.mergeDefaultAndTheme.apply(this,arguments),i&&r.outerBounds&&zn(r.outerBounds,i)},e.prototype.mergeOption=function(r,n){t.prototype.mergeOption.apply(this,arguments),this.option.outerBounds&&r.outerBounds&&zn(this.option.outerBounds,r.outerBounds)},e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,z:0,left:"15%",top:65,right:"10%",bottom:80,containLabel:!1,outerBoundsMode:"auto",outerBounds:Wb,outerBoundsContain:"all",outerBoundsClampWidth:Xl[0],outerBoundsClampHeight:Xl[1],backgroundColor:Le.color.transparent,borderWidth:1,borderColor:Le.color.neutral30},e})(et),bh=(function(t){_e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",yr).models[0]},e.type="cartesian2dAxis",e})(et);Zr(bh,n2);var jb={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:Le.color.axisLine,width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15],breakLine:!0},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12,color:Le.color.axisLabel,textMargin:[0,3]},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:Le.color.axisSplitLine,width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:[Le.color.backgroundTint,Le.color.backgroundTransparent]}},breakArea:{show:!0,itemStyle:{color:Le.color.neutral00,borderColor:Le.color.border,borderWidth:1,borderType:[3,3],opacity:.6},zigzagAmplitude:4,zigzagMinSpan:4,zigzagMaxSpan:20,zigzagZ:100,expandOnClick:!0},breakLabelLayout:{moveOverlap:"auto"}},iI=Ze({boundaryGap:!0,deduplication:null,jitter:0,jitterOverlap:!0,jitterMargin:2,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto",show:"auto"},axisLabel:{interval:"auto"}},jb),jd=Ze({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:Le.color.axisMinorSplitLine,width:1}}},jb),aI=Ze({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},jd),oI=tt({logBase:10},jd);const sI={category:iI,value:jd,time:aI,log:oI};var lI={value:1,category:1,time:1,log:1},uI=null;function cI(){return uI}function zm(t,e,r,n){z(lI,function(i,a){var o=Ze(Ze({},sI[a],!0),n,!0),s=(function(l){_e(u,l);function u(){var p=l!==null&&l.apply(this,arguments)||this;return p.type=e+"Axis."+a,p}return u.prototype.mergeDefaultAndTheme=function(p,c){var h=Bo(this),v=h?es(p):{},m=c.getTheme();Ze(p,m.get(a+"Axis")),Ze(p,this.getDefaultOption()),p.type=Um(p),h&&zn(p,v,h)},u.prototype.optionUpdated=function(){var p=this.option;p.type==="category"&&(this.__ordinalMeta=gh.createByAxisModel(this))},u.prototype.getCategories=function(p){var c=this.option;if(c.type==="category")return p?c.data:this.__ordinalMeta.categories},u.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},u.prototype.updateAxisBreaks=function(p){return{breaks:[]}},u.type=e+"Axis."+a,u.defaultOption=o,u})(r);t.registerComponentModel(s)}),t.registerSubTypeDefaulter(e+"Axis",Um)}function Um(t){return t.type||(t.data?"category":"value")}var fI=(function(){function t(e){this.type="cartesian",this._dimList=[],this._axes={},this.name=e||""}return t.prototype.getAxis=function(e){return this._axes[e]},t.prototype.getAxes=function(){return De(this._dimList,function(e){return this._axes[e]},this)},t.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),At(this.getAxes(),function(r){return r.scale.type===e})},t.prototype.addAxis=function(e){var r=e.dim;this._axes[r]=e,this._dimList.push(r)},t})(),wh=["x","y"];function Gm(t){return(t.type==="interval"||t.type==="time")&&!t.hasBreaks()}var hI=(function(t){_e(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="cartesian2d",r.dimensions=wh,r}return e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var r=this.getAxis("x").scale,n=this.getAxis("y").scale;if(!(!Gm(r)||!Gm(n))){var i=r.getExtent(),a=n.getExtent(),o=this.dataToPoint([i[0],a[0]]),s=this.dataToPoint([i[1],a[1]]),l=i[1]-i[0],u=a[1]-a[0];if(!(!l||!u)){var p=(s[0]-o[0])/l,c=(s[1]-o[1])/u,h=o[0]-i[0]*p,v=o[1]-a[0]*c,m=this._transform=[p,0,0,c,h,v];this._invTransform=Yo([],m)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(r){var n=this.getAxis("x"),i=this.getAxis("y");return n.contain(n.toLocalCoord(r[0]))&&i.contain(i.toLocalCoord(r[1]))},e.prototype.containData=function(r){return this.getAxis("x").containData(r[0])&&this.getAxis("y").containData(r[1])},e.prototype.containZone=function(r,n){var i=this.dataToPoint(r),a=this.dataToPoint(n),o=this.getArea(),s=new Be(i[0],i[1],a[0]-i[0],a[1]-i[1]);return o.intersect(s)},e.prototype.dataToPoint=function(r,n,i){i=i||[];var a=r[0],o=r[1];if(this._transform&&a!=null&&isFinite(a)&&o!=null&&isFinite(o))return br(i,r,this._transform);var s=this.getAxis("x"),l=this.getAxis("y");return i[0]=s.toGlobalCoord(s.dataToCoord(a,n)),i[1]=l.toGlobalCoord(l.dataToCoord(o,n)),i},e.prototype.clampData=function(r,n){var i=this.getAxis("x").scale,a=this.getAxis("y").scale,o=i.getExtent(),s=a.getExtent(),l=i.parse(r[0]),u=a.parse(r[1]);return n=n||[],n[0]=Math.min(Math.max(Math.min(o[0],o[1]),l),Math.max(o[0],o[1])),n[1]=Math.min(Math.max(Math.min(s[0],s[1]),u),Math.max(s[0],s[1])),n},e.prototype.pointToData=function(r,n,i){if(i=i||[],this._invTransform)return br(i,r,this._invTransform);var a=this.getAxis("x"),o=this.getAxis("y");return i[0]=a.coordToData(a.toLocalCoord(r[0]),n),i[1]=o.coordToData(o.toLocalCoord(r[1]),n),i},e.prototype.getOtherAxis=function(r){return this.getAxis(r.dim==="x"?"y":"x")},e.prototype.getArea=function(r){r=r||0;var n=this.getAxis("x").getGlobalExtent(),i=this.getAxis("y").getGlobalExtent(),a=Math.min(n[0],n[1])-r,o=Math.min(i[0],i[1])-r,s=Math.max(n[0],n[1])-a+r,l=Math.max(i[0],i[1])-o+r;return new Be(a,o,s,l)},e})(fI),dI=(function(t){_e(e,t);function e(r,n,i,a,o){var s=t.call(this,r,n,i)||this;return s.index=0,s.type=a||"value",s.position=o||"bottom",s}return e.prototype.isHorizontal=function(){var r=this.position;return r==="top"||r==="bottom"},e.prototype.getGlobalExtent=function(r){var n=this.getExtent();return n[0]=this.toGlobalCoord(n[0]),n[1]=this.toGlobalCoord(n[1]),r&&n[0]>n[1]&&n.reverse(),n},e.prototype.pointToData=function(r,n){return this.coordToData(this.toLocalCoord(r[this.dim==="x"?0:1]),n)},e.prototype.setCategorySortInfo=function(r){if(this.type!=="category")return!1;this.model.option.categorySortInfo=r,this.scale.setSortInfo(r)},e})(m2),pI="expandAxisBreak",Dn=Math.PI,vI=[[1,2,1,2],[5,3,5,3],[8,3,8,3]],gI=[[0,1,0,1],[0,3,0,3],[0,3,0,3]],jo=gt(),qb=gt(),$b=(function(){function t(e){this.recordMap={},this.resolveAxisNameOverlap=e}return t.prototype.ensureRecord=function(e){var r=e.axis.dim,n=e.componentIndex,i=this.recordMap,a=i[r]||(i[r]=[]);return a[n]||(a[n]={ready:{}})},t})();function mI(t,e,r,n){var i=r.axis,a=e.ensureRecord(r),o=[],s,l=qd(t.axisName)&&Ea(t.nameLocation);z(n,function(m){var _=Wn(m);if(!(!_||_.label.ignore)){o.push(_);var y=a.transGroup;l&&(y.transform?Yo(no,y.transform):Uh(no),_.transform&&go(no,no,_.transform),Be.copy(Js,_.localRect),Js.applyTransform(no),s?s.union(Js):Be.copy(s=new Be(0,0,0,0),Js))}});var u=Math.abs(a.dirVec.x)>.1?"x":"y",p=a.transGroup[u];if(o.sort(function(m,_){return Math.abs(m.label[u]-p)-Math.abs(_.label[u]-p)}),l&&s){var c=i.getExtent(),h=Math.min(c[0],c[1]),v=Math.max(c[0],c[1])-h;s.union(new Be(h,0,v,1))}a.stOccupiedRect=s,a.labelInfoList=o}var no=fn(),Js=new Be(0,0,0,0),Yb=function(t,e,r,n,i,a){if(Ea(t.nameLocation)){var o=a.stOccupiedRect;o&&Kb(w2({},o,a.transGroup.transform),n,i)}else Xb(a.labelInfoList,a.dirVec,n,i)};function Kb(t,e,r){var n=new nt;Gd(t,e,n,{direction:Math.atan2(r.y,r.x),bidirectional:!1,touchThreshold:.05})&&S2(e,n)}function Xb(t,e,r,n){for(var i=nt.dot(n,e)>=0,a=0,o=t.length;a<o;a++){var s=t[i?a:o-1-a];s.label.ignore||Kb(s,r,n)}}var Rn=(function(){function t(e,r,n,i){this.group=new Rt,this._axisModel=e,this._api=r,this._local={},this._shared=i||new $b(Yb),this._resetCfgDetermined(n)}return t.prototype.updateCfg=function(e){var r=this._cfg.raw;r.position=e.position,r.labelOffset=e.labelOffset,this._resetCfgDetermined(r)},t.prototype.__getRawCfg=function(){return this._cfg.raw},t.prototype._resetCfgDetermined=function(e){var r=this._axisModel,n=r.getDefaultOption?r.getDefaultOption():{},i=ke(e.axisName,r.get("name")),a=r.get("nameMoveOverlap");(a==null||a==="auto")&&(a=ke(e.defaultNameMoveOverlap,!0));var o={raw:e,position:e.position,rotation:e.rotation,nameDirection:ke(e.nameDirection,1),tickDirection:ke(e.tickDirection,1),labelDirection:ke(e.labelDirection,1),labelOffset:ke(e.labelOffset,0),silent:ke(e.silent,!0),axisName:i,nameLocation:ya(r.get("nameLocation"),n.nameLocation,"end"),shouldNameMoveOverlap:qd(i)&&a,optionHideOverlap:r.get(["axisLabel","hideOverlap"]),showMinorTicks:r.get(["minorTick","show"])};this._cfg=o;var s=new Rt({x:o.position[0],y:o.position[1],rotation:o.rotation});s.updateTransform(),this._transformGroup=s;var l=this._shared.ensureRecord(r);l.transGroup=this._transformGroup,l.dirVec=new nt(Math.cos(-o.rotation),Math.sin(-o.rotation))},t.prototype.build=function(e,r){var n=this;return e||(e={axisLine:!0,axisTickLabelEstimate:!1,axisTickLabelDetermine:!0,axisName:!0}),z(yI,function(i){e[i]&&_I[i](n._cfg,n._local,n._shared,n._axisModel,n.group,n._transformGroup,n._api,r||{})}),this},t.innerTextLayout=function(e,r,n){var i=a0(r-e),a,o;return El(i)?(o=n>0?"top":"bottom",a="center"):El(i-Dn)?(o=n>0?"bottom":"top",a="center"):(o="middle",i>0&&i<Dn?a=n>0?"right":"left":a=n>0?"left":"right"),{rotation:i,textAlign:a,textVerticalAlign:o}},t.makeAxisEventDataBase=function(e){var r={componentType:e.mainType,componentIndex:e.componentIndex};return r[e.mainType+"Index"]=e.componentIndex,r},t.isLabelSilent=function(e){var r=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||r&&r.show)},t})(),yI=["axisLine","axisTickLabelEstimate","axisTickLabelDetermine","axisName"],_I={axisLine:function(t,e,r,n,i,a,o){var s=n.get(["axisLine","show"]);if(s==="auto"&&(s=!0,t.raw.axisLineAutoShow!=null&&(s=!!t.raw.axisLineAutoShow)),!!s){var l=n.axis.getExtent(),u=a.transform,p=[l[0],0],c=[l[1],0],h=p[0]>c[0];u&&(br(p,p,u),br(c,c,u));var v=pe({lineCap:"round"},n.getModel(["axisLine","lineStyle"]).getLineStyle()),m={strokeContainThreshold:t.raw.strokeContainThreshold||5,silent:!0,z2:1,style:v};if(n.get(["axisLine","breakLine"])&&n.axis.scale.hasBreaks())cI().buildAxisBreakLine(n,i,a,m);else{var _=new Hn(pe({shape:{x1:p[0],y1:p[1],x2:c[0],y2:c[1]}},m));Ro(_.shape,_.style.lineWidth),_.anid="line",i.add(_)}var y=n.get(["axisLine","symbol"]);if(y!=null){var b=n.get(["axisLine","symbolSize"]);xe(y)&&(y=[y,y]),(xe(b)||ct(b))&&(b=[b,b]);var C=$_(n.get(["axisLine","symbolOffset"])||0,b),M=b[0],L=b[1];z([{rotate:t.rotation+Math.PI/2,offset:C[0],r:0},{rotate:t.rotation-Math.PI/2,offset:C[1],r:Math.sqrt((p[0]-c[0])*(p[0]-c[0])+(p[1]-c[1])*(p[1]-c[1]))}],function(T,E){if(y[E]!=="none"&&y[E]!=null){var k=Ma(y[E],-M/2,-L/2,M,L,v.stroke,!0),P=T.r+T.offset,D=h?c:p;k.attr({rotation:T.rotate,x:D[0]+P*Math.cos(t.rotation),y:D[1]-P*Math.sin(t.rotation),silent:!0,z2:11}),i.add(k)}})}}},axisTickLabelEstimate:function(t,e,r,n,i,a,o,s){var l=jm(e,i,s);l&&Wm(t,e,r,n,i,a,o,Ar.estimate)},axisTickLabelDetermine:function(t,e,r,n,i,a,o,s){var l=jm(e,i,s);l&&Wm(t,e,r,n,i,a,o,Ar.determine);var u=CI(t,i,a,n);SI(t,e.labelLayoutList,u),TI(t,i,a,n,t.tickDirection)},axisName:function(t,e,r,n,i,a,o,s){var l=r.ensureRecord(n);e.nameEl&&(i.remove(e.nameEl),e.nameEl=l.nameLayout=l.nameLocation=null);var u=t.axisName;if(qd(u)){var p=t.nameLocation,c=t.nameDirection,h=n.getModel("nameTextStyle"),v=n.get("nameGap")||0,m=n.axis.getExtent(),_=n.axis.inverse?-1:1,y=new nt(0,0),b=new nt(0,0);p==="start"?(y.x=m[0]-_*v,b.x=-_):p==="end"?(y.x=m[1]+_*v,b.x=_):(y.x=(m[0]+m[1])/2,y.y=t.labelOffset+c*v,b.y=c);var C=fn();b.transform(Gh(C,C,t.rotation));var M=n.get("nameRotate");M!=null&&(M=M*Dn/180);var L,T;Ea(p)?L=Rn.innerTextLayout(t.rotation,M??t.rotation,c):(L=bI(t.rotation,p,M||0,m),T=t.raw.axisNameAvailableWidth,T!=null&&(T=Math.abs(T/Math.sin(L.rotation)),!isFinite(T)&&(T=null)));var E=h.getFont(),k=n.get("nameTruncate",!0)||{},P=k.ellipsis,D=_l(t.raw.nameTruncateMaxWidth,k.maxWidth,T),N=s.nameMarginLevel||0,B=new Ht({x:y.x,y:y.y,rotation:L.rotation,silent:Rn.isLabelSilent(n),style:Vn(h,{text:u,font:E,overflow:"truncate",width:D,ellipsis:P,fill:h.getTextColor()||n.get(["axisLine","lineStyle","color"]),align:h.get("align")||L.textAlign,verticalAlign:h.get("verticalAlign")||L.textVerticalAlign}),z2:1});if(pu({el:B,componentModel:n,itemName:u}),B.__fullText=u,B.anid="name",n.get("triggerEvent")){var U=Rn.makeAxisEventDataBase(n);U.targetType="axisName",U.name=u,Xe(B).eventData=U}a.add(B),B.updateTransform(),e.nameEl=B;var F=l.nameLayout=Wn({label:B,priority:B.z2,defaultAttr:{ignore:B.ignore},marginDefault:Ea(p)?vI[N]:gI[N]});if(l.nameLocation=p,i.add(B),B.decomposeTransform(),t.shouldNameMoveOverlap&&F){var G=r.ensureRecord(n);r.resolveAxisNameOverlap(t,r,n,F,b,G)}}}};function Wm(t,e,r,n,i,a,o,s){Qb(e)||xI(t,e,i,s,n,o);var l=e.labelLayoutList;MI(t,n,l,a),t.rotation;var u=t.optionHideOverlap;wI(n,l,u),u&&C2(At(l,function(p){return p&&!p.label.ignore})),mI(t,r,n,l)}function bI(t,e,r,n){var i=a0(r-t),a,o,s=n[0]>n[1],l=e==="start"&&!s||e!=="start"&&s;return El(i-Dn/2)?(o=l?"bottom":"top",a="center"):El(i-Dn*1.5)?(o=l?"top":"bottom",a="center"):(o="middle",i<Dn*1.5&&i>Dn/2?a=l?"left":"right":a=l?"right":"left"),{rotation:i,textAlign:a,textVerticalAlign:o}}function wI(t,e,r){if(Eb(t.axis))return;function n(s,l,u){var p=Wn(e[l]),c=Wn(e[u]);if(!(!p||!c)){if(s===!1||p.suggestIgnore){po(p.label);return}if(c.suggestIgnore){po(c.label);return}var h=.1;if(!r){var v=[0,0,0,0];p=km({marginForce:v},p),c=km({marginForce:v},c)}Gd(p,c,null,{touchThreshold:h})&&po(s?c.label:p.label)}}var i=t.get(["axisLabel","showMinLabel"]),a=t.get(["axisLabel","showMaxLabel"]),o=e.length;n(i,0,1),n(a,o-1,o-2)}function SI(t,e,r){t.showMinorTicks||z(e,function(n){if(n&&n.label.ignore)for(var i=0;i<r.length;i++){var a=r[i],o=qb(a),s=jo(n.label);if(o.tickValue!=null&&!o.onBand&&o.tickValue===s.tickValue){po(a);return}}})}function po(t){t&&(t.ignore=!0)}function Zb(t,e,r,n,i){for(var a=[],o=[],s=[],l=0;l<t.length;l++){var u=t[l].coord;o[0]=u,o[1]=0,s[0]=u,s[1]=r,e&&(br(o,o,e),br(s,s,e));var p=new Hn({shape:{x1:o[0],y1:o[1],x2:s[0],y2:s[1]},style:n,z2:2,autoBatch:!0,silent:!0});Ro(p.shape,p.style.lineWidth),p.anid=i+"_"+t[l].tickValue,a.push(p);var c=qb(p);c.onBand=!!t[l].onBand,c.tickValue=t[l].tickValue}return a}function CI(t,e,r,n){var i=n.axis,a=n.getModel("axisTick"),o=a.get("show");if(o==="auto"&&(o=!0,t.raw.axisTickAutoShow!=null&&(o=!!t.raw.axisTickAutoShow)),!o||i.scale.isBlank())return[];for(var s=a.getModel("lineStyle"),l=t.tickDirection*a.get("length"),u=i.getTicksCoords(),p=Zb(u,r.transform,l,tt(s.getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])}),"ticks"),c=0;c<p.length;c++)e.add(p[c]);return p}function TI(t,e,r,n,i){var a=n.axis,o=n.getModel("minorTick");if(!(!t.showMinorTicks||a.scale.isBlank())){var s=a.getMinorTicksCoords();if(s.length)for(var l=o.getModel("lineStyle"),u=i*o.get("length"),p=tt(l.getLineStyle(),tt(n.getModel("axisTick").getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])})),c=0;c<s.length;c++)for(var h=Zb(s[c],r.transform,u,p,"minorticks_"+c),v=0;v<h.length;v++)e.add(h[v])}}function jm(t,e,r){if(Qb(t)){var n=t.axisLabelsCreationContext,i=n.out.noPxChangeTryDetermine;if(r.noPxChange){for(var a=!0,o=0;o<i.length;o++)a=a&&i[o]();if(a)return!1}i.length&&(e.remove(t.labelGroup),Sh(t,null,null,null))}return!0}function xI(t,e,r,n,i,a){var o=i.axis,s=_l(t.raw.axisLabelShow,i.get(["axisLabel","show"])),l=new Rt;r.add(l);var u=$l(n);if(!s||o.scale.isBlank()){Sh(e,[],l,u);return}var p=i.getModel("axisLabel"),c=o.getViewLabels(u),h=(_l(t.raw.labelRotate,p.get("rotate"))||0)*Dn/180,v=Rn.innerTextLayout(t.rotation,h,t.labelDirection),m=i.getCategories&&i.getCategories(!0),_=[],y=i.get("triggerEvent"),b=1/0,C=-1/0;z(c,function(L,T){var E,k=o.scale.type==="ordinal"?o.scale.getRawOrdinalNumber(L.tickValue):L.tickValue,P=L.formattedLabel,D=L.rawLabel,N=p;if(m&&m[k]){var B=m[k];Ae(B)&&B.textStyle&&(N=new pt(B.textStyle,p,i.ecModel))}var U=N.getTextColor()||i.get(["axisLine","lineStyle","color"]),F=N.getShallow("align",!0)||v.textAlign,G=ke(N.getShallow("alignMinLabel",!0),F),Y=ke(N.getShallow("alignMaxLabel",!0),F),K=N.getShallow("verticalAlign",!0)||N.getShallow("baseline",!0)||v.textVerticalAlign,ne=ke(N.getShallow("verticalAlignMinLabel",!0),K),te=ke(N.getShallow("verticalAlignMaxLabel",!0),K),ae=10+(((E=L.time)===null||E===void 0?void 0:E.level)||0);b=Math.min(b,ae),C=Math.max(C,ae);var le=new Ht({x:0,y:0,rotation:0,silent:Rn.isLabelSilent(i),z2:ae,style:Vn(N,{text:P,align:T===0?G:T===c.length-1?Y:F,verticalAlign:T===0?ne:T===c.length-1?te:K,fill:Ie(U)?U(o.type==="category"?D:o.type==="value"?k+"":k,T):U})});le.anid="label_"+k;var he=jo(le);if(he.break=L.break,he.tickValue=k,he.layoutRotation=v.rotation,pu({el:le,componentModel:i,itemName:P,formatterParamsExtra:{isTruncated:function(){return le.isTruncated},value:D,tickIndex:T}}),y){var V=Rn.makeAxisEventDataBase(i);V.targetType="axisLabel",V.value=D,V.tickIndex=T,L.break&&(V.break={start:L.break.parsedBreak.vmin,end:L.break.parsedBreak.vmax}),o.type==="category"&&(V.dataIndex=k),Xe(le).eventData=V,L.break&&EI(i,a,le,L.break)}_.push(le),l.add(le)});var M=De(_,function(L){return{label:L,priority:jo(L).break?L.z2+(C-b+1):L.z2,defaultAttr:{ignore:L.ignore}}});Sh(e,M,l,u)}function Qb(t){return!!t.labelLayoutList}function Sh(t,e,r,n){t.labelLayoutList=e,t.labelGroup=r,t.axisLabelsCreationContext=n}function MI(t,e,r,n){var i=e.get(["axisLabel","margin"]);z(r,function(a,o){var s=Wn(a);if(s){var l=s.label,u=jo(l);s.suggestIgnore=l.ignore,l.ignore=!1,Pf(on,LI),on.x=e.axis.dataToCoord(u.tickValue),on.y=t.labelOffset+t.labelDirection*i,on.rotation=u.layoutRotation,n.add(on),on.updateTransform(),n.remove(on),on.decomposeTransform(),Pf(l,on),l.markRedraw(),Kl(s,!0),Wn(s)}})}var on=new St,LI=new St;function qd(t){return!!t}function EI(t,e,r,n){r.on("click",function(i){var a={type:pI,breaks:[{start:n.parsedBreak.breakOption.start,end:n.parsedBreak.breakOption.end}]};a[t.axis.dim+"AxisIndex"]=t.componentIndex,e.dispatchAction(a)})}function Zl(t,e,r){r=r||{};var n=e.axis,i={},a=n.getAxesOnZeroOf()[0],o=n.position,s=a?"onZero":o,l=n.dim,u=[t.x,t.x+t.width,t.y,t.y+t.height],p={left:0,right:1,top:0,bottom:1,onZero:2},c=e.get("offset")||0,h=l==="x"?[u[2]-c,u[3]+c]:[u[0]-c,u[1]+c];if(a){var v=a.toGlobalCoord(a.dataToCoord(0));h[p.onZero]=Math.max(Math.min(v,h[1]),h[0])}i.position=[l==="y"?h[p[s]]:u[0],l==="x"?h[p[s]]:u[3]],i.rotation=Math.PI/2*(l==="x"?0:1);var m={top:-1,bottom:1,left:-1,right:1};i.labelDirection=i.tickDirection=i.nameDirection=m[o],i.labelOffset=a?h[p[o]]-h[p.onZero]:0,e.get(["axisTick","inside"])&&(i.tickDirection=-i.tickDirection),_l(r.labelInside,e.get(["axisLabel","inside"]))&&(i.labelDirection=-i.labelDirection);var _=e.get(["axisLabel","rotate"]);return i.labelRotate=s==="top"?-_:_,i.z2=1,i}function AI(t){return t.coordinateSystem&&t.coordinateSystem.type==="cartesian2d"}function qm(t){var e={xAxisModel:null,yAxisModel:null};return z(e,function(r,n){var i=n.replace(/Model$/,""),a=t.getReferringComponents(i,yr).models[0];e[n]=a}),e}function kI(t,e,r,n,i,a){for(var o=Zl(t,r),s=!1,l=!1,u=0;u<e.length;u++)ph(e[u].getOtherAxis(r.axis).scale)&&(s=l=!0,r.axis.type==="category"&&r.axis.onBand&&(l=!1));return o.axisLineAutoShow=s,o.axisTickAutoShow=l,o.defaultNameMoveOverlap=a,new Rn(r,n,o,i)}function DI(t,e,r){var n=Zl(e,r);t.updateCfg(n)}function II(t,e,r){var n=La.prototype,i=n.getTicks.call(r),a=n.getTicks.call(r,{expandToNicedExtent:!0}),o=i.length-1,s=n.getInterval.call(r),l=Lb(t,e),u=l.extent,p=l.fixMin,c=l.fixMax;t.type==="log"&&(u=vh(t.base,u,!0)),t.setBreaksFromOption(Ab(e)),t.setExtent(u[0],u[1]),t.calcNiceExtent({splitNumber:o,fixMin:p,fixMax:c});var h=n.getExtent.call(t);p&&(u[0]=h[0]),c&&(u[1]=h[1]);var v=n.getInterval.call(t),m=u[0],_=u[1];if(p&&c)v=(_-m)/o;else if(p)for(_=u[0]+v*o;_<u[1]&&isFinite(_)&&isFinite(u[1]);)v=Xc(v),_=u[0]+v*o;else if(c)for(m=u[1]-v*o;m>u[0]&&isFinite(m)&&isFinite(u[0]);)v=Xc(v),m=u[1]-v*o;else{var y=t.getTicks().length-1;y>o&&(v=Xc(v));var b=v*o;_=Math.ceil(u[1]/v)*v,m=Pt(_-b),m<0&&u[0]>=0?(m=0,_=Pt(b)):_>0&&u[1]<=0&&(_=0,m=-Pt(b))}var C=(i[0].value-a[0].value)/s,M=(i[o].value-a[o].value)/s;n.setExtent.call(t,m+v*C,_+v*M),n.setInterval.call(t,v),(C||M)&&n.setNiceExtent.call(t,m+v,_-v)}var $m=[[3,1],[0,2]],OI=(function(){function t(e,r,n){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=wh,this._initCartesian(e,r,n),this.model=e}return t.prototype.getRect=function(){return this._rect},t.prototype.update=function(e,r){var n=this._axesMap;this._updateScale(e,this.model);function i(o){var s,l=ft(o),u=l.length;if(u){for(var p=[],c=u-1;c>=0;c--){var h=+l[c],v=o[h],m=v.model,_=v.scale;ph(_)&&m.get("alignTicks")&&m.get("interval")==null?p.push(v):(xm(_,m),ph(_)&&(s=v))}p.length&&(s||(s=p.pop(),xm(s.scale,s.model)),z(p,function(y){II(y.scale,y.model,s.scale)}))}}i(n.x),i(n.y);var a={};z(n.x,function(o){Ym(n,"y",o,a)}),z(n.y,function(o){Ym(n,"x",o,a)}),this.resize(this.model,r)},t.prototype.resize=function(e,r,n){var i=Ed(e,r),a=this._rect=Ta(e.getBoxLayoutParams(),i.refContainer),o=this._axesMap,s=this._coordsList,l=e.get("containLabel");if(Jb(o,a),!n){var u=RI(a,s,o,l,r),p=void 0;if(l)p=Zm(a.clone(),"axisLabel",null,a,o,u,i);else{var c=NI(e,a,i),h=c.outerBoundsRect,v=c.parsedOuterBoundsContain,m=c.outerBoundsClamp;h&&(p=Zm(h,v,m,a,o,u,i))}ew(a,o,Ar.determine,null,p,i)}z(this._coordsList,function(_){_.calcAffineTransform()})},t.prototype.getAxis=function(e,r){var n=this._axesMap[e];if(n!=null)return n[r||0]},t.prototype.getAxes=function(){return this._axesList.slice()},t.prototype.getCartesian=function(e,r){if(e!=null&&r!=null){var n="x"+e+"y"+r;return this._coordsMap[n]}Ae(e)&&(r=e.yAxisIndex,e=e.xAxisIndex);for(var i=0,a=this._coordsList;i<a.length;i++)if(a[i].getAxis("x").index===e||a[i].getAxis("y").index===r)return a[i]},t.prototype.getCartesians=function(){return this._coordsList.slice()},t.prototype.convertToPixel=function(e,r,n){var i=this._findConvertTarget(r);return i.cartesian?i.cartesian.dataToPoint(n):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(n)):null},t.prototype.convertFromPixel=function(e,r,n){var i=this._findConvertTarget(r);return i.cartesian?i.cartesian.pointToData(n):i.axis?i.axis.coordToData(i.axis.toLocalCoord(n)):null},t.prototype._findConvertTarget=function(e){var r=e.seriesModel,n=e.xAxisModel||r&&r.getReferringComponents("xAxis",yr).models[0],i=e.yAxisModel||r&&r.getReferringComponents("yAxis",yr).models[0],a=e.gridModel,o=this._coordsList,s,l;if(r)s=r.coordinateSystem,Ye(o,s)<0&&(s=null);else if(n&&i)s=this.getCartesian(n.componentIndex,i.componentIndex);else if(n)l=this.getAxis("x",n.componentIndex);else if(i)l=this.getAxis("y",i.componentIndex);else if(a){var u=a.coordinateSystem;u===this&&(s=this._coordsList[0])}return{cartesian:s,axis:l}},t.prototype.containPoint=function(e){var r=this._coordsList[0];if(r)return r.containPoint(e)},t.prototype._initCartesian=function(e,r,n){var i=this,a=this,o={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},l={x:0,y:0};if(r.eachComponent("xAxis",u("x"),this),r.eachComponent("yAxis",u("y"),this),!l.x||!l.y){this._axesMap={},this._axesList=[];return}this._axesMap=s,z(s.x,function(p,c){z(s.y,function(h,v){var m="x"+c+"y"+v,_=new hI(m);_.master=i,_.model=e,i._coordsMap[m]=_,i._coordsList.push(_),_.addAxis(p),_.addAxis(h)})});function u(p){return function(c,h){if(rf(c,e)){var v=c.get("position");p==="x"?v!=="top"&&v!=="bottom"&&(v=o.bottom?"top":"bottom"):v!=="left"&&v!=="right"&&(v=o.left?"right":"left"),o[v]=!0;var m=new dI(p,e2(c),[0,0],c.get("type"),v),_=m.type==="category";m.onBand=_&&c.get("boundaryGap"),m.inverse=c.get("inverse"),c.axis=m,m.model=c,m.grid=a,m.index=h,a._axesList.push(m),s[p][h]=m,l[p]++}}}},t.prototype._updateScale=function(e,r){z(this._axesList,function(i){if(i.scale.setExtent(1/0,-1/0),i.type==="category"){var a=i.model.get("categorySortInfo");i.scale.setSortInfo(a)}}),e.eachSeries(function(i){if(AI(i)){var a=qm(i),o=a.xAxisModel,s=a.yAxisModel;if(!rf(o,r)||!rf(s,r))return;var l=this.getCartesian(o.componentIndex,s.componentIndex),u=i.getData(),p=l.getAxis("x"),c=l.getAxis("y");n(u,p),n(u,c)}},this);function n(i,a){z(r2(i,a.dim),function(o){a.scale.unionExtentFromData(i,o)})}},t.prototype.getTooltipAxes=function(e){var r=[],n=[];return z(this.getCartesians(),function(i){var a=e!=null&&e!=="auto"?i.getAxis(e):i.getBaseAxis(),o=i.getOtherAxis(a);Ye(r,a)<0&&r.push(a),Ye(n,o)<0&&n.push(o)}),{baseAxes:r,otherAxes:n}},t.create=function(e,r){var n=[];return e.eachComponent("grid",function(i,a){var o=new t(i,e,r);o.name="grid_"+a,o.resize(i,r,!0),i.coordinateSystem=o,n.push(o)}),e.eachSeries(function(i){rE({targetModel:i,coordSysType:"cartesian2d",coordSysProvider:a});function a(){var o=qm(i),s=o.xAxisModel,l=o.yAxisModel,u=s.getCoordSysModel(),p=u.coordinateSystem;return p.getCartesian(s.componentIndex,l.componentIndex)}}),n},t.dimensions=wh,t})();function rf(t,e){return t.getCoordSysModel()===e}function Ym(t,e,r,n){r.getAxesOnZeroOf=function(){return a?[a]:[]};var i=t[e],a,o=r.model,s=o.get(["axisLine","onZero"]),l=o.get(["axisLine","onZeroAxisIndex"]);if(!s)return;if(l!=null)Km(i[l])&&(a=i[l]);else for(var u in i)if(i.hasOwnProperty(u)&&Km(i[u])&&!n[p(i[u])]){a=i[u];break}a&&(n[p(a)]=!0);function p(c){return c.dim+"_"+c.index}}function Km(t){return t&&t.type!=="category"&&t.type!=="time"&&t2(t)}function PI(t,e){var r=t.getExtent(),n=r[0]+r[1];t.toGlobalCoord=t.dim==="x"?function(i){return i+e}:function(i){return n-i+e},t.toLocalCoord=t.dim==="x"?function(i){return i-e}:function(i){return n-i+e}}function Jb(t,e){z(t.x,function(r){return Xm(r,e.x,e.width)}),z(t.y,function(r){return Xm(r,e.y,e.height)})}function Xm(t,e,r){var n=[0,r],i=t.inverse?1:0;t.setExtent(n[i],n[1-i]),PI(t,e)}function Zm(t,e,r,n,i,a,o){ew(n,i,Ar.estimate,e,!1,o);var s=[0,0,0,0];u(0),u(1),p(n,0,NaN),p(n,1,NaN);var l=lC(s,function(h){return h>0})==null;return Nl(n,s,!0,!0,r),Jb(i,n),l;function u(h){z(i[_i[h]],function(v){if(Wo(v.model)){var m=a.ensureRecord(v.model),_=m.labelInfoList;if(_)for(var y=0;y<_.length;y++){var b=_[y],C=v.scale.normalize(jo(b.label).tickValue);C=h===1?1-C:C,p(b.rect,h,C),p(b.rect,1-h,NaN)}var M=m.nameLayout;if(M){var C=Ea(m.nameLocation)?.5:NaN;p(M.rect,h,C),p(M.rect,1-h,NaN)}}})}function p(h,v,m){var _=t[_i[v]]-h[_i[v]],y=h[Po[v]]+h[_i[v]]-(t[Po[v]]+t[_i[v]]);_=c(_,1-m),y=c(y,m);var b=$m[v][0],C=$m[v][1];s[b]=ar(s[b],_),s[C]=ar(s[C],y)}function c(h,v){return h>0&&!Ao(v)&&v>1e-4&&(h/=v),h}}function RI(t,e,r,n,i){var a=new $b(BI);return z(r,function(o){return z(o,function(s){if(Wo(s.model)){var l=!n;s.axisBuilder=kI(t,e,s.model,i,a,l)}})}),a}function ew(t,e,r,n,i,a){var o=r===Ar.determine;z(e,function(u){return z(u,function(p){Wo(p.model)&&(DI(p.axisBuilder,t,p.model),p.axisBuilder.build(o?{axisTickLabelDetermine:!0}:{axisTickLabelEstimate:!0},{noPxChange:i}))})});var s={x:0,y:0};l(0),l(1);function l(u){s[_i[1-u]]=t[Po[u]]<=a.refContainer[Po[u]]*.5?0:1-u===1?2:1}z(e,function(u,p){return z(u,function(c){Wo(c.model)&&((n==="all"||o)&&c.axisBuilder.build({axisName:!0},{nameMarginLevel:s[p]}),o&&c.axisBuilder.build({axisLine:!0}))})})}function NI(t,e,r){var n,i=t.get("outerBoundsMode",!0);i==="same"?n=e.clone():(i==null||i==="auto")&&(n=Ta(t.get("outerBounds",!0)||Wb,r.refContainer));var a=t.get("outerBoundsContain",!0),o;a==null||a==="auto"||Ye(["all","axisLabel"],a)<0?o="all":o=a;var s=[Rf(ke(t.get("outerBoundsClampWidth",!0),Xl[0]),e.width),Rf(ke(t.get("outerBoundsClampHeight",!0),Xl[1]),e.height)];return{outerBoundsRect:n,parsedOuterBoundsContain:o,outerBoundsClamp:s}}var BI=function(t,e,r,n,i,a){var o=r.axis.dim==="x"?"y":"x";Yb(t,e,r,n,i,a),Ea(t.nameLocation)||z(e.recordMap[o],function(s){s&&s.labelInfoList&&s.dirVec&&Xb(s.labelInfoList,s.dirVec,n,i)})};function HI(t,e){var r={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return FI(r,t,e),r.seriesInvolved&&zI(r,t),r}function FI(t,e,r){var n=e.getComponent("tooltip"),i=e.getComponent("axisPointer"),a=i.get("link",!0)||[],o=[];z(r.getCoordinateSystems(),function(s){if(!s.axisPointerEnabled)return;var l=qo(s.model),u=t.coordSysAxesInfo[l]={};t.coordSysMap[l]=s;var p=s.model,c=p.getModel("tooltip",n);if(z(s.getAxes(),Dt(_,!1,null)),s.getTooltipAxes&&n&&c.get("show")){var h=c.get("trigger")==="axis",v=c.get(["axisPointer","type"])==="cross",m=s.getTooltipAxes(c.get(["axisPointer","axis"]));(h||v)&&z(m.baseAxes,Dt(_,v?"cross":!0,h)),v&&z(m.otherAxes,Dt(_,"cross",!1))}function _(y,b,C){var M=C.model.getModel("axisPointer",i),L=M.get("show");if(!(!L||L==="auto"&&!y&&!Ch(M))){b==null&&(b=M.get("triggerTooltip")),M=y?VI(C,c,i,e,y,b):M;var T=M.get("snap"),E=M.get("triggerEmphasis"),k=qo(C.model),P=b||T||C.type==="category",D=t.axesInfo[k]={key:k,axis:C,coordSys:s,axisPointerModel:M,triggerTooltip:b,triggerEmphasis:E,involveSeries:P,snap:T,useHandle:Ch(M),seriesModels:[],linkGroup:null};u[k]=D,t.seriesInvolved=t.seriesInvolved||P;var N=UI(a,C);if(N!=null){var B=o[N]||(o[N]={axesInfo:{}});B.axesInfo[k]=D,B.mapper=a[N].mapper,D.linkGroup=B}}}})}function VI(t,e,r,n,i,a){var o=e.getModel("axisPointer"),s=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],l={};z(s,function(h){l[h]=je(o.get(h))}),l.snap=t.type!=="category"&&!!a,o.get("type")==="cross"&&(l.type="line");var u=l.label||(l.label={});if(u.show==null&&(u.show=!1),i==="cross"){var p=o.get(["label","show"]);if(u.show=p??!0,!a){var c=l.lineStyle=o.get("crossStyle");c&&tt(u,c.textStyle)}}return t.model.getModel("axisPointer",new pt(l,r,n))}function zI(t,e){e.eachSeries(function(r){var n=r.coordinateSystem,i=r.get(["tooltip","trigger"],!0),a=r.get(["tooltip","show"],!0);!n||!n.model||i==="none"||i===!1||i==="item"||a===!1||r.get(["axisPointer","show"],!0)===!1||z(t.coordSysAxesInfo[qo(n.model)],function(o){var s=o.axis;n.getAxis(s.dim)===s&&(o.seriesModels.push(r),o.seriesDataCount==null&&(o.seriesDataCount=0),o.seriesDataCount+=r.getData().count())})})}function UI(t,e){for(var r=e.model,n=e.dim,i=0;i<t.length;i++){var a=t[i]||{};if(nf(a[n+"AxisId"],r.id)||nf(a[n+"AxisIndex"],r.componentIndex)||nf(a[n+"AxisName"],r.name))return i}}function nf(t,e){return t==="all"||be(t)&&Ye(t,e)>=0||t===e}function GI(t){var e=$d(t);if(e){var r=e.axisPointerModel,n=e.axis.scale,i=r.option,a=r.get("status"),o=r.get("value");o!=null&&(o=n.parse(o));var s=Ch(r);a==null&&(i.status=s?"show":"hide");var l=n.getExtent().slice();l[0]>l[1]&&l.reverse(),(o==null||o>l[1])&&(o=l[1]),o<l[0]&&(o=l[0]),i.value=o,s&&(i.status=e.axis.scale.isBlank()?"hide":"show")}}function $d(t){var e=(t.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[qo(t)]}function WI(t){var e=$d(t);return e&&e.axisPointerModel}function Ch(t){return!!t.get(["handle","show"])}function qo(t){return t.type+"||"+t.id}var Qm={},tw=(function(t){_e(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.render=function(r,n,i,a){this.axisPointerClass&&GI(r),t.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(r,i,!0)},e.prototype.updateAxisPointer=function(r,n,i,a){this._doUpdateAxisPointerClass(r,i,!1)},e.prototype.remove=function(r,n){var i=this._axisPointer;i&&i.remove(n)},e.prototype.dispose=function(r,n){this._disposeAxisPointer(n),t.prototype.dispose.apply(this,arguments)},e.prototype._doUpdateAxisPointerClass=function(r,n,i){var a=e.getAxisPointerClass(this.axisPointerClass);if(a){var o=WI(r);o?(this._axisPointer||(this._axisPointer=new a)).render(r,o,n,i):this._disposeAxisPointer(n)}},e.prototype._disposeAxisPointer=function(r){this._axisPointer&&this._axisPointer.dispose(r),this._axisPointer=null},e.registerAxisPointerClass=function(r,n){Qm[r]=n},e.getAxisPointerClass=function(r){return r&&Qm[r]},e.type="axis",e})(Er),Th=gt();function jI(t,e,r,n){var i=r.axis;if(!i.scale.isBlank()){var a=r.getModel("splitArea"),o=a.getModel("areaStyle"),s=o.get("color"),l=n.coordinateSystem.getRect(),u=i.getTicksCoords({tickModel:a,clamp:!0,breakTicks:"none",pruneByBreak:"preserve_extent_bound"});if(u.length){var p=s.length,c=Th(t).splitAreaColors,h=He(),v=0;if(c)for(var m=0;m<u.length;m++){var _=c.get(u[m].tickValue);if(_!=null){v=(_+(p-1)*m)%p;break}}var y=i.toGlobalCoord(u[0].coord),b=o.getAreaStyle();s=be(s)?s:[s];for(var m=1;m<u.length;m++){var C=i.toGlobalCoord(u[m].coord),M=void 0,L=void 0,T=void 0,E=void 0;i.isHorizontal()?(M=y,L=l.y,T=C-M,E=l.height,y=M+T):(M=l.x,L=y,T=l.width,E=C-L,y=L+E);var k=u[m-1].tickValue;k!=null&&h.set(k,v),e.add(new St({anid:k!=null?"area_"+k:null,shape:{x:M,y:L,width:T,height:E},style:tt({fill:s[v]},b),autoBatch:!0,silent:!0})),v=(v+1)%p}Th(t).splitAreaColors=h}}}function qI(t){Th(t).splitAreaColors=null}var $I=["splitArea","splitLine","minorSplitLine","breakArea"],rw=(function(t){_e(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.axisPointerClass="CartesianAxisPointer",r}return e.prototype.render=function(r,n,i,a){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new Rt,this.group.add(this._axisGroup),!!Wo(r)){this._axisGroup.add(r.axis.axisBuilder.group),z($I,function(l){r.get([l,"show"])&&YI[l](this,this._axisGroup,r,r.getCoordSysModel(),i)},this);var s=a&&a.type==="changeAxisOrder"&&a.isInitSort;s||j0(o,this._axisGroup,r),t.prototype.render.call(this,r,n,i,a)}},e.prototype.remove=function(){qI(this)},e.type="cartesianAxis",e})(tw),YI={splitLine:function(t,e,r,n,i){var a=r.axis;if(!a.scale.isBlank()){var o=r.getModel("splitLine"),s=o.getModel("lineStyle"),l=s.get("color"),u=o.get("showMinLine")!==!1,p=o.get("showMaxLine")!==!1;l=be(l)?l:[l];for(var c=n.coordinateSystem.getRect(),h=a.isHorizontal(),v=0,m=a.getTicksCoords({tickModel:o,breakTicks:"none",pruneByBreak:"preserve_extent_bound"}),_=[],y=[],b=s.getLineStyle(),C=0;C<m.length;C++){var M=a.toGlobalCoord(m[C].coord);if(!(C===0&&!u||C===m.length-1&&!p)){var L=m[C].tickValue;h?(_[0]=M,_[1]=c.y,y[0]=M,y[1]=c.y+c.height):(_[0]=c.x,_[1]=M,y[0]=c.x+c.width,y[1]=M);var T=v++%l.length,E=new Hn({anid:L!=null?"line_"+L:null,autoBatch:!0,shape:{x1:_[0],y1:_[1],x2:y[0],y2:y[1]},style:tt({stroke:l[T]},b),silent:!0});Ro(E.shape,b.lineWidth),e.add(E)}}}},minorSplitLine:function(t,e,r,n,i){var a=r.axis,o=r.getModel("minorSplitLine"),s=o.getModel("lineStyle"),l=n.coordinateSystem.getRect(),u=a.isHorizontal(),p=a.getMinorTicksCoords();if(p.length)for(var c=[],h=[],v=s.getLineStyle(),m=0;m<p.length;m++)for(var _=0;_<p[m].length;_++){var y=a.toGlobalCoord(p[m][_].coord);u?(c[0]=y,c[1]=l.y,h[0]=y,h[1]=l.y+l.height):(c[0]=l.x,c[1]=y,h[0]=l.x+l.width,h[1]=y);var b=new Hn({anid:"minor_line_"+p[m][_].tickValue,autoBatch:!0,shape:{x1:c[0],y1:c[1],x2:h[0],y2:h[1]},style:v,silent:!0});Ro(b.shape,v.lineWidth),e.add(b)}},splitArea:function(t,e,r,n,i){jI(t,e,r,n)},breakArea:function(t,e,r,n,i){r.axis.scale}},nw=(function(t){_e(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.type="xAxis",e})(rw),KI=(function(t){_e(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=nw.type,r}return e.type="yAxis",e})(rw),XI=(function(t){_e(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="grid",r}return e.prototype.render=function(r,n){this.group.removeAll(),r.get("show")&&this.group.add(new St({shape:r.coordinateSystem.getRect(),style:tt({fill:r.get("backgroundColor")},r.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e})(Er),Jm={offset:0};function ZI(t){t.registerComponentView(XI),t.registerComponentModel(nI),t.registerCoordinateSystem("cartesian2d",OI),zm(t,"x",bh,Jm),zm(t,"y",bh,Jm),t.registerComponentView(nw),t.registerComponentView(KI),t.registerPreprocessor(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})})}var bi=gt(),ey=je,af=it,QI=(function(){function t(){this._dragging=!1,this.animationThreshold=15}return t.prototype.render=function(e,r,n,i){var a=r.get("value"),o=r.get("status");if(this._axisModel=e,this._axisPointerModel=r,this._api=n,!(!i&&this._lastValue===a&&this._lastStatus===o)){this._lastValue=a,this._lastStatus=o;var s=this._group,l=this._handle;if(!o||o==="hide"){s&&s.hide(),l&&l.hide();return}s&&s.show(),l&&l.show();var u={};this.makeElOption(u,a,e,r,n);var p=u.graphicKey;p!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=p;var c=this._moveAnimation=this.determineAnimation(e,r);if(!s)s=this._group=new Rt,this.createPointerEl(s,u,e,r),this.createLabelEl(s,u,e,r),n.getZr().add(s);else{var h=Dt(ty,r,c);this.updatePointerEl(s,u,h),this.updateLabelEl(s,u,h,r)}ny(s,r,!0),this._renderHandle(a)}},t.prototype.remove=function(e){this.clear(e)},t.prototype.dispose=function(e){this.clear(e)},t.prototype.determineAnimation=function(e,r){var n=r.get("animation"),i=e.axis,a=i.type==="category",o=r.get("snap");if(!o&&!a)return!1;if(n==="auto"||n==null){var s=this.animationThreshold;if(a&&i.getBandWidth()>s)return!0;if(o){var l=$d(e).seriesDataCount,u=i.getExtent();return Math.abs(u[0]-u[1])/l>s}return!1}return n===!0},t.prototype.makeElOption=function(e,r,n,i,a){},t.prototype.createPointerEl=function(e,r,n,i){var a=r.pointer;if(a){var o=bi(e).pointerEl=new wL[a.type](ey(r.pointer));e.add(o)}},t.prototype.createLabelEl=function(e,r,n,i){if(r.label){var a=bi(e).labelEl=new Ht(ey(r.label));e.add(a),ry(a,i)}},t.prototype.updatePointerEl=function(e,r,n){var i=bi(e).pointerEl;i&&r.pointer&&(i.setStyle(r.pointer.style),n(i,{shape:r.pointer.shape}))},t.prototype.updateLabelEl=function(e,r,n,i){var a=bi(e).labelEl;a&&(a.setStyle(r.label.style),n(a,{x:r.label.x,y:r.label.y}),ry(a,i))},t.prototype._renderHandle=function(e){if(!(this._dragging||!this.updateHandleTransform)){var r=this._axisPointerModel,n=this._api.getZr(),i=this._handle,a=r.getModel("handle"),o=r.get("status");if(!a.get("show")||!o||o==="hide"){i&&n.remove(i),this._handle=null;return}var s;this._handle||(s=!0,i=this._handle=cd(a.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(u){Ny(u.event)},onmousedown:af(this._onHandleDragMove,this,0,0),drift:af(this._onHandleDragMove,this),ondragend:af(this._onHandleDragEnd,this)}),n.add(i)),ny(i,r,!1),i.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=a.get("size");be(l)||(l=[l,l]),i.scaleX=l[0]/2,i.scaleY=l[1]/2,F_(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,s)}},t.prototype._moveHandleToValue=function(e,r){ty(this._axisPointerModel,!r&&this._moveAnimation,this._handle,of(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},t.prototype._onHandleDragMove=function(e,r){var n=this._handle;if(n){this._dragging=!0;var i=this.updateHandleTransform(of(n),[e,r],this._axisModel,this._axisPointerModel);this._payloadInfo=i,n.stopAnimation(),n.attr(of(i)),bi(n).lastProp=null,this._doDispatchAxisPointer()}},t.prototype._doDispatchAxisPointer=function(){var e=this._handle;if(e){var r=this._payloadInfo,n=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:r.cursorPoint[0],y:r.cursorPoint[1],tooltipOption:r.tooltipOption,axesInfo:[{axisDim:n.axis.dim,axisIndex:n.componentIndex}]})}},t.prototype._onHandleDragEnd=function(){this._dragging=!1;var e=this._handle;if(e){var r=this._axisPointerModel.get("value");this._moveHandleToValue(r),this._api.dispatchAction({type:"hideTip"})}},t.prototype.clear=function(e){this._lastValue=null,this._lastStatus=null;var r=e.getZr(),n=this._group,i=this._handle;r&&n&&(this._lastGraphicKey=null,n&&r.remove(n),i&&r.remove(i),this._group=null,this._handle=null,this._payloadInfo=null),nh(this,"_doDispatchAxisPointer")},t.prototype.doClear=function(){},t.prototype.buildLabel=function(e,r,n){return n=n||0,{x:e[n],y:e[1-n],width:r[n],height:r[1-n]}},t})();function ty(t,e,r,n){iw(bi(r).lastProp,n)||(bi(r).lastProp=n,e?Fn(r,n,t):(r.stopAnimation(),r.attr(n)))}function iw(t,e){if(Ae(t)&&Ae(e)){var r=!0;return z(e,function(n,i){r=r&&iw(t[i],n)}),!!r}else return t===e}function ry(t,e){t[e.get(["label","show"])?"show":"hide"]()}function of(t){return{x:t.x||0,y:t.y||0,rotation:t.rotation||0}}function ny(t,e,r){var n=e.get("z"),i=e.get("zlevel");t&&t.traverse(function(a){a.type!=="group"&&(n!=null&&(a.z=n),i!=null&&(a.zlevel=i),a.silent=r)})}function JI(t){var e=t.get("type"),r=t.getModel(e+"Style"),n;return e==="line"?(n=r.getLineStyle(),n.fill=null):e==="shadow"&&(n=r.getAreaStyle(),n.stroke=null),n}function eO(t,e,r,n,i){var a=r.get("value"),o=aw(a,e.axis,e.ecModel,r.get("seriesDataIndices"),{precision:r.get(["label","precision"]),formatter:r.get(["label","formatter"])}),s=r.getModel("label"),l=yu(s.get("padding")||0),u=s.getFont(),p=e0(o,u),c=i.position,h=p.width+l[1]+l[3],v=p.height+l[0]+l[2],m=i.align;m==="right"&&(c[0]-=h),m==="center"&&(c[0]-=h/2);var _=i.verticalAlign;_==="bottom"&&(c[1]-=v),_==="middle"&&(c[1]-=v/2),tO(c,h,v,n);var y=s.get("backgroundColor");(!y||y==="auto")&&(y=e.get(["axisLine","lineStyle","color"])),t.label={x:c[0],y:c[1],style:Vn(s,{text:o,font:u,fill:s.getTextColor(),padding:l,backgroundColor:y}),z2:10}}function tO(t,e,r,n){var i=n.getWidth(),a=n.getHeight();t[0]=Math.min(t[0]+e,i)-e,t[1]=Math.min(t[1]+r,a)-r,t[0]=Math.max(t[0],0),t[1]=Math.max(t[1],0)}function aw(t,e,r,n,i){t=e.scale.parse(t);var a=e.scale.getLabel({value:t},{precision:i.precision}),o=i.formatter;if(o){var s={value:ql(e,{value:t}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};z(n,function(l){var u=r.getSeriesByIndex(l.seriesIndex),p=l.dataIndexInside,c=u&&u.getDataParams(p);c&&s.seriesData.push(c)}),xe(o)?a=o.replace("{value}",a):Ie(o)&&(a=o(s))}return a}function ow(t,e,r){var n=fn();return Gh(n,n,r.rotation),_f(n,n,r.position),ud([t.dataToCoord(e),(r.labelOffset||0)+(r.labelDirection||1)*(r.labelMargin||0)],n)}function rO(t,e,r,n,i,a){var o=Rn.innerTextLayout(r.rotation,0,r.labelDirection);r.labelMargin=i.get(["label","margin"]),eO(e,n,i,a,{position:ow(n.axis,t,r),align:o.textAlign,verticalAlign:o.textVerticalAlign})}function nO(t,e,r){return r=r||0,{x1:t[r],y1:t[1-r],x2:e[r],y2:e[1-r]}}function iO(t,e,r){return r=r||0,{x:t[r],y:t[1-r],width:e[r],height:e[1-r]}}var aO=(function(t){_e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.makeElOption=function(r,n,i,a,o){var s=i.axis,l=s.grid,u=a.get("type"),p=iy(l,s).getOtherAxis(s).getGlobalExtent(),c=s.toGlobalCoord(s.dataToCoord(n,!0));if(u&&u!=="none"){var h=JI(a),v=oO[u](s,c,p);v.style=h,r.graphicKey=v.type,r.pointer=v}var m=Zl(l.getRect(),i);rO(n,r,m,i,a,o)},e.prototype.getHandleTransform=function(r,n,i){var a=Zl(n.axis.grid.getRect(),n,{labelInside:!1});a.labelMargin=i.get(["handle","margin"]);var o=ow(n.axis,r,a);return{x:o[0],y:o[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(r,n,i,a){var o=i.axis,s=o.grid,l=o.getGlobalExtent(!0),u=iy(s,o).getOtherAxis(o).getGlobalExtent(),p=o.dim==="x"?0:1,c=[r.x,r.y];c[p]+=n[p],c[p]=Math.min(l[1],c[p]),c[p]=Math.max(l[0],c[p]);var h=(u[1]+u[0])/2,v=[h,h];v[p]=c[p];var m=[{verticalAlign:"middle"},{align:"center"}];return{x:c[0],y:c[1],rotation:r.rotation,cursorPoint:v,tooltipOption:m[p]}},e})(QI);function iy(t,e){var r={};return r[e.dim+"AxisIndex"]=e.index,t.getCartesian(r)}var oO={line:function(t,e,r){var n=nO([e,r[0]],[e,r[1]],ay(t));return{type:"Line",subPixelOptimize:!0,shape:n}},shadow:function(t,e,r){var n=Math.max(1,t.getBandWidth()),i=r[1]-r[0];return{type:"Rect",shape:iO([e-n/2,r[0]],[n,i],ay(t))}}};function ay(t){return t.dim==="x"?0:1}var sO=(function(t){_e(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.type="axisPointer",e.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:Le.color.border,width:1,type:"dashed"},shadowStyle:{color:Le.color.shadowTint},label:{show:!0,formatter:null,precision:"auto",margin:3,color:Le.color.neutral00,padding:[5,7,5,7],backgroundColor:Le.color.accent60,borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:Le.color.accent40,throttle:40}},e})(et),cn=gt(),lO=z;function sw(t,e,r){if(!Pe.node){var n=e.getZr();cn(n).records||(cn(n).records={}),uO(n,e);var i=cn(n).records[t]||(cn(n).records[t]={});i.handler=r}}function uO(t,e){if(cn(t).initialized)return;cn(t).initialized=!0,r("click",Dt(oy,"click")),r("mousemove",Dt(oy,"mousemove")),r("globalout",fO);function r(n,i){t.on(n,function(a){var o=hO(e);lO(cn(t).records,function(s){s&&i(s,a,o.dispatchAction)}),cO(o.pendings,e)})}}function cO(t,e){var r=t.showTip.length,n=t.hideTip.length,i;r?i=t.showTip[r-1]:n&&(i=t.hideTip[n-1]),i&&(i.dispatchAction=null,e.dispatchAction(i))}function fO(t,e,r){t.handler("leave",null,r)}function oy(t,e,r,n){e.handler(t,r,n)}function hO(t){var e={showTip:[],hideTip:[]},r=function(n){var i=e[n.type];i?i.push(n):(n.dispatchAction=r,t.dispatchAction(n))};return{dispatchAction:r,pendings:e}}function xh(t,e){if(!Pe.node){var r=e.getZr(),n=(cn(r).records||{})[t];n&&(cn(r).records[t]=null)}}var dO=(function(t){_e(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.render=function(r,n,i){var a=n.getComponent("tooltip"),o=r.get("triggerOn")||a&&a.get("triggerOn")||"mousemove|click";sw("axisPointer",i,function(s,l,u){o!=="none"&&(s==="leave"||o.indexOf(s)>=0)&&u({type:"updateAxisPointer",currTrigger:s,x:l&&l.offsetX,y:l&&l.offsetY})})},e.prototype.remove=function(r,n){xh("axisPointer",n)},e.prototype.dispose=function(r,n){xh("axisPointer",n)},e.type="axisPointer",e})(Er);function lw(t,e){var r=[],n=t.seriesIndex,i;if(n==null||!(i=e.getSeriesByIndex(n)))return{point:[]};var a=i.getData(),o=Ii(a,t);if(o==null||o<0||be(o))return{point:[]};var s=a.getItemGraphicEl(o),l=i.coordinateSystem;if(i.getTooltipPosition)r=i.getTooltipPosition(o)||[];else if(l&&l.dataToPoint)if(t.isStacked){var u=l.getBaseAxis(),p=l.getOtherAxis(u),c=p.dim,h=u.dim,v=c==="x"||c==="radius"?1:0,m=a.mapDimension(h),_=[];_[v]=a.get(m,o),_[1-v]=a.get(a.getCalculationInfo("stackResultDimension"),o),r=l.dataToPoint(_)||[]}else r=l.dataToPoint(a.getValues(De(l.dimensions,function(b){return a.mapDimension(b)}),o))||[];else if(s){var y=s.getBoundingRect().clone();y.applyTransform(s.transform),r=[y.x+y.width/2,y.y+y.height/2]}return{point:r,el:s}}var sy=gt();function pO(t,e,r){var n=t.currTrigger,i=[t.x,t.y],a=t,o=t.dispatchAction||it(r.dispatchAction,r),s=e.getComponent("axisPointer").coordSysAxesInfo;if(s){gl(i)&&(i=lw({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},e).point);var l=gl(i),u=a.axesInfo,p=s.axesInfo,c=n==="leave"||gl(i),h={},v={},m={list:[],map:{}},_={showPointer:Dt(gO,v),showTooltip:Dt(mO,m)};z(s.coordSysMap,function(b,C){var M=l||b.containPoint(i);z(s.coordSysAxesInfo[C],function(L,T){var E=L.axis,k=wO(u,L);if(!c&&M&&(!u||k)){var P=k&&k.value;P==null&&!l&&(P=E.pointToData(i)),P!=null&&ly(L,P,_,!1,h)}})});var y={};return z(p,function(b,C){var M=b.linkGroup;M&&!v[C]&&z(M.axesInfo,function(L,T){var E=v[T];if(L!==b&&E){var k=E.value;M.mapper&&(k=b.axis.scale.parse(M.mapper(k,uy(L),uy(b)))),y[b.key]=k}})}),z(y,function(b,C){ly(p[C],b,_,!0,h)}),yO(v,p,h),_O(m,i,t,o),bO(p,o,r),h}}function ly(t,e,r,n,i){var a=t.axis;if(!(a.scale.isBlank()||!a.containData(e))){if(!t.involveSeries){r.showPointer(t,e);return}var o=vO(e,t),s=o.payloadBatch,l=o.snapToValue;s[0]&&i.seriesIndex==null&&pe(i,s[0]),!n&&t.snap&&a.containData(l)&&l!=null&&(e=l),r.showPointer(t,e,s),r.showTooltip(t,o,l)}}function vO(t,e){var r=e.axis,n=r.dim,i=t,a=[],o=Number.MAX_VALUE,s=-1;return z(e.seriesModels,function(l,u){var p=l.getData().mapDimensionsAll(n),c,h;if(l.getAxisTooltipData){var v=l.getAxisTooltipData(p,t,r);h=v.dataIndices,c=v.nestestValue}else{if(h=l.indicesOfNearest(n,p[0],t,r.type==="category"?.5:null),!h.length)return;c=l.getData().get(p[0],h[0])}if(!(c==null||!isFinite(c))){var m=t-c,_=Math.abs(m);_<=o&&((_<o||m>=0&&s<0)&&(o=_,s=m,i=c,a.length=0),z(h,function(y){a.push({seriesIndex:l.seriesIndex,dataIndexInside:y,dataIndex:l.getData().getRawIndex(y)})}))}}),{payloadBatch:a,snapToValue:i}}function gO(t,e,r,n){t[e.key]={value:r,payloadBatch:n}}function mO(t,e,r,n){var i=r.payloadBatch,a=e.axis,o=a.model,s=e.axisPointerModel;if(!(!e.triggerTooltip||!i.length)){var l=e.coordSys.model,u=qo(l),p=t.map[u];p||(p=t.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},t.list.push(p)),p.dataByAxis.push({axisDim:a.dim,axisIndex:o.componentIndex,axisType:o.type,axisId:o.id,value:n,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:i.slice()})}}function yO(t,e,r){var n=r.axesInfo=[];z(e,function(i,a){var o=i.axisPointerModel.option,s=t[a];s?(!i.useHandle&&(o.status="show"),o.value=s.value,o.seriesDataIndices=(s.payloadBatch||[]).slice()):!i.useHandle&&(o.status="hide"),o.status==="show"&&n.push({axisDim:i.axis.dim,axisIndex:i.axis.model.componentIndex,value:o.value})})}function _O(t,e,r,n){if(gl(e)||!t.list.length){n({type:"hideTip"});return}var i=((t.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};n({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:r.tooltipOption,position:r.position,dataIndexInside:i.dataIndexInside,dataIndex:i.dataIndex,seriesIndex:i.seriesIndex,dataByCoordSys:t.list})}function bO(t,e,r){var n=r.getZr(),i="axisPointerLastHighlights",a=sy(n)[i]||{},o=sy(n)[i]={};z(t,function(u,p){var c=u.axisPointerModel.option;c.status==="show"&&u.triggerEmphasis&&z(c.seriesDataIndices,function(h){var v=h.seriesIndex+" | "+h.dataIndex;o[v]=h})});var s=[],l=[];z(a,function(u,p){!o[p]&&l.push(u)}),z(o,function(u,p){!a[p]&&s.push(u)}),l.length&&r.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),s.length&&r.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:s})}function wO(t,e){for(var r=0;r<(t||[]).length;r++){var n=t[r];if(e.axis.dim===n.axisDim&&e.axis.model.componentIndex===n.axisIndex)return n}}function uy(t){var e=t.axis.model,r={},n=r.axisDim=t.axis.dim;return r.axisIndex=r[n+"AxisIndex"]=e.componentIndex,r.axisName=r[n+"AxisName"]=e.name,r.axisId=r[n+"AxisId"]=e.id,r}function gl(t){return!t||t[0]==null||isNaN(t[0])||t[1]==null||isNaN(t[1])}function uw(t){tw.registerAxisPointerClass("CartesianAxisPointer",aO),t.registerComponentModel(sO),t.registerComponentView(dO),t.registerPreprocessor(function(e){if(e){(!e.axisPointer||e.axisPointer.length===0)&&(e.axisPointer={});var r=e.axisPointer.link;r&&!be(r)&&(e.axisPointer.link=[r])}}),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,function(e,r){e.getComponent("axisPointer").coordSysAxesInfo=HI(e,r)}),t.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},pO)}function SO(t){Gn(ZI),Gn(uw)}function CO(t,e){var r=yu(e.get("padding")),n=e.getItemStyle(["color","opacity"]);n.fill=e.get("backgroundColor");var i=new St({shape:{x:t.x-r[3],y:t.y-r[0],width:t.width+r[1]+r[3],height:t.height+r[0]+r[2],r:e.get("borderRadius")},style:n,silent:!0,z2:-1});return i}var TO=(function(t){_e(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,displayTransition:!0,enterable:!1,backgroundColor:Le.color.neutral00,shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,defaultBorderColor:Le.color.border,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:Le.color.borderShade,width:1,type:"dashed",textStyle:{}}},textStyle:{color:Le.color.tertiary,fontSize:14}},e})(et);function cw(t){var e=t.get("confine");return e!=null?!!e:t.get("renderMode")==="richText"}function fw(t){if(Pe.domSupported){for(var e=document.documentElement.style,r=0,n=t.length;r<n;r++)if(t[r]in e)return t[r]}}var hw=fw(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),xO=fw(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function dw(t,e){if(!t)return e;e=u_(e,!0);var r=t.indexOf(e);return t=r===-1?e:"-"+t.slice(0,r)+"-"+e,t.toLowerCase()}function MO(t,e){var r=t.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(t);return r?r[e]:null}var LO=dw(xO,"transition"),Yd=dw(hw,"transform"),EO="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(Pe.transform3dSupported?"will-change:transform;":"");function AO(t){return t=t==="left"?"right":t==="right"?"left":t==="top"?"bottom":"top",t}function kO(t,e,r){if(!xe(r)||r==="inside")return"";var n=t.get("backgroundColor"),i=t.get("borderWidth");e=Pi(e);var a=AO(r),o=Math.max(Math.round(i)*1.5,6),s="",l=Yd+":",u;Ye(["left","right"],a)>-1?(s+="top:50%",l+="translateY(-50%) rotate("+(u=a==="left"?-225:-45)+"deg)"):(s+="left:50%",l+="translateX(-50%) rotate("+(u=a==="top"?225:45)+"deg)");var p=u*Math.PI/180,c=o+i,h=c*Math.abs(Math.cos(p))+c*Math.abs(Math.sin(p)),v=Math.round(((h-Math.SQRT2*i)/2+Math.SQRT2*i-(h-c)/2)*100)/100;s+=";"+a+":-"+v+"px";var m=e+" solid "+i+"px;",_=["position:absolute;width:"+o+"px;height:"+o+"px;z-index:-1;",s+";"+l+";","border-bottom:"+m,"border-right:"+m,"background-color:"+n+";"];return'<div style="'+_.join("")+'"></div>'}function DO(t,e,r){var n="cubic-bezier(0.23,1,0.32,1)",i="",a="";return r&&(i=" "+t/2+"s "+n,a="opacity"+i+",visibility"+i),e||(i=" "+t+"s "+n,a+=(a.length?",":"")+(Pe.transformSupported?""+Yd+i:",left"+i+",top"+i)),LO+":"+a}function cy(t,e,r){var n=t.toFixed(0)+"px",i=e.toFixed(0)+"px";if(!Pe.transformSupported)return r?"top:"+i+";left:"+n+";":[["top",i],["left",n]];var a=Pe.transform3dSupported,o="translate"+(a?"3d":"")+"("+n+","+i+(a?",0":"")+")";return r?"top:0;left:0;"+Yd+":"+o+";":[["top",0],["left",0],[hw,o]]}function IO(t){var e=[],r=t.get("fontSize"),n=t.getTextColor();n&&e.push("color:"+n),e.push("font:"+t.getFont());var i=ke(t.get("lineHeight"),Math.round(r*3/2));r&&e.push("line-height:"+i+"px");var a=t.get("textShadowColor"),o=t.get("textShadowBlur")||0,s=t.get("textShadowOffsetX")||0,l=t.get("textShadowOffsetY")||0;return a&&o&&e.push("text-shadow:"+s+"px "+l+"px "+o+"px "+a),z(["decoration","align"],function(u){var p=t.get(u);p&&e.push("text-"+u+":"+p)}),e.join(";")}function OO(t,e,r,n){var i=[],a=t.get("transitionDuration"),o=t.get("backgroundColor"),s=t.get("shadowBlur"),l=t.get("shadowColor"),u=t.get("shadowOffsetX"),p=t.get("shadowOffsetY"),c=t.getModel("textStyle"),h=N_(t,"html"),v=u+"px "+p+"px "+s+"px "+l;return i.push("box-shadow:"+v),e&&a>0&&i.push(DO(a,r,n)),o&&i.push("background-color:"+o),z(["width","color","radius"],function(m){var _="border-"+m,y=u_(_),b=t.get(y);b!=null&&i.push(_+":"+b+(m==="color"?"":"px"))}),i.push(IO(c)),h!=null&&i.push("padding:"+yu(h).join("px ")+"px"),i.join(";")+";"}function fy(t,e,r,n,i){var a=e&&e.painter;if(r){var o=a&&a.getViewportRoot();o&&xC(t,o,r,n,i)}else{t[0]=n,t[1]=i;var s=a&&a.getViewportRootOffset();s&&(t[0]+=s.offsetLeft,t[1]+=s.offsetTop)}t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}var PO=(function(){function t(e,r){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,Pe.wxa)return null;var n=document.createElement("div");n.domBelongToZr=!0,this.el=n;var i=this._zr=e.getZr(),a=r.appendTo,o=a&&(xe(a)?document.querySelector(a):Eo(a)?a:Ie(a)&&a(e.getDom()));fy(this._styleCoord,i,o,e.getWidth()/2,e.getHeight()/2),(o||e.getDom()).appendChild(n),this._api=e,this._container=o;var s=this;n.onmouseenter=function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0},n.onmousemove=function(l){if(l=l||window.event,!s._enterable){var u=i.handler,p=i.painter.getViewportRoot();hr(p,l,!0),u.dispatch("mousemove",l)}},n.onmouseleave=function(){s._inContent=!1,s._enterable&&s._show&&s.hideLater(s._hideDelay)}}return t.prototype.update=function(e){if(!this._container){var r=this._api.getDom(),n=MO(r,"position"),i=r.style;i.position!=="absolute"&&n!=="absolute"&&(i.position="relative")}var a=e.get("alwaysShowContent");a&&this._moveIfResized(),this._alwaysShowContent=a,this._enableDisplayTransition=e.get("displayTransition")&&e.get("transitionDuration")>0,this.el.className=e.get("className")||""},t.prototype.show=function(e,r){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var n=this.el,i=n.style,a=this._styleCoord;n.innerHTML?i.cssText=EO+OO(e,!this._firstShow,this._longHide,this._enableDisplayTransition)+cy(a[0],a[1],!0)+("border-color:"+Pi(r)+";")+(e.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):i.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},t.prototype.setContent=function(e,r,n,i,a){var o=this.el;if(e==null){o.innerHTML="";return}var s="";if(xe(a)&&n.get("trigger")==="item"&&!cw(n)&&(s=kO(n,i,a)),xe(e))o.innerHTML=e+s;else if(e){o.innerHTML="",be(e)||(e=[e]);for(var l=0;l<e.length;l++)Eo(e[l])&&e[l].parentNode!==o&&o.appendChild(e[l]);if(s&&o.childNodes.length){var u=document.createElement("div");u.innerHTML=s,o.appendChild(u)}}},t.prototype.setEnterable=function(e){this._enterable=e},t.prototype.getSize=function(){var e=this.el;return e?[e.offsetWidth,e.offsetHeight]:[0,0]},t.prototype.moveTo=function(e,r){if(this.el){var n=this._styleCoord;if(fy(n,this._zr,this._container,e,r),n[0]!=null&&n[1]!=null){var i=this.el.style,a=cy(n[0],n[1]);z(a,function(o){i[o[0]]=o[1]})}}},t.prototype._moveIfResized=function(){var e=this._styleCoord[2],r=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),r*this._zr.getHeight())},t.prototype.hide=function(){var e=this,r=this.el.style;this._enableDisplayTransition?(r.visibility="hidden",r.opacity="0"):r.display="none",Pe.transform3dSupported&&(r.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return e._longHide=!0},500)},t.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(it(this.hide,this),e)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var e=this._zr;MC(e&&e.painter&&e.painter.getViewportRoot(),this._container);var r=this.el;if(r){r.onmouseenter=r.onmousemove=r.onmouseleave=null;var n=r.parentNode;n&&n.removeChild(r)}this.el=this._container=null},t})(),RO=(function(){function t(e){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=e.getZr(),dy(this._styleCoord,this._zr,e.getWidth()/2,e.getHeight()/2)}return t.prototype.update=function(e){var r=e.get("alwaysShowContent");r&&this._moveIfResized(),this._alwaysShowContent=r},t.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},t.prototype.setContent=function(e,r,n,i,a){var o=this;Ae(e)&&Kt(""),this.el&&this._zr.remove(this.el);var s=n.getModel("textStyle");this.el=new Ht({style:{rich:r.richTextStyles,text:e,lineHeight:22,borderWidth:1,borderColor:i,textShadowColor:s.get("textShadowColor"),fill:n.get(["textStyle","color"]),padding:N_(n,"richText"),verticalAlign:"top",align:"left"},z:n.get("z")}),z(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(u){o.el.style[u]=n.get(u)}),z(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(u){o.el.style[u]=s.get(u)||0}),this._zr.add(this.el);var l=this;this.el.on("mouseover",function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on("mouseout",function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1})},t.prototype.setEnterable=function(e){this._enterable=e},t.prototype.getSize=function(){var e=this.el,r=this.el.getBoundingRect(),n=hy(e.style);return[r.width+n.left+n.right,r.height+n.top+n.bottom]},t.prototype.moveTo=function(e,r){var n=this.el;if(n){var i=this._styleCoord;dy(i,this._zr,e,r),e=i[0],r=i[1];var a=n.style,o=An(a.borderWidth||0),s=hy(a);n.x=e+o+s.left,n.y=r+o+s.top,n.markRedraw()}},t.prototype._moveIfResized=function(){var e=this._styleCoord[2],r=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),r*this._zr.getHeight())},t.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},t.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(it(this.hide,this),e)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){this._zr.remove(this.el)},t})();function An(t){return Math.max(0,t)}function hy(t){var e=An(t.shadowBlur||0),r=An(t.shadowOffsetX||0),n=An(t.shadowOffsetY||0);return{left:An(e-r),right:An(e+r),top:An(e-n),bottom:An(e+n)}}function dy(t,e,r,n){t[0]=r,t[1]=n,t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}var NO=new St({shape:{x:-1,y:-1,width:2,height:2}}),BO=(function(t){_e(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.init=function(r,n){if(!(Pe.node||!n.getDom())){var i=r.getComponent("tooltip"),a=this._renderMode=ix(i.get("renderMode"));this._tooltipContent=a==="richText"?new RO(n):new PO(n,{appendTo:i.get("appendToBody",!0)?"body":i.get("appendTo",!0)})}},e.prototype.render=function(r,n,i){if(!(Pe.node||!i.getDom())){this.group.removeAll(),this._tooltipModel=r,this._ecModel=n,this._api=i;var a=this._tooltipContent;a.update(r),a.setEnterable(r.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&r.get("transitionDuration")?F_(this,"_updatePosition",50,"fixRate"):nh(this,"_updatePosition")}},e.prototype._initGlobalListener=function(){var r=this._tooltipModel,n=r.get("triggerOn");sw("itemTooltip",this._api,it(function(i,a,o){n!=="none"&&(n.indexOf(i)>=0?this._tryShow(a,o):i==="leave"&&this._hide(o))},this))},e.prototype._keepShow=function(){var r=this._tooltipModel,n=this._ecModel,i=this._api,a=r.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&a!=="none"&&a!=="click"){var o=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!i.isDisposed()&&o.manuallyShowTip(r,n,i,{x:o._lastX,y:o._lastY,dataByCoordSys:o._lastDataByCoordSys})})}},e.prototype.manuallyShowTip=function(r,n,i,a){if(!(a.from===this.uid||Pe.node||!i.getDom())){var o=py(a,i);this._ticket="";var s=a.dataByCoordSys,l=zO(a,n,i);if(l){var u=l.el.getBoundingRect().clone();u.applyTransform(l.el.transform),this._tryShow({offsetX:u.x+u.width/2,offsetY:u.y+u.height/2,target:l.el,position:a.position,positionDefault:"bottom"},o)}else if(a.tooltip&&a.x!=null&&a.y!=null){var p=NO;p.x=a.x,p.y=a.y,p.update(),Xe(p).tooltipConfig={name:null,option:a.tooltip},this._tryShow({offsetX:a.x,offsetY:a.y,target:p},o)}else if(s)this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,dataByCoordSys:s,tooltipOption:a.tooltipOption},o);else if(a.seriesIndex!=null){if(this._manuallyAxisShowTip(r,n,i,a))return;var c=lw(a,n),h=c.point[0],v=c.point[1];h!=null&&v!=null&&this._tryShow({offsetX:h,offsetY:v,target:c.el,position:a.position,positionDefault:"bottom"},o)}else a.x!=null&&a.y!=null&&(i.dispatchAction({type:"updateAxisPointer",x:a.x,y:a.y}),this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,target:i.getZr().findHover(a.x,a.y).target},o))}},e.prototype.manuallyHideTip=function(r,n,i,a){var o=this._tooltipContent;this._tooltipModel&&o.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,a.from!==this.uid&&this._hide(py(a,i))},e.prototype._manuallyAxisShowTip=function(r,n,i,a){var o=a.seriesIndex,s=a.dataIndex,l=n.getComponent("axisPointer").coordSysAxesInfo;if(!(o==null||s==null||l==null)){var u=n.getSeriesByIndex(o);if(u){var p=u.getData(),c=io([p.getItemModel(s),u,(u.coordinateSystem||{}).model],this._tooltipModel);if(c.get("trigger")==="axis")return i.dispatchAction({type:"updateAxisPointer",seriesIndex:o,dataIndex:s,position:a.position}),!0}}},e.prototype._tryShow=function(r,n){var i=r.target,a=this._tooltipModel;if(a){this._lastX=r.offsetX,this._lastY=r.offsetY;var o=r.dataByCoordSys;if(o&&o.length)this._showAxisTooltip(o,r);else if(i){var s=Xe(i);if(s.ssrType==="legend")return;this._lastDataByCoordSys=null;var l,u;ho(i,function(p){if(p.tooltipDisabled)return l=u=null,!0;l||u||(Xe(p).dataIndex!=null?l=p:Xe(p).tooltipConfig!=null&&(u=p))},!0),l?this._showSeriesItemTooltip(r,l,n):u?this._showComponentItemTooltip(r,u,n):this._hide(n)}else this._lastDataByCoordSys=null,this._hide(n)}},e.prototype._showOrMove=function(r,n){var i=r.get("showDelay");n=it(n,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(n,i):n()},e.prototype._showAxisTooltip=function(r,n){var i=this._ecModel,a=this._tooltipModel,o=[n.offsetX,n.offsetY],s=io([n.tooltipOption],a),l=this._renderMode,u=[],p=Fo("section",{blocks:[],noHeader:!0}),c=[],h=new Fc;z(r,function(C){z(C.dataByAxis,function(M){var L=i.getComponent(M.axisDim+"Axis",M.axisIndex),T=M.value;if(!(!L||T==null)){var E=aw(T,L.axis,i,M.seriesDataIndices,M.valueLabelOpt),k=Fo("section",{header:E,noHeader:!zr(E),sortBlocks:!0,blocks:[]});p.blocks.push(k),z(M.seriesDataIndices,function(P){var D=i.getSeriesByIndex(P.seriesIndex),N=P.dataIndexInside,B=D.getDataParams(N);if(!(B.dataIndex<0)){B.axisDim=M.axisDim,B.axisIndex=M.axisIndex,B.axisType=M.axisType,B.axisId=M.axisId,B.axisValue=ql(L.axis,{value:T}),B.axisValueLabel=E,B.marker=h.makeTooltipMarker("item",Pi(B.color),l);var U=Rg(D.formatTooltip(N,!0,null)),F=U.frag;if(F){var G=io([D],a).get("valueFormatter");k.blocks.push(G?pe({valueFormatter:G},F):F)}U.text&&c.push(U.text),u.push(B)}})}})}),p.blocks.reverse(),c.reverse();var v=n.position,m=s.get("order"),_=Vg(p,h,l,m,i.get("useUTC"),s.get("textStyle"));_&&c.unshift(_);var y=l==="richText"?`

`:"<br/>",b=c.join(y);this._showOrMove(s,function(){this._updateContentNotChangedOnAxis(r,u)?this._updatePosition(s,v,o[0],o[1],this._tooltipContent,u):this._showTooltipContent(s,b,u,Math.random()+"",o[0],o[1],v,null,h)})},e.prototype._showSeriesItemTooltip=function(r,n,i){var a=this._ecModel,o=Xe(n),s=o.seriesIndex,l=a.getSeriesByIndex(s),u=o.dataModel||l,p=o.dataIndex,c=o.dataType,h=u.getData(c),v=this._renderMode,m=r.positionDefault,_=io([h.getItemModel(p),u,l&&(l.coordinateSystem||{}).model],this._tooltipModel,m?{position:m}:null),y=_.get("trigger");if(!(y!=null&&y!=="item")){var b=u.getDataParams(p,c),C=new Fc;b.marker=C.makeTooltipMarker("item",Pi(b.color),v);var M=Rg(u.formatTooltip(p,!1,c)),L=_.get("order"),T=_.get("valueFormatter"),E=M.frag,k=E?Vg(T?pe({valueFormatter:T},E):E,C,v,L,a.get("useUTC"),_.get("textStyle")):M.text,P="item_"+u.name+"_"+p;this._showOrMove(_,function(){this._showTooltipContent(_,k,b,P,r.offsetX,r.offsetY,r.position,r.target,C)}),i({type:"showTip",dataIndexInside:p,dataIndex:h.getRawIndex(p),seriesIndex:s,from:this.uid})}},e.prototype._showComponentItemTooltip=function(r,n,i){var a=this._renderMode==="html",o=Xe(n),s=o.tooltipConfig,l=s.option||{},u=l.encodeHTMLContent;if(xe(l)){var p=l;l={content:p,formatter:p},u=!0}u&&a&&l.content&&(l=je(l),l.content=$t(l.content));var c=[l],h=this._ecModel.getComponent(o.componentMainType,o.componentIndex);h&&c.push(h),c.push({formatter:l.content});var v=r.positionDefault,m=io(c,this._tooltipModel,v?{position:v}:null),_=m.get("content"),y=Math.random()+"",b=new Fc;this._showOrMove(m,function(){var C=je(m.get("formatterParams")||{});this._showTooltipContent(m,_,C,y,r.offsetX,r.offsetY,r.position,n,b)}),i({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(r,n,i,a,o,s,l,u,p){if(this._ticket="",!(!r.get("showContent")||!r.get("show"))){var c=this._tooltipContent;c.setEnterable(r.get("enterable"));var h=r.get("formatter");l=l||r.get("position");var v=n,m=this._getNearestPoint([o,s],i,r.get("trigger"),r.get("borderColor"),r.get("defaultBorderColor",!0)),_=m.color;if(h)if(xe(h)){var y=r.ecModel.get("useUTC"),b=be(i)?i[0]:i,C=b&&b.axisType&&b.axisType.indexOf("time")>=0;v=h,C&&(v=mu(b.axisValue,v,y)),v=c_(v,i,!0)}else if(Ie(h)){var M=it(function(L,T){L===this._ticket&&(c.setContent(T,p,r,_,l),this._updatePosition(r,l,o,s,c,i,u))},this);this._ticket=a,v=h(i,a,M)}else v=h;c.setContent(v,p,r,_,l),c.show(r,_),this._updatePosition(r,l,o,s,c,i,u)}},e.prototype._getNearestPoint=function(r,n,i,a,o){if(i==="axis"||be(n))return{color:a||o};if(!be(n))return{color:a||n.color||n.borderColor}},e.prototype._updatePosition=function(r,n,i,a,o,s,l){var u=this._api.getWidth(),p=this._api.getHeight();n=n||r.get("position");var c=o.getSize(),h=r.get("align"),v=r.get("verticalAlign"),m=l&&l.getBoundingRect().clone();if(l&&m.applyTransform(l.transform),Ie(n)&&(n=n([i,a],s,o.el,m,{viewSize:[u,p],contentSize:c.slice()})),be(n))i=zt(n[0],u),a=zt(n[1],p);else if(Ae(n)){var _=n;_.width=c[0],_.height=c[1];var y=Ta(_,{width:u,height:p});i=y.x,a=y.y,h=null,v=null}else if(xe(n)&&l){var b=VO(n,m,c,r.get("borderWidth"));i=b[0],a=b[1]}else{var b=HO(i,a,o,u,p,h?null:20,v?null:20);i=b[0],a=b[1]}if(h&&(i-=vy(h)?c[0]/2:h==="right"?c[0]:0),v&&(a-=vy(v)?c[1]/2:v==="bottom"?c[1]:0),cw(r)){var b=FO(i,a,o,u,p);i=b[0],a=b[1]}o.moveTo(i,a)},e.prototype._updateContentNotChangedOnAxis=function(r,n){var i=this._lastDataByCoordSys,a=this._cbParamsList,o=!!i&&i.length===r.length;return o&&z(i,function(s,l){var u=s.dataByAxis||[],p=r[l]||{},c=p.dataByAxis||[];o=o&&u.length===c.length,o&&z(u,function(h,v){var m=c[v]||{},_=h.seriesDataIndices||[],y=m.seriesDataIndices||[];o=o&&h.value===m.value&&h.axisType===m.axisType&&h.axisId===m.axisId&&_.length===y.length,o&&z(_,function(b,C){var M=y[C];o=o&&b.seriesIndex===M.seriesIndex&&b.dataIndex===M.dataIndex}),a&&z(h.seriesDataIndices,function(b){var C=b.seriesIndex,M=n[C],L=a[C];M&&L&&L.data!==M.data&&(o=!1)})})}),this._lastDataByCoordSys=r,this._cbParamsList=n,!!o},e.prototype._hide=function(r){this._lastDataByCoordSys=null,r({type:"hideTip",from:this.uid})},e.prototype.dispose=function(r,n){Pe.node||!n.getDom()||(nh(this,"_updatePosition"),this._tooltipContent.dispose(),xh("itemTooltip",n))},e.type="tooltip",e})(Er);function io(t,e,r){var n=e.ecModel,i;r?(i=new pt(r,n,n),i=new pt(e.option,i,n)):i=e;for(var a=t.length-1;a>=0;a--){var o=t[a];o&&(o instanceof pt&&(o=o.get("tooltip",!0)),xe(o)&&(o={formatter:o}),o&&(i=new pt(o,i,n)))}return i}function py(t,e){return t.dispatchAction||it(e.dispatchAction,e)}function HO(t,e,r,n,i,a,o){var s=r.getSize(),l=s[0],u=s[1];return a!=null&&(t+l+a+2>n?t-=l+a:t+=a),o!=null&&(e+u+o>i?e-=u+o:e+=o),[t,e]}function FO(t,e,r,n,i){var a=r.getSize(),o=a[0],s=a[1];return t=Math.min(t+o,n)-o,e=Math.min(e+s,i)-s,t=Math.max(t,0),e=Math.max(e,0),[t,e]}function VO(t,e,r,n){var i=r[0],a=r[1],o=Math.ceil(Math.SQRT2*n)+8,s=0,l=0,u=e.width,p=e.height;switch(t){case"inside":s=e.x+u/2-i/2,l=e.y+p/2-a/2;break;case"top":s=e.x+u/2-i/2,l=e.y-a-o;break;case"bottom":s=e.x+u/2-i/2,l=e.y+p+o;break;case"left":s=e.x-i-o,l=e.y+p/2-a/2;break;case"right":s=e.x+u+o,l=e.y+p/2-a/2}return[s,l]}function vy(t){return t==="center"||t==="middle"}function zO(t,e,r){var n=Yh(t).queryOptionMap,i=n.keys()[0];if(!(!i||i==="series")){var a=Zo(e,i,n.get(i),{useDefault:!1,enableAll:!1,enableNone:!1}),o=a.models[0];if(o){var s=r.getViewOfComponentModel(o),l;if(s.group.traverse(function(u){var p=Xe(u).tooltipConfig;if(p&&p.name===t.name)return l=u,!0}),l)return{componentMainType:i,componentIndex:o.componentIndex,el:l}}}}function UO(t){Gn(uw),t.registerComponentModel(TO),t.registerComponentView(BO),t.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},Zt),t.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},Zt)}var GO=(function(t){_e(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.layoutMode={type:"box",ignoreSize:!0},r}return e.type="title",e.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:"center",top:Le.size.m,backgroundColor:Le.color.transparent,borderColor:Le.color.primary,borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:Le.color.primary},subtextStyle:{fontSize:12,color:Le.color.quaternary}},e})(et),WO=(function(t){_e(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.render=function(r,n,i){if(this.group.removeAll(),!!r.get("show")){var a=this.group,o=r.getModel("textStyle"),s=r.getModel("subtextStyle"),l=r.get("textAlign"),u=ke(r.get("textBaseline"),r.get("textVerticalAlign")),p=new Ht({style:Vn(o,{text:r.get("text"),fill:o.getTextColor()},{disableBox:!0}),z2:10}),c=p.getBoundingRect(),h=r.get("subtext"),v=new Ht({style:Vn(s,{text:h,fill:s.getTextColor(),y:c.height+r.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),m=r.get("link"),_=r.get("sublink"),y=r.get("triggerEvent",!0);p.silent=!m&&!y,v.silent=!_&&!y,m&&p.on("click",function(){vg(m,"_"+r.get("target"))}),_&&v.on("click",function(){vg(_,"_"+r.get("subtarget"))}),Xe(p).eventData=Xe(v).eventData=y?{componentType:"title",componentIndex:r.componentIndex}:null,a.add(p),h&&a.add(v);var b=a.getBoundingRect(),C=r.getBoxLayoutParams();C.width=b.width,C.height=b.height;var M=Ed(r,i),L=Ta(C,M.refContainer,r.get("padding"));l||(l=r.get("left")||r.get("right"),l==="middle"&&(l="center"),l==="right"?L.x+=L.width:l==="center"&&(L.x+=L.width/2)),u||(u=r.get("top")||r.get("bottom"),u==="center"&&(u="middle"),u==="bottom"?L.y+=L.height:u==="middle"&&(L.y+=L.height/2),u=u||"top"),a.x=L.x,a.y=L.y,a.markRedraw();var T={align:l,verticalAlign:u};p.setStyle(T),v.setStyle(T),b=a.getBoundingRect();var E=L.margin,k=r.getItemStyle(["color","opacity"]);k.fill=r.get("backgroundColor");var P=new St({shape:{x:b.x-E[3],y:b.y-E[0],width:b.width+E[1]+E[3],height:b.height+E[0]+E[2],r:r.get("borderRadius")},style:k,subPixelOptimize:!0,silent:!0});a.add(P)}},e.type="title",e})(Er);function jO(t){t.registerComponentModel(GO),t.registerComponentView(WO)}var qO=function(t,e){if(e==="all")return{type:"all",title:t.getLocaleModel().get(["legend","selector","all"])};if(e==="inverse")return{type:"inverse",title:t.getLocaleModel().get(["legend","selector","inverse"])}},Mh=(function(t){_e(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.layoutMode={type:"box",ignoreSize:!0},r}return e.prototype.init=function(r,n,i){this.mergeDefaultAndTheme(r,i),r.selected=r.selected||{},this._updateSelector(r)},e.prototype.mergeOption=function(r,n){t.prototype.mergeOption.call(this,r,n),this._updateSelector(r)},e.prototype._updateSelector=function(r){var n=r.selector,i=this.ecModel;n===!0&&(n=r.selector=["all","inverse"]),be(n)&&z(n,function(a,o){xe(a)&&(a={type:a}),n[o]=Ze(a,qO(i,a.type))})},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var r=this._data;if(r[0]&&this.get("selectedMode")==="single"){for(var n=!1,i=0;i<r.length;i++){var a=r[i].get("name");if(this.isSelected(a)){this.select(a),n=!0;break}}!n&&this.select(r[0].get("name"))}},e.prototype._updateData=function(r){var n=[],i=[];r.eachRawSeries(function(l){var u=l.name;i.push(u);var p;if(l.legendVisualProvider){var c=l.legendVisualProvider,h=c.getAllNames();r.isSeriesFiltered(l)||(i=i.concat(h)),h.length?n=n.concat(h):p=!0}else p=!0;p&&$h(l)&&n.push(l.name)}),this._availableNames=i;var a=this.get("data")||n,o=He(),s=De(a,function(l){return(xe(l)||ct(l))&&(l={name:l}),o.get(l.name)?null:(o.set(l.name,!0),new pt(l,this,this.ecModel))},this);this._data=At(s,function(l){return!!l})},e.prototype.getData=function(){return this._data},e.prototype.select=function(r){var n=this.option.selected,i=this.get("selectedMode");if(i==="single"){var a=this._data;z(a,function(o){n[o.get("name")]=!1})}n[r]=!0},e.prototype.unSelect=function(r){this.get("selectedMode")!=="single"&&(this.option.selected[r]=!1)},e.prototype.toggleSelected=function(r){var n=this.option.selected;n.hasOwnProperty(r)||(n[r]=!0),this[n[r]?"unSelect":"select"](r)},e.prototype.allSelect=function(){var r=this._data,n=this.option.selected;z(r,function(i){n[i.get("name",!0)]=!0})},e.prototype.inverseSelect=function(){var r=this._data,n=this.option.selected;z(r,function(i){var a=i.get("name",!0);n.hasOwnProperty(a)||(n[a]=!0),n[a]=!n[a]})},e.prototype.isSelected=function(r){var n=this.option.selected;return!(n.hasOwnProperty(r)&&!n[r])&&Ye(this._availableNames,r)>=0},e.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",bottom:Le.size.m,align:"auto",backgroundColor:Le.color.transparent,borderColor:Le.color.border,borderRadius:0,borderWidth:0,padding:5,itemGap:8,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:Le.color.disabled,inactiveBorderColor:Le.color.disabled,inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:Le.color.disabled,inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:Le.color.secondary},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:Le.color.tertiary,borderWidth:1,borderColor:Le.color.border},emphasis:{selectorLabel:{show:!0,color:Le.color.quaternary}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1},triggerEvent:!1},e})(et),ua=Dt,Lh=z,el=Rt,pw=(function(t){_e(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.newlineDisabled=!1,r}return e.prototype.init=function(){this.group.add(this._contentGroup=new el),this.group.add(this._selectorGroup=new el),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(r,n,i){var a=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!r.get("show",!0)){var o=r.get("align"),s=r.get("orient");(!o||o==="auto")&&(o=r.get("left")==="right"&&s==="vertical"?"right":"left");var l=r.get("selector",!0),u=r.get("selectorPosition",!0);l&&(!u||u==="auto")&&(u=s==="horizontal"?"end":"start"),this.renderInner(o,r,n,i,l,s,u);var p=Ed(r,i).refContainer,c=r.getBoxLayoutParams(),h=r.get("padding"),v=Ta(c,p,h),m=this.layoutInner(r,o,v,a,l,u),_=Ta(tt({width:m.width,height:m.height},c),p,h);this.group.x=_.x-m.x,this.group.y=_.y-m.y,this.group.markRedraw(),this.group.add(this._backgroundEl=CO(m,r))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(r,n,i,a,o,s,l){var u=this.getContentGroup(),p=He(),c=n.get("selectedMode"),h=n.get("triggerEvent"),v=[];i.eachRawSeries(function(m){!m.get("legendHoverLink")&&v.push(m.id)}),Lh(n.getData(),function(m,_){var y=this,b=m.get("name");if(!this.newlineDisabled&&(b===""||b===`
`)){var C=new el;C.newline=!0,u.add(C);return}var M=i.getSeriesByName(b)[0];if(!p.get(b))if(M){var L=M.getData(),T=L.getVisual("legendLineStyle")||{},E=L.getVisual("legendIcon"),k=L.getVisual("style"),P=this._createItem(M,b,_,m,n,r,T,k,E,c,a);P.on("click",ua(gy,b,null,a,v)).on("mouseover",ua(Eh,M.name,null,a,v)).on("mouseout",ua(Ah,M.name,null,a,v)),i.ssr&&P.eachChild(function(D){var N=Xe(D);N.seriesIndex=M.seriesIndex,N.dataIndex=_,N.ssrType="legend"}),h&&P.eachChild(function(D){y.packEventData(D,n,M,_,b)}),p.set(b,!0)}else i.eachRawSeries(function(D){var N=this;if(!p.get(b)&&D.legendVisualProvider){var B=D.legendVisualProvider;if(!B.containName(b))return;var U=B.indexOfName(b),F=B.getItemVisual(U,"style"),G=B.getItemVisual(U,"legendIcon"),Y=Wr(F.fill);Y&&Y[3]===0&&(Y[3]=.2,F=pe(pe({},F),{fill:Ko(Y,"rgba")}));var K=this._createItem(D,b,_,m,n,r,{},F,G,c,a);K.on("click",ua(gy,null,b,a,v)).on("mouseover",ua(Eh,null,b,a,v)).on("mouseout",ua(Ah,null,b,a,v)),i.ssr&&K.eachChild(function(ne){var te=Xe(ne);te.seriesIndex=D.seriesIndex,te.dataIndex=_,te.ssrType="legend"}),h&&K.eachChild(function(ne){N.packEventData(ne,n,D,_,b)}),p.set(b,!0)}},this)},this),o&&this._createSelector(o,n,a,s,l)},e.prototype.packEventData=function(r,n,i,a,o){var s={componentType:"legend",componentIndex:n.componentIndex,dataIndex:a,value:o,seriesIndex:i.seriesIndex};Xe(r).eventData=s},e.prototype._createSelector=function(r,n,i,a,o){var s=this.getSelectorGroup();Lh(r,function(u){var p=u.type,c=new Ht({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:p==="all"?"legendAllSelect":"legendInverseSelect",legendId:n.id})}});s.add(c);var h=n.getModel("selectorLabel"),v=n.getModel(["emphasis","selectorLabel"]);pd(c,{normal:h,emphasis:v},{defaultText:u.title}),Gf(c)})},e.prototype._createItem=function(r,n,i,a,o,s,l,u,p,c,h){var v=r.visualDrawType,m=o.get("itemWidth"),_=o.get("itemHeight"),y=o.isSelected(n),b=a.get("symbolRotate"),C=a.get("symbolKeepAspect"),M=a.get("icon");p=M||p||"roundRect";var L=$O(p,a,l,u,v,y,h),T=new el,E=a.getModel("textStyle");if(Ie(r.getLegendIcon)&&(!M||M==="inherit"))T.add(r.getLegendIcon({itemWidth:m,itemHeight:_,icon:p,iconRotate:b,itemStyle:L.itemStyle,lineStyle:L.lineStyle,symbolKeepAspect:C}));else{var k=M==="inherit"&&r.getData().getVisual("symbol")?b==="inherit"?r.getData().getVisual("symbolRotate"):b:0;T.add(YO({itemWidth:m,itemHeight:_,icon:p,iconRotate:k,itemStyle:L.itemStyle,symbolKeepAspect:C}))}var P=s==="left"?m+5:-5,D=s,N=o.get("formatter"),B=n;xe(N)&&N?B=N.replace("{name}",n??""):Ie(N)&&(B=N(n));var U=y?E.getTextColor():a.get("inactiveColor");T.add(new Ht({style:Vn(E,{text:B,x:P,y:_/2,fill:U,align:D,verticalAlign:"middle"},{inheritColor:U})}));var F=new St({shape:T.getBoundingRect(),style:{fill:"transparent"}}),G=a.getModel("tooltip");return G.get("show")&&pu({el:F,componentModel:o,itemName:n,itemTooltipOption:G.option}),T.add(F),T.eachChild(function(Y){Y.silent=!0}),F.silent=!c,this.getContentGroup().add(T),Gf(T),T.__legendDataIndex=i,T},e.prototype.layoutInner=function(r,n,i,a,o,s){var l=this.getContentGroup(),u=this.getSelectorGroup();To(r.get("orient"),l,r.get("itemGap"),i.width,i.height);var p=l.getBoundingRect(),c=[-p.x,-p.y];if(u.markRedraw(),l.markRedraw(),o){To("horizontal",u,r.get("selectorItemGap",!0));var h=u.getBoundingRect(),v=[-h.x,-h.y],m=r.get("selectorButtonGap",!0),_=r.getOrient().index,y=_===0?"width":"height",b=_===0?"height":"width",C=_===0?"y":"x";s==="end"?v[_]+=p[y]+m:c[_]+=h[y]+m,v[1-_]+=p[b]/2-h[b]/2,u.x=v[0],u.y=v[1],l.x=c[0],l.y=c[1];var M={x:0,y:0};return M[y]=p[y]+m+h[y],M[b]=Math.max(p[b],h[b]),M[C]=Math.min(0,h[C]+v[1-_]),M}else return l.x=c[0],l.y=c[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e})(Er);function $O(t,e,r,n,i,a,o){function s(y,b){y.lineWidth==="auto"&&(y.lineWidth=b.lineWidth>0?2:0),Lh(y,function(C,M){y[M]==="inherit"&&(y[M]=b[M])})}var l=e.getModel("itemStyle"),u=l.getItemStyle(),p=t.lastIndexOf("empty",0)===0?"fill":"stroke",c=l.getShallow("decal");u.decal=!c||c==="inherit"?n.decal:lh(c,o),u.fill==="inherit"&&(u.fill=n[i]),u.stroke==="inherit"&&(u.stroke=n[p]),u.opacity==="inherit"&&(u.opacity=(i==="fill"?n:r).opacity),s(u,n);var h=e.getModel("lineStyle"),v=h.getLineStyle();if(s(v,r),u.fill==="auto"&&(u.fill=n.fill),u.stroke==="auto"&&(u.stroke=n.fill),v.stroke==="auto"&&(v.stroke=n.fill),!a){var m=e.get("inactiveBorderWidth"),_=u[p];u.lineWidth=m==="auto"?n.lineWidth>0&&_?2:0:u.lineWidth,u.fill=e.get("inactiveColor"),u.stroke=e.get("inactiveBorderColor"),v.stroke=h.get("inactiveColor"),v.lineWidth=h.get("inactiveWidth")}return{itemStyle:u,lineStyle:v}}function YO(t){var e=t.icon||"roundRect",r=Ma(e,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill,t.symbolKeepAspect);return r.setStyle(t.itemStyle),r.rotation=(t.iconRotate||0)*Math.PI/180,r.setOrigin([t.itemWidth/2,t.itemHeight/2]),e.indexOf("empty")>-1&&(r.style.stroke=r.style.fill,r.style.fill=Le.color.neutral00,r.style.lineWidth=2),r}function gy(t,e,r,n){Ah(t,e,r,n),r.dispatchAction({type:"legendToggleSelect",name:t??e}),Eh(t,e,r,n)}function vw(t){for(var e=t.getZr().storage.getDisplayList(),r,n=0,i=e.length;n<i&&!(r=e[n].states.emphasis);)n++;return r&&r.hoverLayer}function Eh(t,e,r,n){vw(r)||r.dispatchAction({type:"highlight",seriesName:t,name:e,excludeSeriesId:n})}function Ah(t,e,r,n){vw(r)||r.dispatchAction({type:"downplay",seriesName:t,name:e,excludeSeriesId:n})}function KO(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.filterSeries(function(r){for(var n=0;n<e.length;n++)if(!e[n].isSelected(r.name))return!1;return!0})}function ao(t,e,r){var n=t==="allSelect"||t==="inverseSelect",i={},a=[];r.eachComponent({mainType:"legend",query:e},function(s){n?s[t]():s[t](e.name),my(s,i),a.push(s.componentIndex)});var o={};return r.eachComponent("legend",function(s){z(i,function(l,u){s[l?"select":"unSelect"](u)}),my(s,o)}),n?{selected:o,legendIndex:a}:{name:e.name,selected:o}}function my(t,e){var r=e||{};return z(t.getData(),function(n){var i=n.get("name");if(!(i===`
`||i==="")){var a=t.isSelected(i);Lr(r,i)?r[i]=r[i]&&a:r[i]=a}}),r}function XO(t){t.registerAction("legendToggleSelect","legendselectchanged",Dt(ao,"toggleSelected")),t.registerAction("legendAllSelect","legendselectall",Dt(ao,"allSelect")),t.registerAction("legendInverseSelect","legendinverseselect",Dt(ao,"inverseSelect")),t.registerAction("legendSelect","legendselected",Dt(ao,"select")),t.registerAction("legendUnSelect","legendunselected",Dt(ao,"unSelect"))}function gw(t){t.registerComponentModel(Mh),t.registerComponentView(pw),t.registerProcessor(t.PRIORITY.PROCESSOR.SERIES_FILTER,KO),t.registerSubTypeDefaulter("legend",function(){return"plain"}),XO(t)}var ZO=(function(t){_e(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.setScrollDataIndex=function(r){this.option.scrollDataIndex=r},e.prototype.init=function(r,n,i){var a=es(r);t.prototype.init.call(this,r,n,i),yy(this,r,a)},e.prototype.mergeOption=function(r,n){t.prototype.mergeOption.call(this,r,n),yy(this,this.option,r)},e.type="legend.scroll",e.defaultOption=RL(Mh.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:Le.color.accent50,pageIconInactiveColor:Le.color.accent10,pageIconSize:15,pageTextStyle:{color:Le.color.tertiary},animationDurationUpdate:800}),e})(Mh);function yy(t,e,r){var n=t.getOrient(),i=[1,1];i[n.index]=0,zn(e,r,{type:"box",ignoreSize:!!i})}var _y=Rt,sf=["width","height"],lf=["x","y"],QO=(function(t){_e(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.newlineDisabled=!0,r._currentIndex=0,r}return e.prototype.init=function(){t.prototype.init.call(this),this.group.add(this._containerGroup=new _y),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new _y)},e.prototype.resetInner=function(){t.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(r,n,i,a,o,s,l){var u=this;t.prototype.renderInner.call(this,r,n,i,a,o,s,l);var p=this._controllerGroup,c=n.get("pageIconSize",!0),h=be(c)?c:[c,c];m("pagePrev",0);var v=n.getModel("pageTextStyle");p.add(new Ht({name:"pageText",style:{text:"xx/xx",fill:v.getTextColor(),font:v.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),m("pageNext",1);function m(_,y){var b=_+"DataIndex",C=cd(n.get("pageIcons",!0)[n.getOrient().name][y],{onclick:it(u._pageGo,u,b,n,a)},{x:-h[0]/2,y:-h[1]/2,width:h[0],height:h[1]});C.name=_,p.add(C)}},e.prototype.layoutInner=function(r,n,i,a,o,s){var l=this.getSelectorGroup(),u=r.getOrient().index,p=sf[u],c=lf[u],h=sf[1-u],v=lf[1-u];o&&To("horizontal",l,r.get("selectorItemGap",!0));var m=r.get("selectorButtonGap",!0),_=l.getBoundingRect(),y=[-_.x,-_.y],b=je(i);o&&(b[p]=i[p]-_[p]-m);var C=this._layoutContentAndController(r,a,b,u,p,h,v,c);if(o){if(s==="end")y[u]+=C[p]+m;else{var M=_[p]+m;y[u]-=M,C[c]-=M}C[p]+=_[p]+m,y[1-u]+=C[v]+C[h]/2-_[h]/2,C[h]=Math.max(C[h],_[h]),C[v]=Math.min(C[v],_[v]+y[1-u]),l.x=y[0],l.y=y[1],l.markRedraw()}return C},e.prototype._layoutContentAndController=function(r,n,i,a,o,s,l,u){var p=this.getContentGroup(),c=this._containerGroup,h=this._controllerGroup;To(r.get("orient"),p,r.get("itemGap"),a?i.width:null,a?null:i.height),To("horizontal",h,r.get("pageButtonItemGap",!0));var v=p.getBoundingRect(),m=h.getBoundingRect(),_=this._showController=v[o]>i[o],y=[-v.x,-v.y];n||(y[a]=p[u]);var b=[0,0],C=[-m.x,-m.y],M=ke(r.get("pageButtonGap",!0),r.get("itemGap",!0));if(_){var L=r.get("pageButtonPosition",!0);L==="end"?C[a]+=i[o]-m[o]:b[a]+=m[o]+M}C[1-a]+=v[s]/2-m[s]/2,p.setPosition(y),c.setPosition(b),h.setPosition(C);var T={x:0,y:0};if(T[o]=_?i[o]:v[o],T[s]=Math.max(v[s],m[s]),T[l]=Math.min(0,m[l]+C[1-a]),c.__rectSize=i[o],_){var E={x:0,y:0};E[o]=Math.max(i[o]-m[o]-M,0),E[s]=T[s],c.setClipPath(new St({shape:E})),c.__rectSize=E[o]}else h.eachChild(function(P){P.attr({invisible:!0,silent:!0})});var k=this._getPageInfo(r);return k.pageIndex!=null&&Fn(p,{x:k.contentPosition[0],y:k.contentPosition[1]},_?r:null),this._updatePageInfoView(r,k),T},e.prototype._pageGo=function(r,n,i){var a=this._getPageInfo(n)[r];a!=null&&i.dispatchAction({type:"legendScroll",scrollDataIndex:a,legendId:n.id})},e.prototype._updatePageInfoView=function(r,n){var i=this._controllerGroup;z(["pagePrev","pageNext"],function(p){var c=p+"DataIndex",h=n[c]!=null,v=i.childOfName(p);v&&(v.setStyle("fill",h?r.get("pageIconColor",!0):r.get("pageIconInactiveColor",!0)),v.cursor=h?"pointer":"default")});var a=i.childOfName("pageText"),o=r.get("pageFormatter"),s=n.pageIndex,l=s!=null?s+1:0,u=n.pageCount;a&&o&&a.setStyle("text",xe(o)?o.replace("{current}",l==null?"":l+"").replace("{total}",u==null?"":u+""):o({current:l,total:u}))},e.prototype._getPageInfo=function(r){var n=r.get("scrollDataIndex",!0),i=this.getContentGroup(),a=this._containerGroup.__rectSize,o=r.getOrient().index,s=sf[o],l=lf[o],u=this._findTargetItemIndex(n),p=i.children(),c=p[u],h=p.length,v=h?1:0,m={contentPosition:[i.x,i.y],pageCount:v,pageIndex:v-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!c)return m;var _=L(c);m.contentPosition[o]=-_.s;for(var y=u+1,b=_,C=_,M=null;y<=h;++y)M=L(p[y]),(!M&&C.e>b.s+a||M&&!T(M,b.s))&&(C.i>b.i?b=C:b=M,b&&(m.pageNextDataIndex==null&&(m.pageNextDataIndex=b.i),++m.pageCount)),C=M;for(var y=u-1,b=_,C=_,M=null;y>=-1;--y)M=L(p[y]),(!M||!T(C,M.s))&&b.i<C.i&&(C=b,m.pagePrevDataIndex==null&&(m.pagePrevDataIndex=b.i),++m.pageCount,++m.pageIndex),b=M;return m;function L(E){if(E){var k=E.getBoundingRect(),P=k[l]+E[l];return{s:P,e:P+k[s],i:E.__legendDataIndex}}}function T(E,k){return E.e>=k&&E.s<=k+a}},e.prototype._findTargetItemIndex=function(r){if(!this._showController)return 0;var n,i=this.getContentGroup(),a;return i.eachChild(function(o,s){var l=o.__legendDataIndex;a==null&&l!=null&&(a=s),l===r&&(n=s)}),n??a},e.type="legend.scroll",e})(pw);function JO(t){t.registerAction("legendScroll","legendscroll",function(e,r){var n=e.scrollDataIndex;n!=null&&r.eachComponent({mainType:"legend",subType:"scroll",query:e},function(i){i.setScrollDataIndex(n)})})}function eP(t){Gn(gw),t.registerComponentModel(ZO),t.registerComponentView(QO),JO(t)}function tP(t){Gn(gw),Gn(eP)}const rP=["getWidth","getHeight","getDom","getOption","resize","dispatchAction","convertToPixel","convertFromPixel","containPixel","getDataURL","getConnectedDataURL","appendData","clear","isDisposed","dispose"];function nP(t){function e(n){return(...i)=>{if(!t.value)throw new Error("ECharts is not initialized yet.");return t.value[n].apply(t.value,i)}}function r(){const n=Object.create(null);return rP.forEach(i=>{n[i]=e(i)}),n}return r()}function iP(t,e,r){Vr([r,t,e],([n,i,a],o,s)=>{let l=null;if(n&&i&&a){const{offsetWidth:u,offsetHeight:p}=n,{throttle:c=100,onResize:h}=a===!0?{}:a;let v=!1;const m=()=>{i.resize(),h?.()},_=c?Pd(m,c):m;l=new ResizeObserver(()=>{!v&&(v=!0,n.offsetWidth===u&&n.offsetHeight===p)||n.offsetWidth===0||n.offsetHeight===0||_()}),l.observe(n)}s(()=>{l&&(l.disconnect(),l=null)})})}const aP={autoresize:[Boolean,Object]},oP=Symbol();function sP(t,e,r){const n=tl(oP,{}),i=kt(()=>({...rl(n),...r?.value}));My(()=>{const a=t.value;a&&(e.value?a.showLoading(i.value):a.hideLoading())})}const lP={loading:Boolean,loadingOptions:Object};function mw(){return typeof window<"u"&&typeof document<"u"}const uP=/^on[^a-z]/,yw=t=>uP.test(t);function cP(t){const e={};for(const r in t)yw(r)||(e[r]=t[r]);return e}function fP(t){const e=Number(t);return Number.isInteger(e)&&e>=0&&e<Math.pow(2,32)-1&&String(e)===t}function hP(t,e){const r=new Set(t),n=new Set(e);if(r.size!==n.size)return!1;for(const i of r)if(!n.has(i))return!1;return!0}function _w(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}const bw={tooltip:["tooltip","formatter"],dataView:["toolbox","feature","dataView","optionToContent"]},dP=Object.keys(bw);function uf(t){return dP.some(e=>t===e||t.startsWith(e+"-"))}function pP(t,e){const r=mw()?document.createElement("div"):void 0,n=Gu({}),i=Gu({}),a=Gu({}),o=cf(!1),s=()=>o.value&&r?ff(pS,{to:r},Object.entries(t).filter(([p])=>uf(p)).map(([p,c])=>{const h=p,v=i[h]?c?.(a[h]):void 0;return ff("div",{ref:m=>n[h]=m,style:{display:"contents"}},v)})):void 0;function l(p){const c={...p};return Object.keys(t).filter(h=>uf(h)).forEach(h=>{const v=h.split("-"),m=v.shift();v.push(...bw[m]);let _=c;for(let y=0;y<v.length-1;y++){const b=v[y],C=_[b];_[b]=C?Array.isArray(C)?[...C]:{...C}:fP(b)?[]:{},_=_[b]}_[v[v.length-1]]=y=>(i[h]=!0,a[h]=y,n[h])}),c}let u=[];return dS(()=>{const p=Object.keys(t).filter(uf);hP(p,u)||(u.forEach(c=>{p.includes(c)||(delete a[c],delete i[c],delete n[c])}),u=p,e())}),Jl(()=>{o.value=!0}),Oh(()=>{r?.remove()}),{teleportedSlots:s,patchOption:l}}let Ln=null;const kh="x-vue-echarts";function vP(){if(Ln!=null)return Ln;const t=globalThis.customElements;if(!mw()||!t?.get)return Ln=!1,Ln;if(!t.get(kh))try{class e extends HTMLElement{__dispose=null;disconnectedCallback(){this.__dispose&&(this.__dispose(),this.__dispose=null)}}t.define(kh,e)}catch{return Ln=!1,Ln}return Ln=!0,Ln}function gP(t){if(!_w(t))return;const e=t.id;if(typeof e=="string")return e;if(typeof e=="number"&&Number.isFinite(e))return String(e)}function by(t){const e=t,r=Array.isArray(e.options)?e.options.length:0,n=Array.isArray(e.media)?e.media.length:0,i=Object.create(null),a=[],o=[];for(const s of Object.keys(e)){if(s==="options"||s==="media")continue;const l=e[s];if(Array.isArray(l)){const u=l,p=new Set;let c=0;for(let h=0;h<u.length;h++){const v=gP(u[h]);v!==void 0?p.add(v):c++}i[s]={idsSorted:p.size>0?Array.from(p).sort():[],noIdCount:c}}else _w(l)?a.push(s):l!==void 0&&o.push(s)}return a.length>1&&a.sort(),o.length>1&&o.sort(),{optionsLength:r,mediaLength:n,arrays:i,objects:a,scalars:o}}function wy(t,e){if(t.length===0)return[];if(e.length===0)return t.slice();const r=new Set(e),n=[];for(let i=0;i<t.length;i++){const a=t[i];r.has(a)||n.push(a)}return n}function mP(t,e){if(t.length===0)return!1;if(e.length===0)return!0;const r=new Set(e);for(let n=0;n<t.length;n++)if(!r.has(t[n]))return!0;return!1}function yP(t,e){const r=by(e);if(!t)return{option:e,signature:r,plan:{notMerge:!1}};if(r.optionsLength<t.optionsLength)return{option:e,signature:r,plan:{notMerge:!0}};if(r.mediaLength<t.mediaLength)return{option:e,signature:r,plan:{notMerge:!0}};if(wy(t.scalars,r.scalars).length>0)return{option:e,signature:r,plan:{notMerge:!0}};const n=new Set,i=new Map,a=wy(t.objects,r.objects);for(let u=0;u<a.length;u++)i.set(a[u],null);for(const u of Object.keys(t.arrays)){const p=t.arrays[u];if(!p)continue;const c=r.arrays[u];if(!c){(p.idsSorted.length>0||p.noIdCount>0)&&(i.set(u,[]),n.add(u));continue}if(mP(p.idsSorted,c.idsSorted)){n.add(u);continue}c.noIdCount<p.noIdCount&&n.add(u)}let o=e,s=r;if(i.size>0){const u={...e};i.forEach((p,c)=>{u[c]=p}),o=u,s=by(o)}const l=n.size>0?Array.from(n).sort():void 0;return{option:o,signature:s,plan:l?{notMerge:!1,replaceMerge:l}:{notMerge:!1}}}var Sy=`x-vue-echarts{display:block;width:100%;height:100%;min-width:0;}
x-vue-echarts>:first-child,x-vue-echarts>:first-child>canvas{border-radius:inherit;}
`;if(typeof document<"u")if(Array.isArray(document.adoptedStyleSheets)&&"replaceSync"in CSSStyleSheet.prototype){const t=new CSSStyleSheet;t.replaceSync(Sy),document.adoptedStyleSheets=[...document.adoptedStyleSheets,t]}else{const t=document.createElement("style");t.textContent=Sy,document.head.appendChild(t)}const _P=vP(),bP=Symbol(),wP=Symbol(),SP=Symbol();var CP=cS({name:"Echarts",inheritAttrs:!1,props:{option:Object,theme:{type:[Object,String]},initOptions:Object,updateOptions:Object,group:String,manualUpdate:Boolean,...aP,...lP},emits:{},slots:Object,setup(t,{attrs:e,expose:r,slots:n}){const i=cf(),a=cf(),o=tl(bP,null),s=tl(wP,null),l=tl(SP,null),{autoresize:u,manualUpdate:p,loading:c,loadingOptions:h}=fS(t),v=kt(()=>t.option||{}),m=kt(()=>t.theme||rl(o)),_=kt(()=>t.initOptions||rl(s)||void 0),y=kt(()=>t.updateOptions||rl(l)),b=kt(()=>cP(e)),C={},M=new Map,{teleportedSlots:L,patchOption:T}=pP(n,()=>{!p.value&&t.option&&a.value&&P(a.value,t.option)});let E;function k(G){const Y={},K=(G?.replaceMerge??[]).filter(ne=>ne!=null);return K.length>0&&(Y.replaceMerge=[...new Set(K)]),G?.notMerge!==void 0&&(Y.notMerge=G.notMerge),Y}function P(G,Y,K,ne=!1){const te=T(Y);if(ne){G.setOption(te,K??{}),E=void 0;return}if(y.value){const he=K??y.value;G.setOption(te,he),E=void 0;return}const ae=yP(E,te),le=k(ae.plan);G.setOption(ae.option,le),E=ae.signature}Object.keys(e).filter(G=>yw(G)).forEach(G=>{if(G.indexOf("Native:")===2){const te=`on${G.charAt(9).toUpperCase()}${G.slice(10)}`;C[te]=e[G];return}let Y=G.charAt(2).toLowerCase()+G.slice(3),K;Y.indexOf("zr:")===0&&(K=!0,Y=Y.substring(3));let ne;Y.substring(Y.length-4)==="Once"&&(ne=!0,Y=Y.substring(0,Y.length-4)),M.set({event:Y,zr:K,once:ne},e[G])});function D(G,Y=!1,K){if(!i.value)return;const ne=a.value=Uk(i.value,m.value,_.value);t.group&&(ne.group=t.group),M.forEach((le,{zr:he,once:V,event:Ce})=>{if(!le)return;const Re=he?ne.getZr():ne;if(V){const qe=le;let Qe=!1;le=(...X)=>{Qe||(Qe=!0,qe(...X),Re.off(Ce,le))}}Re.on(Ce,le)});function te(){ne&&!ne.isDisposed()&&ne.resize()}function ae(){const le=v.value;le&&(P(ne,le,K,Y),K=void 0)}u.value?Ih(()=>{te(),ae()}):ae()}const N=(G,Y,K)=>{if(!t.manualUpdate)return;const ne=typeof Y=="boolean"?{notMerge:Y,lazyUpdate:K}:Y;a.value&&P(a.value,G,ne??void 0,!0)};function B(){a.value&&(a.value.dispose(),a.value=void 0),E=void 0}let U=null;Vr(p,G=>{typeof U=="function"&&(U(),U=null),G||(U=Vr(()=>t.option,Y=>{if(!Y){E=void 0;return}a.value&&P(a.value,Y)},{deep:!0}))},{immediate:!0}),Vr(_,()=>{B(),D()},{deep:!0}),Vr(m,G=>{a.value?.setTheme(G||{})},{deep:!0}),My(()=>{t.group&&a.value&&(a.value.group=t.group)});const F=nP(a);return sP(a,c,h),iP(a,u,i),Jl(()=>{D()}),hS(()=>{_P&&i.value?i.value.__dispose=B:B()}),r({setOption:N,root:i,chart:a,...F}),(()=>ff(kh,{...b.value,...C,ref:i,class:["echarts",b.value.class]},L()))}}),TP=CP;const xP={key:0,class:"analytics-container"},MP={class:"metric-value"},LP={class:"metric-value"},EP={class:"chart-container"},AP={key:1},kP={class:"dialog-footer"},DP={__name:"DataAnalyticsDialog",props:{visible:{type:Boolean,default:!1},novel:{type:Object,default:()=>null}},emits:["update:visible"],setup(t){Gn([E2,rI,jO,UO,tP,SO]);const e=t,r=kt(()=>{if(!e.novel)return{};const o=Array.from({length:7},(u,p)=>`10-${p+1}`),s=Array.from({length:7},()=>Math.floor(Math.random()*1e3)+50),l=Array.from({length:7},()=>Math.floor(Math.random()*100)+5);return{title:{text:"近7日数据趋势",left:"center"},tooltip:{trigger:"axis"},legend:{data:["阅读量","收藏量"],top:30},grid:{top:70,left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:o},yAxis:{type:"value"},series:[{name:"阅读量",type:"line",stack:"总量",data:s,smooth:!0,areaStyle:{}},{name:"收藏量",type:"line",stack:"总量",data:l,smooth:!0,areaStyle:{}}]}}),n=o=>{switch(o){case"已发布":return"success";case"草稿":return"info";case"审核中":return"warning";case"已下架":return"danger";default:return"info"}},i=["#409EFF","#67C23A","#E6A23C","#F56C6C","#909399"],a=o=>{if(!o)return"#909399";let s=0;for(let u=0;u<o.length;u++)s=o.charCodeAt(u)+((s<<5)-s);const l=Math.abs(s%i.length);return i[l]};return(o,s)=>{const l=ge("el-descriptions-item"),u=ge("el-tag"),p=ge("el-descriptions"),c=ge("el-divider"),h=ge("el-empty"),v=ge("el-button"),m=ge("el-dialog");return Me(),Ge(m,{"model-value":t.visible,title:"小说数据分析",width:"60%","onUpdate:modelValue":s[1]||(s[1]=_=>o.$emit("update:visible",_))},{footer:$(()=>[ze("span",kP,[q(v,{type:"primary",onClick:s[0]||(s[0]=_=>o.$emit("update:visible",!1))},{default:$(()=>[...s[3]||(s[3]=[Te("关闭",-1)])]),_:1})])]),default:$(()=>[t.novel?(Me(),wt("div",xP,[q(p,{title:`《${t.novel.title}》核心指标`,column:2,border:""},{default:$(()=>[q(l,{label:"作品编号"},{default:$(()=>[Te(ut(t.novel.id),1)]),_:1}),q(l,{label:"最后更新时间"},{default:$(()=>[Te(ut(t.novel.lastUpdated),1)]),_:1}),q(l,{label:"总字数"},{default:$(()=>[q(u,{size:"small"},{default:$(()=>[Te(ut(t.novel.wordCount.toLocaleString()),1)]),_:1})]),_:1}),q(l,{label:"发布状态"},{default:$(()=>[q(u,{type:n(t.novel.status),size:"small"},{default:$(()=>[Te(ut(t.novel.status),1)]),_:1},8,["type"])]),_:1}),q(l,{label:"总阅读量"},{default:$(()=>[ze("span",MP,ut(t.novel.views.toLocaleString()),1)]),_:1}),q(l,{label:"总收藏数"},{default:$(()=>[ze("span",LP,ut(t.novel.collections.toLocaleString()),1)]),_:1}),q(l,{label:"连载状态"},{default:$(()=>[Te(ut(t.novel.serializationStatus),1)]),_:1}),q(l,{label:"类型标签"},{default:$(()=>[(Me(!0),wt(Ri,null,Ni(t.novel.tags,_=>(Me(),Ge(u,{key:_,color:a(_),size:"small",style:{color:"white","margin-right":"5px"}},{default:$(()=>[Te(ut(_),1)]),_:2},1032,["color"]))),128))]),_:1})]),_:1},8,["title"]),q(c,null,{default:$(()=>[...s[2]||(s[2]=[Te("图表分析",-1)])]),_:1}),ze("div",EP,[q($e(TP),{class:"chart",option:r.value,autoresize:""},null,8,["option"])])])):(Me(),wt("div",AP,[q(h,{description:"暂无数据"})]))]),_:1},8,["model-value"])}}},IP=wr(DP,[["__scopeId","data-v-d3b31fb9"]]),OP={class:"tree-container"},PP={class:"tree-node-content"},RP={class:"node-title-row"},NP={key:1,class:"node-index"},BP={class:"node-title"},HP={class:"node-info-row"},FP={class:"node-info"},VP={key:0},zP={key:1},UP={class:"node-actions-row"},GP={__name:"ChapterTree",props:{treeData:{type:Array,default:()=>[]},searchKeyword:{type:String,default:""}},emits:["node-click","check-change","check","add-chapter","edit-node","publish-chapter","delete-node","move-up","move-down","context-menu"],setup(t,{emit:e}){const r=t,n=e,i=Ve(null),a={children:"chapters",label:"title"},o=h=>{let v=0;for(const m of r.treeData)for(const _ of m.chapters)if(v++,_.id===h.id)return v;return 0},s=h=>{if(!h)return"";const v=new Date(h);return`${v.getFullYear()}-${String(v.getMonth()+1).padStart(2,"0")}-${String(v.getDate()).padStart(2,"0")}`},l=h=>{for(const v of r.treeData)if(v.chapters&&v.chapters.length>0&&v.chapters[0].id===h.id)return!0;return!1},u=h=>{for(const v of r.treeData)if(v.chapters&&v.chapters.length>0&&v.chapters[v.chapters.length-1].id===h.id)return!0;return!1},p=kt(()=>r.searchKeyword.trim()?r.treeData.map(h=>{const v=h.chapters.filter(m=>m.title.toLowerCase().includes(r.searchKeyword.toLowerCase()));return h.title.toLowerCase().includes(r.searchKeyword.toLowerCase())?{...h}:v.length>0?{...h,chapters:v}:null}).filter(Boolean):r.treeData),c=(h,v)=>{h.preventDefault(),v.isVolume||(v.isFirst=l(v),v.isLast=u(v)),n("context-menu",{event:h,data:v})};return(h,v)=>{const m=ge("el-tag"),_=ge("el-icon"),y=ge("el-button"),b=ge("el-tree");return Me(),wt("div",OP,[q(b,{ref_key:"treeRef",ref:i,data:p.value,props:a,"node-key":"id","expand-on-click-node":!1,"default-expand-all":!0,"show-checkbox":"",onNodeClick:v[0]||(v[0]=C=>h.$emit("node-click",C)),onNodeContextmenu:c,onCheckChange:v[1]||(v[1]=C=>h.$emit("check-change",C)),onCheck:v[2]||(v[2]=C=>h.$emit("check",C))},{default:$(({node:C,data:M})=>[ze("div",PP,[ze("div",RP,[!M.isVolume&&M.status?(Me(),Ge(m,{key:0,type:M.status==="published"?"success":"warning",size:"small",class:"status-tag"},{default:$(()=>[Te(ut(M.status==="published"?"已发布":"草稿"),1)]),_:2},1032,["type"])):Et("",!0),M.isVolume?Et("",!0):(Me(),wt("span",NP,ut(o(M))+".",1)),ze("span",BP,ut(C.label),1)]),ze("div",HP,[ze("span",FP,[!M.isVolume&&M.wordCount?(Me(),wt("span",VP,ut(M.wordCount)+"字",1)):Et("",!0),!M.isVolume&&M.publishDate?(Me(),wt("span",zP,ut(s(M.publishDate)),1)):Et("",!0)])]),ze("div",UP,[M.isVolume?(Me(),Ge(y,{key:0,size:"small",type:"primary",link:"",onClick:qi(L=>h.$emit("add-chapter",M),["stop"])},{default:$(()=>[q(_,null,{default:$(()=>[q($e(Nn))]),_:1}),v[3]||(v[3]=Te(" 添加章节 ",-1))]),_:2},1032,["onClick"])):Et("",!0),q(y,{size:"small",type:"primary",link:"",onClick:qi(L=>h.$emit("edit-node",M),["stop"])},{default:$(()=>[q(_,null,{default:$(()=>[q($e(Dh))]),_:1}),v[4]||(v[4]=Te(" 编辑 ",-1))]),_:2},1032,["onClick"]),M.isVolume?Et("",!0):(Me(),Ge(y,{key:1,size:"small",type:"success",link:"",onClick:qi(L=>h.$emit("publish-chapter",M),["stop"]),disabled:M.status==="published"},{default:$(()=>[q(_,null,{default:$(()=>[q($e(Ph))]),_:1}),v[5]||(v[5]=Te(" 发布 ",-1))]),_:2},1032,["onClick","disabled"])),q(y,{size:"small",type:"danger",link:"",onClick:qi(L=>h.$emit("delete-node",M),["stop"])},{default:$(()=>[q(_,null,{default:$(()=>[q($e(Ql))]),_:1}),v[6]||(v[6]=Te(" 删除 ",-1))]),_:2},1032,["onClick"]),M.isVolume?Et("",!0):(Me(),Ge(y,{key:2,size:"small",link:"",onClick:qi(L=>h.$emit("move-up",M,C),["stop"]),disabled:l(M)},{default:$(()=>[q(_,null,{default:$(()=>[q($e(Ly))]),_:1}),v[7]||(v[7]=Te(" 上移 ",-1))]),_:2},1032,["onClick","disabled"])),M.isVolume?Et("",!0):(Me(),Ge(y,{key:3,size:"small",link:"",onClick:qi(L=>h.$emit("move-down",M,C),["stop"]),disabled:u(M)},{default:$(()=>[q(_,null,{default:$(()=>[q($e(Ey))]),_:1}),v[8]||(v[8]=Te(" 下移 ",-1))]),_:2},1032,["onClick","disabled"]))])])]),_:1},8,["data"])])}}},WP=wr(GP,[["__scopeId","data-v-44fc8655"]]),jP={__name:"VolumeDialog",props:{visible:{type:Boolean,default:!1},treeData:{type:Array,default:()=>[]},editData:{type:Object,default:null}},emits:["update:visible","save"],setup(t,{emit:e}){const r=t,n=e,i=kt({get:()=>r.visible,set:h=>n("update:visible",h)}),a=Ve(null),o=kt(()=>!!r.editData),s=Ve({title:"",sortOrder:0}),l={title:[{required:!0,message:"请输入卷名",trigger:"blur"}]},u=()=>{s.value={title:"",sortOrder:0}};Vr(()=>r.editData,h=>{h?s.value={title:h.title,sortOrder:0}:u()},{immediate:!0});const p=()=>{i.value=!1,u()},c=async()=>{try{await a.value.validate();const h={id:o.value?r.editData.id:Date.now().toString(),title:s.value.title,isVolume:!0,chapters:o.value?r.editData.chapters||[]:[]};n("save",{...h,sortOrder:s.value.sortOrder}),i.value=!1,Tt.success(o.value?"卷编辑成功":"卷添加成功"),u()}catch(h){console.error("保存卷失败:",h)}};return(h,v)=>{const m=ge("el-input"),_=ge("el-form-item"),y=ge("el-option"),b=ge("el-select"),C=ge("el-form"),M=ge("el-button"),L=ge("el-dialog");return Me(),Ge(L,{modelValue:i.value,"onUpdate:modelValue":v[2]||(v[2]=T=>i.value=T),title:o.value?"编辑卷":"添加卷",width:"500px"},{footer:$(()=>[q(M,{onClick:p},{default:$(()=>[...v[3]||(v[3]=[Te("取消",-1)])]),_:1}),q(M,{type:"primary",onClick:c},{default:$(()=>[...v[4]||(v[4]=[Te("确定",-1)])]),_:1})]),default:$(()=>[q(C,{ref_key:"formRef",ref:a,model:s.value,rules:l,"label-width":"100px"},{default:$(()=>[q(_,{label:"卷名",prop:"title"},{default:$(()=>[q(m,{modelValue:s.value.title,"onUpdate:modelValue":v[0]||(v[0]=T=>s.value.title=T),placeholder:"请输入卷名"},null,8,["modelValue"])]),_:1}),o.value?Et("",!0):(Me(),Ge(_,{key:0,label:"排序位置"},{default:$(()=>[q(b,{modelValue:s.value.sortOrder,"onUpdate:modelValue":v[1]||(v[1]=T=>s.value.sortOrder=T),placeholder:"选择位置",style:{width:"100%"}},{default:$(()=>[q(y,{label:"添加到末尾",value:0}),(Me(!0),wt(Ri,null,Ni(t.treeData,(T,E)=>(Me(),Ge(y,{key:T.id,label:`插入到'${T.title}'之前`,value:E+1},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}))]),_:1},8,["model"])]),_:1},8,["modelValue","title"])}}},qP=wr(jP,[["__scopeId","data-v-a5884a7f"]]);var ml={exports:{}};/*!
 * Vditor v3.11.2 - A markdown editor written in TypeScript.
 *
 * MIT License
 *
 * Copyright (c) 2018-present B3log 开源, b3log.org
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */var $P=ml.exports,Cy;function YP(){return Cy||(Cy=1,(function(t,e){(function(n,i){t.exports=i()})($P,function(){return(()=>{var r={173:(o=>{var s=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},l=-1,u=1,p=0;s.Diff=function(c,h){return[c,h]},s.prototype.diff_main=function(c,h,v,m){typeof m>"u"&&(this.Diff_Timeout<=0?m=Number.MAX_VALUE:m=new Date().getTime()+this.Diff_Timeout*1e3);var _=m;if(c==null||h==null)throw new Error("Null input. (diff_main)");if(c==h)return c?[new s.Diff(p,c)]:[];typeof v>"u"&&(v=!0);var y=v,b=this.diff_commonPrefix(c,h),C=c.substring(0,b);c=c.substring(b),h=h.substring(b),b=this.diff_commonSuffix(c,h);var M=c.substring(c.length-b);c=c.substring(0,c.length-b),h=h.substring(0,h.length-b);var L=this.diff_compute_(c,h,y,_);return C&&L.unshift(new s.Diff(p,C)),M&&L.push(new s.Diff(p,M)),this.diff_cleanupMerge(L),L},s.prototype.diff_compute_=function(c,h,v,m){var _;if(!c)return[new s.Diff(u,h)];if(!h)return[new s.Diff(l,c)];var y=c.length>h.length?c:h,b=c.length>h.length?h:c,C=y.indexOf(b);if(C!=-1)return _=[new s.Diff(u,y.substring(0,C)),new s.Diff(p,b),new s.Diff(u,y.substring(C+b.length))],c.length>h.length&&(_[0][0]=_[2][0]=l),_;if(b.length==1)return[new s.Diff(l,c),new s.Diff(u,h)];var M=this.diff_halfMatch_(c,h);if(M){var L=M[0],T=M[1],E=M[2],k=M[3],P=M[4],D=this.diff_main(L,E,v,m),N=this.diff_main(T,k,v,m);return D.concat([new s.Diff(p,P)],N)}return v&&c.length>100&&h.length>100?this.diff_lineMode_(c,h,m):this.diff_bisect_(c,h,m)},s.prototype.diff_lineMode_=function(c,h,v){var m=this.diff_linesToChars_(c,h);c=m.chars1,h=m.chars2;var _=m.lineArray,y=this.diff_main(c,h,!1,v);this.diff_charsToLines_(y,_),this.diff_cleanupSemantic(y),y.push(new s.Diff(p,""));for(var b=0,C=0,M=0,L="",T="";b<y.length;){switch(y[b][0]){case u:M++,T+=y[b][1];break;case l:C++,L+=y[b][1];break;case p:if(C>=1&&M>=1){y.splice(b-C-M,C+M),b=b-C-M;for(var E=this.diff_main(L,T,!1,v),k=E.length-1;k>=0;k--)y.splice(b,0,E[k]);b=b+E.length}M=0,C=0,L="",T="";break}b++}return y.pop(),y},s.prototype.diff_bisect_=function(c,h,v){for(var m=c.length,_=h.length,y=Math.ceil((m+_)/2),b=y,C=2*y,M=new Array(C),L=new Array(C),T=0;T<C;T++)M[T]=-1,L[T]=-1;M[b+1]=0,L[b+1]=0;for(var E=m-_,k=E%2!=0,P=0,D=0,N=0,B=0,U=0;U<y&&!(new Date().getTime()>v);U++){for(var F=-U+P;F<=U-D;F+=2){var G=b+F,Y;F==-U||F!=U&&M[G-1]<M[G+1]?Y=M[G+1]:Y=M[G-1]+1;for(var K=Y-F;Y<m&&K<_&&c.charAt(Y)==h.charAt(K);)Y++,K++;if(M[G]=Y,Y>m)D+=2;else if(K>_)P+=2;else if(k){var ne=b+E-F;if(ne>=0&&ne<C&&L[ne]!=-1){var te=m-L[ne];if(Y>=te)return this.diff_bisectSplit_(c,h,Y,K,v)}}}for(var ae=-U+N;ae<=U-B;ae+=2){var ne=b+ae,te;ae==-U||ae!=U&&L[ne-1]<L[ne+1]?te=L[ne+1]:te=L[ne-1]+1;for(var le=te-ae;te<m&&le<_&&c.charAt(m-te-1)==h.charAt(_-le-1);)te++,le++;if(L[ne]=te,te>m)B+=2;else if(le>_)N+=2;else if(!k){var G=b+E-ae;if(G>=0&&G<C&&M[G]!=-1){var Y=M[G],K=b+Y-G;if(te=m-te,Y>=te)return this.diff_bisectSplit_(c,h,Y,K,v)}}}}return[new s.Diff(l,c),new s.Diff(u,h)]},s.prototype.diff_bisectSplit_=function(c,h,v,m,_){var y=c.substring(0,v),b=h.substring(0,m),C=c.substring(v),M=h.substring(m),L=this.diff_main(y,b,!1,_),T=this.diff_main(C,M,!1,_);return L.concat(T)},s.prototype.diff_linesToChars_=function(c,h){var v=[],m={};v[0]="";function _(M){for(var L="",T=0,E=-1,k=v.length;E<M.length-1;){E=M.indexOf(`
`,T),E==-1&&(E=M.length-1);var P=M.substring(T,E+1);(m.hasOwnProperty?m.hasOwnProperty(P):m[P]!==void 0)?L+=String.fromCharCode(m[P]):(k==y&&(P=M.substring(T),E=M.length),L+=String.fromCharCode(k),m[P]=k,v[k++]=P),T=E+1}return L}var y=4e4,b=_(c);y=65535;var C=_(h);return{chars1:b,chars2:C,lineArray:v}},s.prototype.diff_charsToLines_=function(c,h){for(var v=0;v<c.length;v++){for(var m=c[v][1],_=[],y=0;y<m.length;y++)_[y]=h[m.charCodeAt(y)];c[v][1]=_.join("")}},s.prototype.diff_commonPrefix=function(c,h){if(!c||!h||c.charAt(0)!=h.charAt(0))return 0;for(var v=0,m=Math.min(c.length,h.length),_=m,y=0;v<_;)c.substring(y,_)==h.substring(y,_)?(v=_,y=v):m=_,_=Math.floor((m-v)/2+v);return _},s.prototype.diff_commonSuffix=function(c,h){if(!c||!h||c.charAt(c.length-1)!=h.charAt(h.length-1))return 0;for(var v=0,m=Math.min(c.length,h.length),_=m,y=0;v<_;)c.substring(c.length-_,c.length-y)==h.substring(h.length-_,h.length-y)?(v=_,y=v):m=_,_=Math.floor((m-v)/2+v);return _},s.prototype.diff_commonOverlap_=function(c,h){var v=c.length,m=h.length;if(v==0||m==0)return 0;v>m?c=c.substring(v-m):v<m&&(h=h.substring(0,v));var _=Math.min(v,m);if(c==h)return _;for(var y=0,b=1;;){var C=c.substring(_-b),M=h.indexOf(C);if(M==-1)return y;b+=M,(M==0||c.substring(_-b)==h.substring(0,b))&&(y=b,b++)}},s.prototype.diff_halfMatch_=function(c,h){if(this.Diff_Timeout<=0)return null;var v=c.length>h.length?c:h,m=c.length>h.length?h:c;if(v.length<4||m.length*2<v.length)return null;var _=this;function y(D,N,B){for(var U=D.substring(B,B+Math.floor(D.length/4)),F=-1,G="",Y,K,ne,te;(F=N.indexOf(U,F+1))!=-1;){var ae=_.diff_commonPrefix(D.substring(B),N.substring(F)),le=_.diff_commonSuffix(D.substring(0,B),N.substring(0,F));G.length<le+ae&&(G=N.substring(F-le,F)+N.substring(F,F+ae),Y=D.substring(0,B-le),K=D.substring(B+ae),ne=N.substring(0,F-le),te=N.substring(F+ae))}return G.length*2>=D.length?[Y,K,ne,te,G]:null}var b=y(v,m,Math.ceil(v.length/4)),C=y(v,m,Math.ceil(v.length/2)),M;if(!b&&!C)return null;C?b?M=b[4].length>C[4].length?b:C:M=C:M=b;var L,T,E,k;c.length>h.length?(L=M[0],T=M[1],E=M[2],k=M[3]):(E=M[0],k=M[1],L=M[2],T=M[3]);var P=M[4];return[L,T,E,k,P]},s.prototype.diff_cleanupSemantic=function(c){for(var h=!1,v=[],m=0,_=null,y=0,b=0,C=0,M=0,L=0;y<c.length;)c[y][0]==p?(v[m++]=y,b=M,C=L,M=0,L=0,_=c[y][1]):(c[y][0]==u?M+=c[y][1].length:L+=c[y][1].length,_&&_.length<=Math.max(b,C)&&_.length<=Math.max(M,L)&&(c.splice(v[m-1],0,new s.Diff(l,_)),c[v[m-1]+1][0]=u,m--,m--,y=m>0?v[m-1]:-1,b=0,C=0,M=0,L=0,_=null,h=!0)),y++;for(h&&this.diff_cleanupMerge(c),this.diff_cleanupSemanticLossless(c),y=1;y<c.length;){if(c[y-1][0]==l&&c[y][0]==u){var T=c[y-1][1],E=c[y][1],k=this.diff_commonOverlap_(T,E),P=this.diff_commonOverlap_(E,T);k>=P?(k>=T.length/2||k>=E.length/2)&&(c.splice(y,0,new s.Diff(p,E.substring(0,k))),c[y-1][1]=T.substring(0,T.length-k),c[y+1][1]=E.substring(k),y++):(P>=T.length/2||P>=E.length/2)&&(c.splice(y,0,new s.Diff(p,T.substring(0,P))),c[y-1][0]=u,c[y-1][1]=E.substring(0,E.length-P),c[y+1][0]=l,c[y+1][1]=T.substring(P),y++),y++}y++}},s.prototype.diff_cleanupSemanticLossless=function(c){function h(P,D){if(!P||!D)return 6;var N=P.charAt(P.length-1),B=D.charAt(0),U=N.match(s.nonAlphaNumericRegex_),F=B.match(s.nonAlphaNumericRegex_),G=U&&N.match(s.whitespaceRegex_),Y=F&&B.match(s.whitespaceRegex_),K=G&&N.match(s.linebreakRegex_),ne=Y&&B.match(s.linebreakRegex_),te=K&&P.match(s.blanklineEndRegex_),ae=ne&&D.match(s.blanklineStartRegex_);return te||ae?5:K||ne?4:U&&!G&&Y?3:G||Y?2:U||F?1:0}for(var v=1;v<c.length-1;){if(c[v-1][0]==p&&c[v+1][0]==p){var m=c[v-1][1],_=c[v][1],y=c[v+1][1],b=this.diff_commonSuffix(m,_);if(b){var C=_.substring(_.length-b);m=m.substring(0,m.length-b),_=C+_.substring(0,_.length-b),y=C+y}for(var M=m,L=_,T=y,E=h(m,_)+h(_,y);_.charAt(0)===y.charAt(0);){m+=_.charAt(0),_=_.substring(1)+y.charAt(0),y=y.substring(1);var k=h(m,_)+h(_,y);k>=E&&(E=k,M=m,L=_,T=y)}c[v-1][1]!=M&&(M?c[v-1][1]=M:(c.splice(v-1,1),v--),c[v][1]=L,T?c[v+1][1]=T:(c.splice(v+1,1),v--))}v++}},s.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,s.whitespaceRegex_=/\s/,s.linebreakRegex_=/[\r\n]/,s.blanklineEndRegex_=/\n\r?\n$/,s.blanklineStartRegex_=/^\r?\n\r?\n/,s.prototype.diff_cleanupEfficiency=function(c){for(var h=!1,v=[],m=0,_=null,y=0,b=!1,C=!1,M=!1,L=!1;y<c.length;)c[y][0]==p?(c[y][1].length<this.Diff_EditCost&&(M||L)?(v[m++]=y,b=M,C=L,_=c[y][1]):(m=0,_=null),M=L=!1):(c[y][0]==l?L=!0:M=!0,_&&(b&&C&&M&&L||_.length<this.Diff_EditCost/2&&b+C+M+L==3)&&(c.splice(v[m-1],0,new s.Diff(l,_)),c[v[m-1]+1][0]=u,m--,_=null,b&&C?(M=L=!0,m=0):(m--,y=m>0?v[m-1]:-1,M=L=!1),h=!0)),y++;h&&this.diff_cleanupMerge(c)},s.prototype.diff_cleanupMerge=function(c){c.push(new s.Diff(p,""));for(var h=0,v=0,m=0,_="",y="",b;h<c.length;)switch(c[h][0]){case u:m++,y+=c[h][1],h++;break;case l:v++,_+=c[h][1],h++;break;case p:v+m>1?(v!==0&&m!==0&&(b=this.diff_commonPrefix(y,_),b!==0&&(h-v-m>0&&c[h-v-m-1][0]==p?c[h-v-m-1][1]+=y.substring(0,b):(c.splice(0,0,new s.Diff(p,y.substring(0,b))),h++),y=y.substring(b),_=_.substring(b)),b=this.diff_commonSuffix(y,_),b!==0&&(c[h][1]=y.substring(y.length-b)+c[h][1],y=y.substring(0,y.length-b),_=_.substring(0,_.length-b))),h-=v+m,c.splice(h,v+m),_.length&&(c.splice(h,0,new s.Diff(l,_)),h++),y.length&&(c.splice(h,0,new s.Diff(u,y)),h++),h++):h!==0&&c[h-1][0]==p?(c[h-1][1]+=c[h][1],c.splice(h,1)):h++,m=0,v=0,_="",y="";break}c[c.length-1][1]===""&&c.pop();var C=!1;for(h=1;h<c.length-1;)c[h-1][0]==p&&c[h+1][0]==p&&(c[h][1].substring(c[h][1].length-c[h-1][1].length)==c[h-1][1]?(c[h][1]=c[h-1][1]+c[h][1].substring(0,c[h][1].length-c[h-1][1].length),c[h+1][1]=c[h-1][1]+c[h+1][1],c.splice(h-1,1),C=!0):c[h][1].substring(0,c[h+1][1].length)==c[h+1][1]&&(c[h-1][1]+=c[h+1][1],c[h][1]=c[h][1].substring(c[h+1][1].length)+c[h+1][1],c.splice(h+1,1),C=!0)),h++;C&&this.diff_cleanupMerge(c)},s.prototype.diff_xIndex=function(c,h){var v=0,m=0,_=0,y=0,b;for(b=0;b<c.length&&(c[b][0]!==u&&(v+=c[b][1].length),c[b][0]!==l&&(m+=c[b][1].length),!(v>h));b++)_=v,y=m;return c.length!=b&&c[b][0]===l?y:y+(h-_)},s.prototype.diff_prettyHtml=function(c){for(var h=[],v=/&/g,m=/</g,_=/>/g,y=/\n/g,b=0;b<c.length;b++){var C=c[b][0],M=c[b][1],L=M.replace(v,"&amp;").replace(m,"&lt;").replace(_,"&gt;").replace(y,"&para;<br>");switch(C){case u:h[b]='<ins style="background:#e6ffe6;">'+L+"</ins>";break;case l:h[b]='<del style="background:#ffe6e6;">'+L+"</del>";break;case p:h[b]="<span>"+L+"</span>";break}}return h.join("")},s.prototype.diff_text1=function(c){for(var h=[],v=0;v<c.length;v++)c[v][0]!==u&&(h[v]=c[v][1]);return h.join("")},s.prototype.diff_text2=function(c){for(var h=[],v=0;v<c.length;v++)c[v][0]!==l&&(h[v]=c[v][1]);return h.join("")},s.prototype.diff_levenshtein=function(c){for(var h=0,v=0,m=0,_=0;_<c.length;_++){var y=c[_][0],b=c[_][1];switch(y){case u:v+=b.length;break;case l:m+=b.length;break;case p:h+=Math.max(v,m),v=0,m=0;break}}return h+=Math.max(v,m),h},s.prototype.diff_toDelta=function(c){for(var h=[],v=0;v<c.length;v++)switch(c[v][0]){case u:h[v]="+"+encodeURI(c[v][1]);break;case l:h[v]="-"+c[v][1].length;break;case p:h[v]="="+c[v][1].length;break}return h.join("	").replace(/%20/g," ")},s.prototype.diff_fromDelta=function(c,h){for(var v=[],m=0,_=0,y=h.split(/\t/g),b=0;b<y.length;b++){var C=y[b].substring(1);switch(y[b].charAt(0)){case"+":try{v[m++]=new s.Diff(u,decodeURI(C))}catch{throw new Error("Illegal escape in diff_fromDelta: "+C)}break;case"-":case"=":var M=parseInt(C,10);if(isNaN(M)||M<0)throw new Error("Invalid number in diff_fromDelta: "+C);var L=c.substring(_,_+=M);y[b].charAt(0)=="="?v[m++]=new s.Diff(p,L):v[m++]=new s.Diff(l,L);break;default:if(y[b])throw new Error("Invalid diff operation in diff_fromDelta: "+y[b])}}if(_!=c.length)throw new Error("Delta length ("+_+") does not equal source text length ("+c.length+").");return v},s.prototype.match_main=function(c,h,v){if(c==null||h==null||v==null)throw new Error("Null input. (match_main)");return v=Math.max(0,Math.min(v,c.length)),c==h?0:c.length?c.substring(v,v+h.length)==h?v:this.match_bitap_(c,h,v):-1},s.prototype.match_bitap_=function(c,h,v){if(h.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var m=this.match_alphabet_(h),_=this;function y(Y,K){var ne=Y/h.length,te=Math.abs(v-K);return _.Match_Distance?ne+te/_.Match_Distance:te?1:ne}var b=this.Match_Threshold,C=c.indexOf(h,v);C!=-1&&(b=Math.min(y(0,C),b),C=c.lastIndexOf(h,v+h.length),C!=-1&&(b=Math.min(y(0,C),b)));var M=1<<h.length-1;C=-1;for(var L,T,E=h.length+c.length,k,P=0;P<h.length;P++){for(L=0,T=E;L<T;)y(P,v+T)<=b?L=T:E=T,T=Math.floor((E-L)/2+L);E=T;var D=Math.max(1,v-T+1),N=Math.min(v+T,c.length)+h.length,B=Array(N+2);B[N+1]=(1<<P)-1;for(var U=N;U>=D;U--){var F=m[c.charAt(U-1)];if(P===0?B[U]=(B[U+1]<<1|1)&F:B[U]=(B[U+1]<<1|1)&F|((k[U+1]|k[U])<<1|1)|k[U+1],B[U]&M){var G=y(P,U-1);if(G<=b)if(b=G,C=U-1,C>v)D=Math.max(1,2*v-C);else break}}if(y(P+1,v)>b)break;k=B}return C},s.prototype.match_alphabet_=function(c){for(var h={},v=0;v<c.length;v++)h[c.charAt(v)]=0;for(var v=0;v<c.length;v++)h[c.charAt(v)]|=1<<c.length-v-1;return h},s.prototype.patch_addContext_=function(c,h){if(h.length!=0){if(c.start2===null)throw Error("patch not initialized");for(var v=h.substring(c.start2,c.start2+c.length1),m=0;h.indexOf(v)!=h.lastIndexOf(v)&&v.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)m+=this.Patch_Margin,v=h.substring(c.start2-m,c.start2+c.length1+m);m+=this.Patch_Margin;var _=h.substring(c.start2-m,c.start2);_&&c.diffs.unshift(new s.Diff(p,_));var y=h.substring(c.start2+c.length1,c.start2+c.length1+m);y&&c.diffs.push(new s.Diff(p,y)),c.start1-=_.length,c.start2-=_.length,c.length1+=_.length+y.length,c.length2+=_.length+y.length}},s.prototype.patch_make=function(c,h,v){var m,_;if(typeof c=="string"&&typeof h=="string"&&typeof v>"u")m=c,_=this.diff_main(m,h,!0),_.length>2&&(this.diff_cleanupSemantic(_),this.diff_cleanupEfficiency(_));else if(c&&typeof c=="object"&&typeof h>"u"&&typeof v>"u")_=c,m=this.diff_text1(_);else if(typeof c=="string"&&h&&typeof h=="object"&&typeof v>"u")m=c,_=h;else if(typeof c=="string"&&typeof h=="string"&&v&&typeof v=="object")m=c,_=v;else throw new Error("Unknown call format to patch_make.");if(_.length===0)return[];for(var y=[],b=new s.patch_obj,C=0,M=0,L=0,T=m,E=m,k=0;k<_.length;k++){var P=_[k][0],D=_[k][1];switch(!C&&P!==p&&(b.start1=M,b.start2=L),P){case u:b.diffs[C++]=_[k],b.length2+=D.length,E=E.substring(0,L)+D+E.substring(L);break;case l:b.length1+=D.length,b.diffs[C++]=_[k],E=E.substring(0,L)+E.substring(L+D.length);break;case p:D.length<=2*this.Patch_Margin&&C&&_.length!=k+1?(b.diffs[C++]=_[k],b.length1+=D.length,b.length2+=D.length):D.length>=2*this.Patch_Margin&&C&&(this.patch_addContext_(b,T),y.push(b),b=new s.patch_obj,C=0,T=E,M=L);break}P!==u&&(M+=D.length),P!==l&&(L+=D.length)}return C&&(this.patch_addContext_(b,T),y.push(b)),y},s.prototype.patch_deepCopy=function(c){for(var h=[],v=0;v<c.length;v++){var m=c[v],_=new s.patch_obj;_.diffs=[];for(var y=0;y<m.diffs.length;y++)_.diffs[y]=new s.Diff(m.diffs[y][0],m.diffs[y][1]);_.start1=m.start1,_.start2=m.start2,_.length1=m.length1,_.length2=m.length2,h[v]=_}return h},s.prototype.patch_apply=function(c,h){if(c.length==0)return[h,[]];c=this.patch_deepCopy(c);var v=this.patch_addPadding(c);h=v+h+v,this.patch_splitMax(c);for(var m=0,_=[],y=0;y<c.length;y++){var b=c[y].start2+m,C=this.diff_text1(c[y].diffs),M,L=-1;if(C.length>this.Match_MaxBits?(M=this.match_main(h,C.substring(0,this.Match_MaxBits),b),M!=-1&&(L=this.match_main(h,C.substring(C.length-this.Match_MaxBits),b+C.length-this.Match_MaxBits),(L==-1||M>=L)&&(M=-1))):M=this.match_main(h,C,b),M==-1)_[y]=!1,m-=c[y].length2-c[y].length1;else{_[y]=!0,m=M-b;var T;if(L==-1?T=h.substring(M,M+C.length):T=h.substring(M,L+this.Match_MaxBits),C==T)h=h.substring(0,M)+this.diff_text2(c[y].diffs)+h.substring(M+C.length);else{var E=this.diff_main(C,T,!1);if(C.length>this.Match_MaxBits&&this.diff_levenshtein(E)/C.length>this.Patch_DeleteThreshold)_[y]=!1;else{this.diff_cleanupSemanticLossless(E);for(var k=0,P,D=0;D<c[y].diffs.length;D++){var N=c[y].diffs[D];N[0]!==p&&(P=this.diff_xIndex(E,k)),N[0]===u?h=h.substring(0,M+P)+N[1]+h.substring(M+P):N[0]===l&&(h=h.substring(0,M+P)+h.substring(M+this.diff_xIndex(E,k+N[1].length))),N[0]!==l&&(k+=N[1].length)}}}}}return h=h.substring(v.length,h.length-v.length),[h,_]},s.prototype.patch_addPadding=function(c){for(var h=this.Patch_Margin,v="",m=1;m<=h;m++)v+=String.fromCharCode(m);for(var m=0;m<c.length;m++)c[m].start1+=h,c[m].start2+=h;var _=c[0],y=_.diffs;if(y.length==0||y[0][0]!=p)y.unshift(new s.Diff(p,v)),_.start1-=h,_.start2-=h,_.length1+=h,_.length2+=h;else if(h>y[0][1].length){var b=h-y[0][1].length;y[0][1]=v.substring(y[0][1].length)+y[0][1],_.start1-=b,_.start2-=b,_.length1+=b,_.length2+=b}if(_=c[c.length-1],y=_.diffs,y.length==0||y[y.length-1][0]!=p)y.push(new s.Diff(p,v)),_.length1+=h,_.length2+=h;else if(h>y[y.length-1][1].length){var b=h-y[y.length-1][1].length;y[y.length-1][1]+=v.substring(0,b),_.length1+=b,_.length2+=b}return v},s.prototype.patch_splitMax=function(c){for(var h=this.Match_MaxBits,v=0;v<c.length;v++)if(!(c[v].length1<=h)){var m=c[v];c.splice(v--,1);for(var _=m.start1,y=m.start2,b="";m.diffs.length!==0;){var C=new s.patch_obj,M=!0;for(C.start1=_-b.length,C.start2=y-b.length,b!==""&&(C.length1=C.length2=b.length,C.diffs.push(new s.Diff(p,b)));m.diffs.length!==0&&C.length1<h-this.Patch_Margin;){var L=m.diffs[0][0],T=m.diffs[0][1];L===u?(C.length2+=T.length,y+=T.length,C.diffs.push(m.diffs.shift()),M=!1):L===l&&C.diffs.length==1&&C.diffs[0][0]==p&&T.length>2*h?(C.length1+=T.length,_+=T.length,M=!1,C.diffs.push(new s.Diff(L,T)),m.diffs.shift()):(T=T.substring(0,h-C.length1-this.Patch_Margin),C.length1+=T.length,_+=T.length,L===p?(C.length2+=T.length,y+=T.length):M=!1,C.diffs.push(new s.Diff(L,T)),T==m.diffs[0][1]?m.diffs.shift():m.diffs[0][1]=m.diffs[0][1].substring(T.length))}b=this.diff_text2(C.diffs),b=b.substring(b.length-this.Patch_Margin);var E=this.diff_text1(m.diffs).substring(0,this.Patch_Margin);E!==""&&(C.length1+=E.length,C.length2+=E.length,C.diffs.length!==0&&C.diffs[C.diffs.length-1][0]===p?C.diffs[C.diffs.length-1][1]+=E:C.diffs.push(new s.Diff(p,E))),M||c.splice(++v,0,C)}}},s.prototype.patch_toText=function(c){for(var h=[],v=0;v<c.length;v++)h[v]=c[v];return h.join("")},s.prototype.patch_fromText=function(c){var h=[];if(!c)return h;for(var v=c.split(`
`),m=0,_=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;m<v.length;){var y=v[m].match(_);if(!y)throw new Error("Invalid patch string: "+v[m]);var b=new s.patch_obj;for(h.push(b),b.start1=parseInt(y[1],10),y[2]===""?(b.start1--,b.length1=1):y[2]=="0"?b.length1=0:(b.start1--,b.length1=parseInt(y[2],10)),b.start2=parseInt(y[3],10),y[4]===""?(b.start2--,b.length2=1):y[4]=="0"?b.length2=0:(b.start2--,b.length2=parseInt(y[4],10)),m++;m<v.length;){var C=v[m].charAt(0);try{var M=decodeURI(v[m].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+M)}if(C=="-")b.diffs.push(new s.Diff(l,M));else if(C=="+")b.diffs.push(new s.Diff(u,M));else if(C==" ")b.diffs.push(new s.Diff(p,M));else{if(C=="@")break;if(C!=="")throw new Error('Invalid patch mode "'+C+'" in: '+M)}m++}}return h},s.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},s.patch_obj.prototype.toString=function(){var c,h;this.length1===0?c=this.start1+",0":this.length1==1?c=this.start1+1:c=this.start1+1+","+this.length1,this.length2===0?h=this.start2+",0":this.length2==1?h=this.start2+1:h=this.start2+1+","+this.length2;for(var v=["@@ -"+c+" +"+h+` @@
`],m,_=0;_<this.diffs.length;_++){switch(this.diffs[_][0]){case u:m="+";break;case l:m="-";break;case p:m=" ";break}v[_+1]=m+encodeURI(this.diffs[_][1])+`
`}return v.join("").replace(/%20/g," ")},o.exports=s,o.exports.diff_match_patch=s,o.exports.DIFF_DELETE=l,o.exports.DIFF_INSERT=u,o.exports.DIFF_EQUAL=p}),408:((o,s,l)=>{l.d(s,{default:()=>Qe});var u=l(135),p=l(840),c=l(775),h=l(428),v=l(325),m=l(483),_=l(999),y=function(X){X===void 0&&(X=document);var Oe=function(ie){var Z=document.createElement("img");Z.src=ie.getAttribute("data-src"),Z.addEventListener("load",function(){!ie.getAttribute("style")&&!ie.getAttribute("class")&&!ie.getAttribute("width")&&!ie.getAttribute("height")&&Z.naturalHeight>Z.naturalWidth&&Z.naturalWidth/Z.naturalHeight<document.querySelector(".vditor-reset").clientWidth/(window.innerHeight-40)&&Z.naturalHeight>window.innerHeight-40&&(ie.style.height=window.innerHeight-40+"px"),ie.src=Z.src}),ie.removeAttribute("data-src")};if(!("IntersectionObserver"in window))return X.querySelectorAll("img").forEach(function(ie){ie.getAttribute("data-src")&&Oe(ie)}),!1;window.vditorImageIntersectionObserver?(window.vditorImageIntersectionObserver.disconnect(),X.querySelectorAll("img").forEach(function(ie){window.vditorImageIntersectionObserver.observe(ie)})):(window.vditorImageIntersectionObserver=new IntersectionObserver(function(ie){ie.forEach(function(Z){(typeof Z.isIntersecting>"u"?Z.intersectionRatio!==0:Z.isIntersecting)&&Z.target.getAttribute("data-src")&&Oe(Z.target)})}),X.querySelectorAll("img").forEach(function(ie){window.vditorImageIntersectionObserver.observe(ie)}))},b=l(472),C=l(280),M=l(637),L=l(825),T=l(11),E=l(194),k=l(436),P=l(229),D=l(145),N=l(538),B=l(413),U=l(106),F=l(673),G=function(X){document.querySelectorAll(".vditor-anchor").forEach(function(Oe){X===1&&Oe.classList.add("vditor-anchor--left"),Oe.onclick=function(){var ie=Oe.getAttribute("href").substr(1),Z=document.getElementById("vditorAnchor-"+ie).offsetTop;document.querySelector("html").scrollTop=Z}}),window.onhashchange=function(){var Oe=document.getElementById("vditorAnchor-"+decodeURIComponent(window.location.hash.substr(1)));Oe&&(document.querySelector("html").scrollTop=Oe.offsetTop)}},Y=l(214),K=l(810),ne=function(X,Oe){if(Oe===void 0&&(Oe="zh_CN"),!(typeof speechSynthesis>"u"||typeof SpeechSynthesisUtterance>"u")){var ie=function(){var Se=speechSynthesis.getVoices(),ce,We;return Se.forEach(function(ht){ht.lang===Oe.replace("_","-")&&(ce=ht),ht.default&&(We=ht)}),ce||(ce=We),ce},Z='<svg><use xlink:href="#vditor-icon-play"></use></svg>',me='<svg><use xlink:href="#vditor-icon-pause"></use></svg>';document.getElementById("vditorIconScript")||(Z='<svg viewBox="0 0 32 32"><path d="M3.436 0l25.128 16-25.128 16v-32z"></path></svg>',me='<svg viewBox="0 0 32 32"><path d="M20.617 0h9.128v32h-9.128v-32zM2.255 32v-32h9.128v32h-9.128z"></path></svg>');var W=document.querySelector(".vditor-speech");W||(W=document.createElement("button"),W.className="vditor-speech",X.insertAdjacentElement("beforeend",W),speechSynthesis.onvoiceschanged!==void 0&&(speechSynthesis.onvoiceschanged=ie));var de=ie(),ue=new SpeechSynthesisUtterance;ue.voice=de,ue.onend=ue.onerror=function(){W.style.display="none",speechSynthesis.cancel(),W.classList.remove("vditor-speech--current"),W.innerHTML=Z},X.addEventListener(window.ontouchstart!==void 0?"touchend":"click",function(Se){var ce=Se.target;if(ce.classList.contains("vditor-speech")||ce.parentElement.classList.contains("vditor-speech")){W.classList.contains("vditor-speech--current")?speechSynthesis.speaking&&(speechSynthesis.paused?(speechSynthesis.resume(),W.innerHTML=me):(speechSynthesis.pause(),W.innerHTML=Z)):(ue.text=W.getAttribute("data-text"),speechSynthesis.speak(ue),W.classList.add("vditor-speech--current"),W.innerHTML=me),(0,K.Hc)(window.vditorSpeechRange),X.focus();return}if(W.style.display="none",speechSynthesis.cancel(),W.classList.remove("vditor-speech--current"),W.innerHTML=Z,getSelection().rangeCount!==0){var We=getSelection().getRangeAt(0),ht=We.toString().trim();if(ht){window.vditorSpeechRange=We.cloneRange();var sr=We.getBoundingClientRect();W.innerHTML=Z,W.style.display="block",W.style.top=sr.top+sr.height+document.querySelector("html").scrollTop-20+"px",window.ontouchstart!==void 0?W.style.left=Se.changedTouches[Se.changedTouches.length-1].pageX+2+"px":W.style.left=Se.clientX+2+"px",W.setAttribute("data-text",ht)}}})}},te=function(X,Oe,ie,Z){function me(W){return W instanceof ie?W:new ie(function(de){de(W)})}return new(ie||(ie=Promise))(function(W,de){function ue(We){try{ce(Z.next(We))}catch(ht){de(ht)}}function Se(We){try{ce(Z.throw(We))}catch(ht){de(ht)}}function ce(We){We.done?W(We.value):me(We.value).then(ue,Se)}ce((Z=Z.apply(X,Oe||[])).next())})},ae=function(X,Oe){var ie={label:0,sent:function(){if(W[0]&1)throw W[1];return W[1]},trys:[],ops:[]},Z,me,W,de;return de={next:ue(0),throw:ue(1),return:ue(2)},typeof Symbol=="function"&&(de[Symbol.iterator]=function(){return this}),de;function ue(ce){return function(We){return Se([ce,We])}}function Se(ce){if(Z)throw new TypeError("Generator is already executing.");for(;de&&(de=0,ce[0]&&(ie=0)),ie;)try{if(Z=1,me&&(W=ce[0]&2?me.return:ce[0]?me.throw||((W=me.return)&&W.call(me),0):me.next)&&!(W=W.call(me,ce[1])).done)return W;switch(me=0,W&&(ce=[ce[0]&2,W.value]),ce[0]){case 0:case 1:W=ce;break;case 4:return ie.label++,{value:ce[1],done:!1};case 5:ie.label++,me=ce[1],ce=[0];continue;case 7:ce=ie.ops.pop(),ie.trys.pop();continue;default:if(W=ie.trys,!(W=W.length>0&&W[W.length-1])&&(ce[0]===6||ce[0]===2)){ie=0;continue}if(ce[0]===3&&(!W||ce[1]>W[0]&&ce[1]<W[3])){ie.label=ce[1];break}if(ce[0]===6&&ie.label<W[1]){ie.label=W[1],W=ce;break}if(W&&ie.label<W[2]){ie.label=W[2],ie.ops.push(ce);break}W[2]&&ie.ops.pop(),ie.trys.pop();continue}ce=Oe.call(X,ie)}catch(We){ce=[6,We],me=0}finally{Z=W=0}if(ce[0]&5)throw ce[1];return{value:ce[0]?ce[1]:void 0,done:!0}}},le=function(X){var Oe,ie={anchor:0,cdn:D.g.CDN,customEmoji:{},emojiPath:"".concat(D.g.CDN,"/dist/images/emoji"),hljs:D.g.HLJS_OPTIONS,icon:"ant",lang:"zh_CN",markdown:D.g.MARKDOWN_OPTIONS,math:D.g.MATH_OPTIONS,mode:"light",speech:{enable:!1},render:{media:{enable:!0}},theme:D.g.THEME_OPTIONS};return X.cdn&&(!((Oe=X.theme)===null||Oe===void 0)&&Oe.path||(ie.theme.path="".concat(X.cdn,"/dist/css/content-theme")),X.emojiPath||(ie.emojiPath="".concat(X.cdn,"/dist/images/emoji"))),(0,F.T)(ie,X)},he=function(X,Oe){var ie=le(Oe);return(0,B.G)("".concat(ie.cdn,"/dist/js/lute/lute.min.js"),"vditorLuteScript").then(function(){var Z=(0,Y.X)({autoSpace:ie.markdown.autoSpace,gfmAutoLink:ie.markdown.gfmAutoLink,codeBlockPreview:ie.markdown.codeBlockPreview,emojiSite:ie.emojiPath,emojis:ie.customEmoji,fixTermTypo:ie.markdown.fixTermTypo,footnotes:ie.markdown.footnotes,headingAnchor:ie.anchor!==0,inlineMathDigit:ie.math.inlineDigit,lazyLoadImage:ie.lazyLoadImage,linkBase:ie.markdown.linkBase,linkPrefix:ie.markdown.linkPrefix,listStyle:ie.markdown.listStyle,mark:ie.markdown.mark,mathBlockPreview:ie.markdown.mathBlockPreview,paragraphBeginningSpace:ie.markdown.paragraphBeginningSpace,sanitize:ie.markdown.sanitize,toc:ie.markdown.toc});return Oe?.renderers&&Z.SetJSRenderers({renderers:{Md2HTML:Oe.renderers}}),Z.SetHeadingID(!0),Z.Md2HTML(X)})},V=function(X,Oe,ie){return te(void 0,void 0,void 0,function(){var Z,me,W,de;return ae(this,function(ue){switch(ue.label){case 0:return Z=le(ie),[4,he(Oe,Z)];case 1:if(me=ue.sent(),Z.transform&&(me=Z.transform(me)),X.innerHTML=me,X.classList.add("vditor-reset"),Z.i18n)return[3,5];if(["de_DE","en_US","es_ES","fr_FR","ja_JP","ko_KR","pt_BR","ru_RU","sv_SE","vi_VN","zh_CN","zh_TW"].includes(Z.lang))return[3,2];throw new Error("options.lang error, see https://ld246.com/article/1549638745630#options");case 2:return W="vditorI18nScript",de=W+Z.lang,document.querySelectorAll('head script[id^="'.concat(W,'"]')).forEach(function(Se){Se.id!==de&&document.head.removeChild(Se)}),[4,(0,B.G)("".concat(Z.cdn,"/dist/js/i18n/").concat(Z.lang,".js"),de)];case 3:ue.sent(),ue.label=4;case 4:return[3,6];case 5:window.VditorI18n=Z.i18n,ue.label=6;case 6:return Z.icon?[4,(0,B.G)("".concat(Z.cdn,"/dist/js/icons/").concat(Z.icon,".js"),"vditorIconScript")]:[3,8];case 7:ue.sent(),ue.label=8;case 8:return(0,N.Z)(Z.theme.current,Z.theme.path),Z.anchor===1&&X.classList.add("vditor-reset--anchor"),(0,h.O)(X,Z.hljs),(0,_.s)(Z.hljs,X,Z.cdn),(0,b.H)(X,{cdn:Z.cdn,math:Z.math}),(0,M.i)(X,Z.cdn,Z.mode),(0,L.J)(X,Z.cdn,Z.mode),(0,T.K)(X,Z.cdn),(0,v.P)(X,Z.cdn),(0,m.v)(X,Z.cdn),(0,c.p)(X,Z.cdn,Z.mode),(0,E.P)(X,Z.cdn,Z.mode),(0,P.B)(X,Z.cdn),(0,u.Q)(X,Z.cdn),Z.render.media.enable&&(0,C.Y)(X),Z.speech.enable&&ne(X),Z.anchor!==0&&G(Z.anchor),Z.after&&Z.after(),Z.lazyLoadImage&&y(X),X.addEventListener("click",function(Se){var ce=(0,U.lG)(Se.target,"SPAN");if(ce&&(0,U.fb)(ce,"vditor-toc")){var We=X.querySelector("#"+ce.getAttribute("data-target-id"));We&&window.scrollTo(window.scrollX,We.offsetTop);return}}),[2]}})})},Ce=l(190),Re=l(580),qe=(function(){function X(){}return X.adapterRender=p,X.previewImage=Ce.E,X.codeRender=h.O,X.graphvizRender=m.v,X.highlightRender=_.s,X.mathRender=b.H,X.mermaidRender=M.i,X.SMILESRender=L.J,X.markmapRender=T.K,X.flowchartRender=v.P,X.chartRender=c.p,X.abcRender=u.Q,X.mindmapRender=E.P,X.plantumlRender=P.B,X.outlineRender=k.k,X.mediaRender=C.Y,X.speechRender=ne,X.lazyLoadImageRender=y,X.md2html=he,X.preview=V,X.setCodeTheme=Re.Y,X.setContentTheme=N.Z,X})();const Qe=qe}),145:((o,s,l)=>{l.d(s,{H:()=>u,g:()=>p});var u="3.11.2",p=(function(){function c(){}return c.ZWSP="​",c.DROP_EDITOR="application/editor",c.MOBILE_WIDTH=520,c.CLASS_MENU_DISABLED="vditor-menu--disabled",c.EDIT_TOOLBARS=["emoji","headings","bold","italic","strike","link","list","ordered-list","outdent","indent","check","line","quote","code","inline-code","insert-after","insert-before","upload","record","table"],c.CODE_THEME=["a11y-dark","agate","an-old-hope","androidstudio","arta","atom-one-dark","atom-one-dark-reasonable","base16/3024","base16/apathy","base16/apprentice","base16/ashes","base16/atelier-cave","base16/atelier-dune","base16/atelier-estuary","base16/atelier-forest","base16/atelier-heath","base16/atelier-lakeside","base16/atelier-plateau","base16/atelier-savanna","base16/atelier-seaside","base16/atelier-sulphurpool","base16/atlas","base16/bespin","base16/black-metal","base16/black-metal-bathory","base16/black-metal-burzum","base16/black-metal-dark-funeral","base16/black-metal-gorgoroth","base16/black-metal-immortal","base16/black-metal-khold","base16/black-metal-marduk","base16/black-metal-mayhem","base16/black-metal-nile","base16/black-metal-venom","base16/brewer","base16/bright","base16/brogrammer","base16/brush-trees-dark","base16/chalk","base16/circus","base16/classic-dark","base16/codeschool","base16/colors","base16/danqing","base16/darcula","base16/dark-violet","base16/darkmoss","base16/darktooth","base16/decaf","base16/default-dark","base16/dracula","base16/edge-dark","base16/eighties","base16/embers","base16/equilibrium-dark","base16/equilibrium-gray-dark","base16/espresso","base16/eva","base16/eva-dim","base16/flat","base16/framer","base16/gigavolt","base16/google-dark","base16/grayscale-dark","base16/green-screen","base16/gruvbox-dark-hard","base16/gruvbox-dark-medium","base16/gruvbox-dark-pale","base16/gruvbox-dark-soft","base16/hardcore","base16/harmonic16-dark","base16/heetch-dark","base16/helios","base16/hopscotch","base16/horizon-dark","base16/humanoid-dark","base16/ia-dark","base16/icy-dark","base16/ir-black","base16/isotope","base16/kimber","base16/london-tube","base16/macintosh","base16/marrakesh","base16/materia","base16/material","base16/material-darker","base16/material-palenight","base16/material-vivid","base16/mellow-purple","base16/mocha","base16/monokai","base16/nebula","base16/nord","base16/nova","base16/ocean","base16/oceanicnext","base16/onedark","base16/outrun-dark","base16/papercolor-dark","base16/paraiso","base16/pasque","base16/phd","base16/pico","base16/pop","base16/porple","base16/qualia","base16/railscasts","base16/rebecca","base16/ros-pine","base16/ros-pine-moon","base16/sandcastle","base16/seti-ui","base16/silk-dark","base16/snazzy","base16/solar-flare","base16/solarized-dark","base16/spacemacs","base16/summercamp","base16/summerfruit-dark","base16/synth-midnight-terminal-dark","base16/tango","base16/tender","base16/tomorrow-night","base16/twilight","base16/unikitty-dark","base16/vulcan","base16/windows-10","base16/windows-95","base16/windows-high-contrast","base16/windows-nt","base16/woodland","base16/xcode-dusk","base16/zenburn","codepen-embed","dark","devibeans","far","felipec","github-dark","github-dark-dimmed","gml","gradient-dark","hybrid","ir-black","isbl-editor-dark","kimbie-dark","lioshi","monokai","monokai-sublime","night-owl","nnfx-dark","nord","obsidian","panda-syntax-dark","paraiso-dark","pojoaque","qtcreator-dark","rainbow","shades-of-purple","srcery","stackoverflow-dark","sunburst","tomorrow-night-blue","tomorrow-night-bright","tokyo-night-dark","vs2015","xt256","ant-design","a11y-light","arduino-light","ascetic","atom-one-light","base16/atelier-cave-light","base16/atelier-dune-light","base16/atelier-estuary-light","base16/atelier-forest-light","base16/atelier-heath-light","base16/atelier-lakeside-light","base16/atelier-plateau-light","base16/atelier-savanna-light","base16/atelier-seaside-light","base16/atelier-sulphurpool-light","base16/brush-trees","base16/classic-light","base16/cupcake","base16/cupertino","base16/default-light","base16/dirtysea","base16/edge-light","base16/equilibrium-gray-light","base16/equilibrium-light","base16/fruit-soda","base16/github","base16/google-light","base16/grayscale-light","base16/gruvbox-light-hard","base16/gruvbox-light-medium","base16/gruvbox-light-soft","base16/harmonic16-light","base16/heetch-light","base16/humanoid-light","base16/horizon-light","base16/ia-light","base16/material-lighter","base16/mexico-light","base16/one-light","base16/papercolor-light","base16/ros-pine-dawn","base16/sagelight","base16/shapeshifter","base16/silk-light","base16/solar-flare-light","base16/solarized-light","base16/summerfruit-light","base16/synth-midnight-terminal-light","base16/tomorrow","base16/unikitty-light","base16/windows-10-light","base16/windows-95-light","base16/windows-high-contrast-light","brown-paper","base16/windows-nt-light","color-brewer","docco","foundation","github","googlecode","gradient-light","grayscale","idea","intellij-light","isbl-editor-light","kimbie-light","lightfair","magula","mono-blue","nnfx-light","panda-syntax-light","paraiso-light","purebasic","qtcreator-light","routeros","school-book","stackoverflow-light","tokyo-night-light","vs","xcode","default"],c.ALIAS_CODE_LANGUAGES=["abc","plantuml","mermaid","flowchart","echarts","mindmap","graphviz","math","markmap","smiles","js","ts","html","toml","c#","bat"],c.CDN="https://unpkg.com/vditor@".concat("3.11.2"),c.MARKDOWN_OPTIONS={autoSpace:!1,gfmAutoLink:!0,codeBlockPreview:!0,fixTermTypo:!1,footnotes:!0,linkBase:"",linkPrefix:"",listStyle:!1,mark:!1,mathBlockPreview:!0,paragraphBeginningSpace:!1,sanitize:!0,toc:!1},c.HLJS_OPTIONS={enable:!0,lineNumber:!1,defaultLang:"",style:"github"},c.MATH_OPTIONS={engine:"KaTeX",inlineDigit:!1,macros:{}},c.THEME_OPTIONS={current:"light",list:{"ant-design":"Ant Design",dark:"Dark",light:"Light",wechat:"WeChat"},path:"".concat(c.CDN,"/dist/css/content-theme")},c})()}),825:((o,s,l)=>{l.d(s,{J:()=>v});var u=l(145),p=l(413),c=l(840),h=l(494),v=function(m,_,y){m===void 0&&(m=document),_===void 0&&(_=u.g.CDN);var b=c.SMILESRenderAdapter.getElements(m);b.length>0&&(0,p.G)("".concat(_,"/dist/js/smiles-drawer/smiles-drawer.min.js?v=2.1.7"),"vditorAbcjsScript").then(function(){var C=new SmiDrawer({},{});b.forEach(function(M){var L=c.SMILESRenderAdapter.getCode(M).trim();if(!(M.getAttribute("data-processed")==="true"||L.trim()==="")){var T="smiles"+(0,h.Wb)();M.innerHTML='<svg id="'.concat(T,'"></svg>'),C.draw(L,"#"+T,y==="dark"?"dark":void 0),M.setAttribute("data-processed","true")}})})}}),135:((o,s,l)=>{l.d(s,{Q:()=>h});var u=l(145),p=l(413),c=l(840),h=function(v,m){v===void 0&&(v=document),m===void 0&&(m=u.g.CDN);var _=c.abcRenderAdapter.getElements(v);_.length>0&&(0,p.G)("".concat(m,"/dist/js/abcjs/abcjs_basic.min.js"),"vditorAbcjsScript").then(function(){_.forEach(function(y){y.parentElement.classList.contains("vditor-wysiwyg__pre")||y.parentElement.classList.contains("vditor-ir__marker--pre")||y.getAttribute("data-processed")!=="true"&&(ABCJS.renderAbc(y,c.abcRenderAdapter.getCode(y).trim()),y.style.overflowX="auto",y.setAttribute("data-processed","true"))})})}}),840:((o,s,l)=>{l.r(s),l.d(s,{mathRenderAdapter:()=>u,SMILESRenderAdapter:()=>p,mermaidRenderAdapter:()=>c,markmapRenderAdapter:()=>h,mindmapRenderAdapter:()=>v,chartRenderAdapter:()=>m,abcRenderAdapter:()=>_,graphvizRenderAdapter:()=>y,flowchartRenderAdapter:()=>b,plantumlRenderAdapter:()=>C});var u={getCode:function(M){return M.textContent},getElements:function(M){return M.querySelectorAll(".language-math")}},p={getCode:function(M){return M.textContent},getElements:function(M){return M.querySelectorAll(".language-smiles")}},c={getCode:function(M){return M.textContent},getElements:function(M){return M.querySelectorAll(".language-mermaid")}},h={getCode:function(M){return M.textContent},getElements:function(M){return M.querySelectorAll(".language-markmap")}},v={getCode:function(M){return M.getAttribute("data-code")},getElements:function(M){return M.querySelectorAll(".language-mindmap")}},m={getCode:function(M){return M.innerText},getElements:function(M){return M.querySelectorAll(".language-echarts")}},_={getCode:function(M){return M.textContent},getElements:function(M){return M.querySelectorAll(".language-abc")}},y={getCode:function(M){return M.textContent},getElements:function(M){return M.querySelectorAll(".language-graphviz")}},b={getCode:function(M){return M.textContent},getElements:function(M){return M.querySelectorAll(".language-flowchart")}},C={getCode:function(M){return M.textContent},getElements:function(M){return M.querySelectorAll(".language-plantuml")}}}),775:((o,s,l)=>{l.d(s,{p:()=>_});var u=l(145),p=l(413),c=l(840),h=l(494),v=function(y,b,C,M){function L(T){return T instanceof C?T:new C(function(E){E(T)})}return new(C||(C=Promise))(function(T,E){function k(N){try{D(M.next(N))}catch(B){E(B)}}function P(N){try{D(M.throw(N))}catch(B){E(B)}}function D(N){N.done?T(N.value):L(N.value).then(k,P)}D((M=M.apply(y,b||[])).next())})},m=function(y,b){var C={label:0,sent:function(){if(T[0]&1)throw T[1];return T[1]},trys:[],ops:[]},M,L,T,E;return E={next:k(0),throw:k(1),return:k(2)},typeof Symbol=="function"&&(E[Symbol.iterator]=function(){return this}),E;function k(D){return function(N){return P([D,N])}}function P(D){if(M)throw new TypeError("Generator is already executing.");for(;E&&(E=0,D[0]&&(C=0)),C;)try{if(M=1,L&&(T=D[0]&2?L.return:D[0]?L.throw||((T=L.return)&&T.call(L),0):L.next)&&!(T=T.call(L,D[1])).done)return T;switch(L=0,T&&(D=[D[0]&2,T.value]),D[0]){case 0:case 1:T=D;break;case 4:return C.label++,{value:D[1],done:!1};case 5:C.label++,L=D[1],D=[0];continue;case 7:D=C.ops.pop(),C.trys.pop();continue;default:if(T=C.trys,!(T=T.length>0&&T[T.length-1])&&(D[0]===6||D[0]===2)){C=0;continue}if(D[0]===3&&(!T||D[1]>T[0]&&D[1]<T[3])){C.label=D[1];break}if(D[0]===6&&C.label<T[1]){C.label=T[1],T=D;break}if(T&&C.label<T[2]){C.label=T[2],C.ops.push(D);break}T[2]&&C.ops.pop(),C.trys.pop();continue}D=b.call(y,C)}catch(N){D=[6,N],L=0}finally{M=T=0}if(D[0]&5)throw D[1];return{value:D[0]?D[1]:void 0,done:!0}}},_=function(y,b,C){y===void 0&&(y=document),b===void 0&&(b=u.g.CDN);var M=c.chartRenderAdapter.getElements(y);M.length>0&&(0,p.G)("".concat(b,"/dist/js/echarts/echarts.min.js?v=5.5.1"),"vditorEchartsScript").then(function(){M.forEach(function(L){return v(void 0,void 0,void 0,function(){var T,E,k;return m(this,function(P){switch(P.label){case 0:if(L.parentElement.classList.contains("vditor-wysiwyg__pre")||L.parentElement.classList.contains("vditor-ir__marker--pre"))return[2];if(T=c.chartRenderAdapter.getCode(L).trim(),!T)return[2];P.label=1;case 1:return P.trys.push([1,3,,4]),L.getAttribute("data-processed")==="true"?[2]:[4,(0,h.Qf)(T)];case 2:return E=P.sent(),echarts.init(L,C==="dark"?"dark":void 0).setOption(E),L.setAttribute("data-processed","true"),[3,4];case 3:return k=P.sent(),L.className="vditor-reset--error",L.innerHTML="echarts render error: <br>".concat(k),[3,4];case 4:return[2]}})})})})}}),428:((o,s,l)=>{l.d(s,{O:()=>c});var u=l(105),p=l(145),c=function(h,v){Array.from(h.querySelectorAll("pre > code")).filter(function(m,_){return!(m.parentElement.classList.contains("vditor-wysiwyg__pre")||m.parentElement.classList.contains("vditor-ir__marker--pre")||m.classList.contains("language-mermaid")||m.classList.contains("language-flowchart")||m.classList.contains("language-echarts")||m.classList.contains("language-mindmap")||m.classList.contains("language-plantuml")||m.classList.contains("language-markmap")||m.classList.contains("language-abc")||m.classList.contains("language-graphviz")||m.classList.contains("language-math")||m.classList.contains("language-smiles")||m.style.maxHeight.indexOf("px")>-1||h.classList.contains("vditor-preview")&&_>5)}).forEach(function(m){var _,y,b,C=m.innerText;if(m.classList.contains("highlight-chroma")){var M=m.cloneNode(!0);M.querySelectorAll(".highlight-ln").forEach(function(k){k.remove()}),C=M.innerText}else C.endsWith(`
`)&&(C=C.substr(0,C.length-1));var L='<svg><use xlink:href="#vditor-icon-copy"></use></svg>';document.getElementById("vditorIconScript")||(L='<svg viewBox="0 0 32 32"><path d="M22.545-0h-17.455c-1.6 0-2.909 1.309-2.909 2.909v20.364h2.909v-20.364h17.455v-2.909zM26.909 5.818h-16c-1.6 0-2.909 1.309-2.909 2.909v20.364c0 1.6 1.309 2.909 2.909 2.909h16c1.6 0 2.909-1.309 2.909-2.909v-20.364c0-1.6-1.309-2.909-2.909-2.909zM26.909 29.091h-16v-20.364h16v20.364z"></path></svg>');var T=document.createElement("div");T.className="vditor-copy",T.innerHTML='<span aria-label="'.concat(((_=window.VditorI18n)===null||_===void 0?void 0:_.copy)||"复制",`"
onmouseover="this.setAttribute('aria-label', '`).concat(((y=window.VditorI18n)===null||y===void 0?void 0:y.copy)||"复制",`')"
class="vditor-tooltipped vditor-tooltipped__w"
onclick="event.stopPropagation();this.previousElementSibling.select();document.execCommand('copy');this.setAttribute('aria-label', '`).concat(((b=window.VditorI18n)===null||b===void 0?void 0:b.copied)||"已复制",`');this.previousElementSibling.blur()">`).concat(L,"</span>");var E=document.createElement("textarea");E.value=(0,u.X)(C),T.insertAdjacentElement("afterbegin",E),v&&v.renderMenu&&v.renderMenu(m,T),m.before(T),m.style.maxHeight=window.outerHeight-40+"px",m.insertAdjacentHTML("afterend",'<span style="position: absolute">'.concat(p.g.ZWSP,"</span>"))})}}),325:((o,s,l)=>{l.d(s,{P:()=>h});var u=l(145),p=l(413),c=l(840),h=function(v,m){m===void 0&&(m=u.g.CDN);var _=c.flowchartRenderAdapter.getElements(v);_.length!==0&&(0,p.G)("".concat(m,"/dist/js/flowchart.js/flowchart.min.js"),"vditorFlowchartScript").then(function(){_.forEach(function(y){if(y.getAttribute("data-processed")!=="true"){var b=flowchart.parse(c.flowchartRenderAdapter.getCode(y));y.innerHTML="",b.drawSVG(y),y.setAttribute("data-processed","true")}})})}}),483:((o,s,l)=>{l.d(s,{v:()=>h});var u=l(145),p=l(413),c=l(840),h=function(v,m){m===void 0&&(m=u.g.CDN);var _=c.graphvizRenderAdapter.getElements(v);_.length!==0&&(0,p.G)("".concat(m,"/dist/js/graphviz/viz.js"),"vditorGraphVizScript").then(function(){_.forEach(function(y){var b=c.graphvizRenderAdapter.getCode(y);if(!(y.parentElement.classList.contains("vditor-wysiwyg__pre")||y.parentElement.classList.contains("vditor-ir__marker--pre"))&&!(y.getAttribute("data-processed")==="true"||b.trim()==="")){try{var C=new Blob(["importScripts('".concat(document.getElementById("vditorGraphVizScript").src.replace("viz.js","full.render.js"),"');")],{type:"application/javascript"}),M=window.URL||window.webkitURL,L=M.createObjectURL(C),T=new Worker(L);new Viz({worker:T}).renderSVGElement(b).then(function(E){y.innerHTML=E.outerHTML}).catch(function(E){y.innerHTML="graphviz render error: <br>".concat(E),y.className="vditor-reset--error"})}catch(E){console.error("graphviz error",E)}y.setAttribute("data-processed","true")}})})}}),999:((o,s,l)=>{l.d(s,{s:()=>h});var u=l(145),p=l(413),c=l(290),h=function(v,m,_){m===void 0&&(m=document),_===void 0&&(_=u.g.CDN);var y=v.style;u.g.CODE_THEME.includes(y)||(y="github");var b=document.getElementById("vditorHljsStyle"),C="".concat(_,"/dist/js/highlight.js/styles/").concat(y,".min.css");if(b&&b.getAttribute("href")!==C&&b.remove(),(0,c.c)("".concat(_,"/dist/js/highlight.js/styles/").concat(y,".min.css"),"vditorHljsStyle"),v.enable!==!1){var M=m.querySelectorAll("pre > code");M.length!==0&&(0,p.G)("".concat(_,"/dist/js/highlight.js/highlight.min.js?v=11.7.0"),"vditorHljsScript").then(function(){(0,p.G)("".concat(_,"/dist/js/highlight.js/third-languages.js?v=1.0.1"),"vditorHljsThirdScript").then(function(){m.querySelectorAll("pre > code").forEach(function(L){if(!(L.parentElement.classList.contains("vditor-ir__marker--pre")||L.parentElement.classList.contains("vditor-wysiwyg__pre"))&&!(L.classList.contains("language-mermaid")||L.classList.contains("language-flowchart")||L.classList.contains("language-echarts")||L.classList.contains("language-mindmap")||L.classList.contains("language-plantuml")||L.classList.contains("language-smiles")||L.classList.contains("language-abc")||L.classList.contains("language-graphviz")||L.classList.contains("language-math"))){v.defaultLang!==""&&L.className.indexOf("language-")===-1&&L.classList.add("language-"+v.defaultLang);var T=L.className.replace("language-","");if(window.hljs.getLanguage(T)||(T="plaintext"),L.innerHTML=window.hljs.highlight(L.textContent,{language:T,ignoreIllegals:!0}).value,L.classList.add("hljs"),!!v.lineNumber){L.classList.add("vditor-linenumber");var E=L.querySelector(".vditor-linenumber__temp");E||(E=document.createElement("div"),E.className="vditor-linenumber__temp",L.insertAdjacentElement("beforeend",E));var k=getComputedStyle(L).whiteSpace,P=!1;(k==="pre-wrap"||k==="pre-line")&&(P=!0);var D="",N=L.textContent.split(/\r\n|\r|\n/g);N.pop(),N.map(function(B){var U="";P&&(E.textContent=B||`
`,U=' style="height:'.concat(E.getBoundingClientRect().height,'px"')),D+="<span".concat(U,"></span>")}),E.style.display="none",D='<span class="vditor-linenumber__rows">'.concat(D,"</span>"),L.insertAdjacentHTML("beforeend",D)}}})})})}}}),11:((o,s,l)=>{l.d(s,{K:()=>_});var u=l(145),p=l(413),c=l(840),h={},v=function(y,b){var C=y.transform(b),M=Object.keys(C.features).filter(function(P){return!h[P]});M.forEach(function(P){h[P]=!0});var L=y.getAssets(M),T=L.styles,E=L.scripts,k=window.markmap;return T&&k.loadCSS(T),E&&k.loadJS(E),C},m=function(y,b){var C=window.markmap,M=C.Transformer,L=C.Markmap,T=C.deriveOptions;C.globalCSS;var E=new M;y.innerHTML='<svg style="width:100%"></svg>';var k=y.firstChild,P=L.create(k,null),D=v(E,b),N=D.root,B=D.frontmatter,U=B?.markmap,F=T(U);P.setData(N,F),P.fit()},_=function(y,b){y===void 0&&(y=document),b===void 0&&(b=u.g.CDN);var C=c.markmapRenderAdapter.getElements(y);C.length!==0&&(0,p.G)("".concat(b,"/dist/js/markmap/markmap.min.js"),"vditorMarkerScript").then(function(){C.forEach(function(M){var L=c.markmapRenderAdapter.getCode(M);if(!(M.getAttribute("data-processed")==="true"||L.trim()==="")){var T=document.createElement("div");T.className="language-markmap",M.parentNode.appendChild(T),m(T,L),M.parentNode.childNodes[0].nodeName=="CODE"&&M.parentNode.removeChild(M.parentNode.childNodes[0])}})})}}),472:((o,s,l)=>{l.d(s,{H:()=>m});var u=l(145),p=l(413),c=l(290),h=l(105),v=l(840),m=function(_,y){_===void 0&&(_=document);var b=v.mathRenderAdapter.getElements(_);if(b.length!==0){var C={cdn:u.g.CDN,math:{engine:"KaTeX",inlineDigit:!1,macros:{}}};if(y&&y.math&&(y.math=Object.assign({},C.math,y.math)),y=Object.assign({},C,y),y.math.engine==="KaTeX")(0,c.c)("".concat(y.cdn,"/dist/js/katex/katex.min.css?v=0.16.9"),"vditorKatexStyle"),(0,p.G)("".concat(y.cdn,"/dist/js/katex/katex.min.js?v=0.16.9"),"vditorKatexScript").then(function(){(0,p.G)("".concat(y.cdn,"/dist/js/katex/mhchem.min.js?v=0.16.9"),"vditorKatexChemScript").then(function(){b.forEach(function(T){if(!(T.parentElement.classList.contains("vditor-wysiwyg__pre")||T.parentElement.classList.contains("vditor-ir__marker--pre"))&&!T.getAttribute("data-math")){var E=(0,h.X)(v.mathRenderAdapter.getCode(T));T.setAttribute("data-math",E);try{T.innerHTML=katex.renderToString(E,{displayMode:T.tagName==="DIV",output:"html",macros:y.math.macros})}catch(k){T.innerHTML=k.message,T.className="language-math vditor-reset--error"}T.addEventListener("copy",function(k){k.stopPropagation(),k.preventDefault();var P=k.currentTarget.closest(".language-math");k.clipboardData.setData("text/html",P.innerHTML),k.clipboardData.setData("text/plain",P.getAttribute("data-math"))})}})})});else if(y.math.engine==="MathJax"){var M=function(T){if(T.length!==0){var E=0,k=T[T.length-1],P=function(){var D=T[E++];D===k?D():D(P)};P()}};window.MathJax||(window.MathJax={loader:{paths:{mathjax:"".concat(y.cdn,"/dist/js/mathjax")}},startup:{typeset:!1},tex:{macros:y.math.macros}},Object.assign(window.MathJax,y.math.mathJaxOptions)),(0,p.J)("".concat(y.cdn,"/dist/js/mathjax/tex-svg-full.js"),"protyleMathJaxScript");var L=function(T,E){var k=(0,h.X)(T.textContent).trim(),P=window.MathJax.getMetricsFor(T);P.display=T.tagName==="DIV",window.MathJax.tex2svgPromise(k,P).then(function(D){T.innerHTML="",T.setAttribute("data-math",k),T.append(D),window.MathJax.startup.document.clear(),window.MathJax.startup.document.updateDocument();var N=D.querySelector('[data-mml-node="merror"]');N&&N.textContent.trim()!==""&&(T.innerHTML=N.textContent.trim(),T.className="vditor-reset--error"),E&&E()})};window.MathJax.startup.promise.then(function(){for(var T=[],E=function(P){var D=b[P];!D.parentElement.classList.contains("vditor-wysiwyg__pre")&&!D.parentElement.classList.contains("vditor-ir__marker--pre")&&!D.getAttribute("data-math")&&(0,h.X)(D.textContent).trim()&&T.push(function(N){P===b.length-1?L(D):L(D,N)})},k=0;k<b.length;k++)E(k);M(T)})}}}}),280:((o,s,l)=>{l.d(s,{Y:()=>v});var u=l(494),p=function(m,_){m.insertAdjacentHTML("afterend",'<video controls="controls" src="'.concat(_,'"></video>')),m.remove()},c=function(m,_){m.insertAdjacentHTML("afterend",'<audio controls="controls" src="'.concat(_,'"></audio>')),m.remove()},h=function(m,_){var y=_.match(/\/\/(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([\w|-]{11})(?:(?:[\?&]t=)(\S+))?/),b=_.match(/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/),C=_.match(/\/\/v\.qq\.com\/x\/cover\/.*\/([^\/]+)\.html\??.*/),M=_.match(/(?:www\.|\/\/)coub\.com\/view\/(\w+)/),L=_.match(/(?:www\.|\/\/)facebook\.com\/([^\/]+)\/videos\/([0-9]+)/),T=_.match(/.+dailymotion.com\/(video|hub)\/(\w+)\?/),E=_.match(/(?:www\.|\/\/)bilibili\.com\/video\/(\w+)/),k=_.match(/(?:www\.|\/\/)ted\.com\/talks\/(\w+)/);if(y&&y[1].length===11)m.insertAdjacentHTML("afterend",'<iframe class="iframe__video" src="//www.youtube.com/embed/'.concat(y[1]+(y[2]?"?start="+y[2]:""),'"></iframe>')),m.remove();else if(b&&b[1])m.insertAdjacentHTML("afterend",'<iframe class="iframe__video" src="//player.youku.com/embed/'.concat(b[1],'"></iframe>')),m.remove();else if(C&&C[1])m.insertAdjacentHTML("afterend",'<iframe class="iframe__video" src="https://v.qq.com/txp/iframe/player.html?vid='.concat(C[1],'"></iframe>')),m.remove();else if(M&&M[1])m.insertAdjacentHTML("afterend",`<iframe class="iframe__video"
 src="//coub.com/embed/`.concat(M[1],'?muted=false&autostart=false&originalSize=true&startWithHD=true"></iframe>')),m.remove();else if(L&&L[0])m.insertAdjacentHTML("afterend",`<iframe class="iframe__video"
 src="https://www.facebook.com/plugins/video.php?href=`.concat(encodeURIComponent(L[0]),'"></iframe>')),m.remove();else if(T&&T[2])m.insertAdjacentHTML("afterend",`<iframe class="iframe__video"
 src="https://www.dailymotion.com/embed/video/`.concat(T[2],'"></iframe>')),m.remove();else if(_.indexOf("bilibili.com")>-1&&(_.indexOf("bvid=")>-1||E&&E[1])){var P={bvid:(0,u.on)("bvid",_)||E&&E[1],page:"1",high_quality:"1",as_wide:"1",allowfullscreen:"true",autoplay:"0"};new URL(_.startsWith("http")?_:"https:"+_).search.split("&").forEach(function(B,U){if(B){U===0&&(B=B.substr(1));var F=B.split("=");P[F[0]]=F[1]}});var D="https://player.bilibili.com/player.html?",N=Object.keys(P);N.forEach(function(B,U){D+="".concat(B,"=").concat(P[B]),U<N.length-1&&(D+="&")}),m.insertAdjacentHTML("afterend",'<iframe class="iframe__video" src="'.concat(D,'"></iframe>')),m.remove()}else k&&k[1]&&(m.insertAdjacentHTML("afterend",'<iframe class="iframe__video" src="//embed.ted.com/talks/'.concat(k[1],'"></iframe>')),m.remove())},v=function(m){m&&m.querySelectorAll("a").forEach(function(_){var y=_.getAttribute("href");y&&(y.match(/^.+.(mp4|m4v|ogg|ogv|webm)$/)?p(_,y):y.match(/^.+.(mp3|wav|flac)$/)?c(_,y):h(_,y))})}}),637:((o,s,l)=>{l.d(s,{i:()=>_});var u=l(145),p=l(413),c=l(840),h=l(494),v=function(y,b,C,M){function L(T){return T instanceof C?T:new C(function(E){E(T)})}return new(C||(C=Promise))(function(T,E){function k(N){try{D(M.next(N))}catch(B){E(B)}}function P(N){try{D(M.throw(N))}catch(B){E(B)}}function D(N){N.done?T(N.value):L(N.value).then(k,P)}D((M=M.apply(y,b||[])).next())})},m=function(y,b){var C={label:0,sent:function(){if(T[0]&1)throw T[1];return T[1]},trys:[],ops:[]},M,L,T,E;return E={next:k(0),throw:k(1),return:k(2)},typeof Symbol=="function"&&(E[Symbol.iterator]=function(){return this}),E;function k(D){return function(N){return P([D,N])}}function P(D){if(M)throw new TypeError("Generator is already executing.");for(;E&&(E=0,D[0]&&(C=0)),C;)try{if(M=1,L&&(T=D[0]&2?L.return:D[0]?L.throw||((T=L.return)&&T.call(L),0):L.next)&&!(T=T.call(L,D[1])).done)return T;switch(L=0,T&&(D=[D[0]&2,T.value]),D[0]){case 0:case 1:T=D;break;case 4:return C.label++,{value:D[1],done:!1};case 5:C.label++,L=D[1],D=[0];continue;case 7:D=C.ops.pop(),C.trys.pop();continue;default:if(T=C.trys,!(T=T.length>0&&T[T.length-1])&&(D[0]===6||D[0]===2)){C=0;continue}if(D[0]===3&&(!T||D[1]>T[0]&&D[1]<T[3])){C.label=D[1];break}if(D[0]===6&&C.label<T[1]){C.label=T[1],T=D;break}if(T&&C.label<T[2]){C.label=T[2],C.ops.push(D);break}T[2]&&C.ops.pop(),C.trys.pop();continue}D=b.call(y,C)}catch(N){D=[6,N],L=0}finally{M=T=0}if(D[0]&5)throw D[1];return{value:D[0]?D[1]:void 0,done:!0}}},_=function(y,b,C){y===void 0&&(y=document),b===void 0&&(b=u.g.CDN);var M=c.mermaidRenderAdapter.getElements(y);M.length!==0&&(0,p.G)("".concat(b,"/dist/js/mermaid/mermaid.min.js?v=11.6.0"),"vditorMermaidScript").then(function(){var L={securityLevel:"loose",altFontFamily:"sans-serif",fontFamily:"sans-serif",startOnLoad:!1,flowchart:{htmlLabels:!0,useMaxWidth:!0},sequence:{useMaxWidth:!0,diagramMarginX:8,diagramMarginY:8,boxMargin:8,showSequenceNumbers:!0},gantt:{leftPadding:75,rightPadding:20}};C==="dark"&&(L.theme="dark"),mermaid.initialize(L),M.forEach(function(T){return v(void 0,void 0,void 0,function(){var E,k,P,D,N;return m(this,function(B){switch(B.label){case 0:if(E=c.mermaidRenderAdapter.getCode(T),T.getAttribute("data-processed")==="true"||E.trim()==="")return[2];k="mermaid"+(0,h.Wb)(),B.label=1;case 1:return B.trys.push([1,3,,4]),[4,mermaid.render(k,T.textContent)];case 2:return P=B.sent(),T.innerHTML=P.svg,[3,4];case 3:return D=B.sent(),N=document.querySelector("#"+k),T.innerHTML="".concat(N.outerHTML,`<br>
<div style="text-align: left"><small>`).concat(D.message.replace(/\n/,"<br>"),"</small></div>"),N.parentElement.remove(),[3,4];case 4:return T.setAttribute("data-processed","true"),[2]}})})})})}}),194:((o,s,l)=>{l.d(s,{P:()=>h});var u=l(145),p=l(413),c=l(840),h=function(v,m,_){v===void 0&&(v=document),m===void 0&&(m=u.g.CDN);var y=c.mindmapRenderAdapter.getElements(v);y.length>0&&(0,p.G)("".concat(m,"/dist/js/echarts/echarts.min.js?v=5.5.1"),"vditorEchartsScript").then(function(){y.forEach(function(b){if(!(b.parentElement.classList.contains("vditor-wysiwyg__pre")||b.parentElement.classList.contains("vditor-ir__marker--pre"))){var C=c.mindmapRenderAdapter.getCode(b);if(C)try{if(b.getAttribute("data-processed")==="true")return;echarts.init(b,_==="dark"?"dark":void 0).setOption({series:[{data:[JSON.parse(decodeURIComponent(C))],initialTreeDepth:-1,itemStyle:{borderWidth:0,color:"#4285f4"},label:{backgroundColor:"#f6f8fa",borderColor:"#d1d5da",borderRadius:5,borderWidth:.5,color:"#586069",lineHeight:20,offset:[-5,0],padding:[0,5],position:"insideRight"},lineStyle:{color:"#d1d5da",width:1},roam:!0,symbol:function(M,L){var T;return!((T=L?.data)===null||T===void 0)&&T.children?"circle":"path://"},type:"tree"}],tooltip:{trigger:"item",triggerOn:"mousemove"}}),b.setAttribute("data-processed","true")}catch(M){b.className="vditor-reset--error",b.innerHTML="mindmap render error: <br>".concat(M)}}})})}}),436:((o,s,l)=>{l.d(s,{k:()=>c});var u=l(771),p=l(472),c=function(h,v,m){var _="",y=[];if(Array.from(h.children).forEach(function(L,T){if((0,u.W)(L)){if(m){var E=L.id.lastIndexOf("_");L.id=L.id.substring(0,E===-1?void 0:E)+"_"+T}y.push(L.id),_+=L.outerHTML.replace("<wbr>","")}}),_==="")return v.innerHTML="","";var b=document.createElement("div");if(m)m.lute.SetToC(!0),m.currentMode==="wysiwyg"&&!m.preview.element.contains(h)?b.innerHTML=m.lute.SpinVditorDOM("<p>[ToC]</p>"+_):m.currentMode==="ir"&&!m.preview.element.contains(h)?b.innerHTML=m.lute.SpinVditorIRDOM("<p>[ToC]</p>"+_):b.innerHTML=m.lute.HTML2VditorDOM("<p>[ToC]</p>"+_),m.lute.SetToC(m.options.preview.markdown.toc);else{v.classList.add("vditor-outline");var C=Lute.New();C.SetToC(!0),b.innerHTML=C.HTML2VditorDOM("<p>[ToC]</p>"+_)}var M=b.firstElementChild.querySelectorAll("li > span[data-target-id]");return M.forEach(function(L,T){if(L.nextElementSibling&&L.nextElementSibling.tagName==="UL"){var E="<svg class='vditor-outline__action'><use xlink:href='#vditor-icon-down'></use></svg>";document.getElementById("vditorIconScript")||(E='<svg class="vditor-outline__action" viewBox="0 0 32 32"><path d="M3.76 6.12l12.24 12.213 12.24-12.213 3.76 3.76-16 16-16-16 3.76-3.76z"></path></svg>'),L.innerHTML="".concat(E,"<span>").concat(L.innerHTML,"</span>")}else L.innerHTML="<svg></svg><span>".concat(L.innerHTML,"</span>");L.setAttribute("data-target-id",y[T])}),_=b.firstElementChild.innerHTML,M.length===0?(v.innerHTML="",_):(v.innerHTML=_,m&&(0,p.H)(v,{cdn:m.options.cdn,math:m.options.preview.math}),v.firstElementChild.addEventListener("click",function(L){for(var T=L.target;T&&!T.isEqualNode(v);){if(T.classList.contains("vditor-outline__action")){T.classList.contains("vditor-outline__action--close")?(T.classList.remove("vditor-outline__action--close"),T.parentElement.nextElementSibling.setAttribute("style","display:block")):(T.classList.add("vditor-outline__action--close"),T.parentElement.nextElementSibling.setAttribute("style","display:none")),L.preventDefault(),L.stopPropagation();break}else if(T.getAttribute("data-target-id")){L.preventDefault(),L.stopPropagation();var E=document.getElementById(T.getAttribute("data-target-id"));if(!E)return;if(m)if(m.options.height==="auto"){var k=E.offsetTop+m.element.offsetTop;m.options.toolbarConfig.pin||(k+=m.toolbar.element.offsetHeight),window.scrollTo(window.scrollX,k)}else m.element.offsetTop<window.scrollY&&window.scrollTo(window.scrollX,m.element.offsetTop),m.preview.element.contains(h)?h.parentElement.scrollTop=E.offsetTop:h.scrollTop=E.offsetTop;else window.scrollTo(window.scrollX,E.offsetTop);break}T=T.parentElement}}),_)}}),229:((o,s,l)=>{l.d(s,{B:()=>h});var u=l(145),p=l(413),c=l(840),h=function(v,m){v===void 0&&(v=document),m===void 0&&(m=u.g.CDN);var _=c.plantumlRenderAdapter.getElements(v);_.length!==0&&(0,p.G)("".concat(m,"/dist/js/plantuml/plantuml-encoder.min.js"),"vditorPlantumlScript").then(function(){_.forEach(function(y){if(!(y.parentElement.classList.contains("vditor-wysiwyg__pre")||y.parentElement.classList.contains("vditor-ir__marker--pre"))){var b=c.plantumlRenderAdapter.getCode(y).trim();if(b)try{y.innerHTML='<object type="image/svg+xml" data="https://www.plantuml.com/plantuml/svg/~1'.concat(plantumlEncoder.encode(b),'"/>')}catch(C){y.className="vditor-reset--error",y.innerHTML="plantuml render error: <br>".concat(C)}}})})}}),214:((o,s,l)=>{l.d(s,{X:()=>u});var u=function(p){var c=Lute.New();return c.PutEmojis(p.emojis),c.SetEmojiSite(p.emojiSite),c.SetHeadingAnchor(p.headingAnchor),c.SetInlineMathAllowDigitAfterOpenMarker(p.inlineMathDigit),c.SetAutoSpace(p.autoSpace),c.SetToC(p.toc),c.SetFootnotes(p.footnotes),c.SetFixTermTypo(p.fixTermTypo),c.SetVditorCodeBlockPreview(p.codeBlockPreview),c.SetVditorMathBlockPreview(p.mathBlockPreview),c.SetSanitize(p.sanitize),c.SetChineseParagraphBeginningSpace(p.paragraphBeginningSpace),c.SetRenderListStyle(p.listStyle),c.SetLinkBase(p.linkBase),c.SetLinkPrefix(p.linkPrefix),c.SetMark(p.mark),c.SetGFMAutoLink(p.gfmAutoLink),p.lazyLoadImage&&c.SetImageLazyLoading(p.lazyLoadImage),c}}),190:((o,s,l)=>{l.d(s,{E:()=>u});var u=function(p,c,h){h===void 0&&(h="classic");var v=p.getBoundingClientRect(),m=36;document.body.insertAdjacentHTML("beforeend",'<div class="vditor vditor-img'.concat(h==="dark"?" vditor--dark":"",`">
    <div class="vditor-img__bar">
      <span class="vditor-img__btn" data-deg="0">
        <svg><use xlink:href="#vditor-icon-redo"></use></svg>
        `).concat(window.VditorI18n.spin,`
      </span>
      <span class="vditor-img__btn"  onclick="this.parentElement.parentElement.outerHTML = '';document.body.style.overflow = ''">
        X &nbsp;`).concat(window.VditorI18n.close,`
      </span>
    </div>
    <div class="vditor-img__img" onclick="this.parentElement.outerHTML = '';document.body.style.overflow = ''">
      <img style="width: `).concat(p.width,"px;height:").concat(p.height,"px;transform: translate3d(").concat(v.left,"px, ").concat(v.top-m,'px, 0)" src="').concat(p.getAttribute("src"),`">
    </div>
</div>`)),document.body.style.overflow="hidden";var _=document.querySelector(".vditor-img img"),y="translate3d(".concat(Math.max(0,window.innerWidth-p.naturalWidth)/2,"px, ").concat(Math.max(0,window.innerHeight-m-p.naturalHeight)/2,"px, 0)");setTimeout(function(){_.setAttribute("style","transition: transform .3s ease-in-out;transform: ".concat(y)),setTimeout(function(){_.parentElement.scrollTo((_.parentElement.scrollWidth-_.parentElement.clientWidth)/2,(_.parentElement.scrollHeight-_.parentElement.clientHeight)/2)},400)});var b=document.querySelector(".vditor-img__btn");b.addEventListener("click",function(){var C=parseInt(b.getAttribute("data-deg"),10)+90;C/90%2===1&&p.naturalWidth>_.parentElement.clientHeight?_.style.transform="translate3d(".concat(Math.max(0,window.innerWidth-p.naturalWidth)/2,"px, ").concat(p.naturalWidth/2-p.naturalHeight/2,"px, 0) rotateZ(").concat(C,"deg)"):_.style.transform="".concat(y," rotateZ(").concat(C,"deg)"),b.setAttribute("data-deg",C.toString()),setTimeout(function(){_.parentElement.scrollTo((_.parentElement.scrollWidth-_.parentElement.clientWidth)/2,(_.parentElement.scrollHeight-_.parentElement.clientHeight)/2)},400)})}}),580:((o,s,l)=>{l.d(s,{Y:()=>c});var u=l(145),p=l(290),c=function(h,v){v===void 0&&(v=u.g.CDN),u.g.CODE_THEME.includes(h)||(h="github");var m=document.getElementById("vditorHljsStyle"),_="".concat(v,"/dist/js/highlight.js/styles/").concat(h,".min.css");m?m.getAttribute("href")!==_&&(m.remove(),(0,p.c)(_,"vditorHljsStyle")):(0,p.c)(_,"vditorHljsStyle")}}),538:((o,s,l)=>{l.d(s,{Z:()=>p});var u=l(290),p=function(c,h){if(!(!c||!h)){var v=document.getElementById("vditorContentTheme"),m="".concat(h,"/").concat(c,".css");v?v.getAttribute("href")!==m&&(v.remove(),(0,u.c)(m,"vditorContentTheme")):(0,u.c)(m,"vditorContentTheme")}}}),413:((o,s,l)=>{l.d(s,{J:()=>u,G:()=>p});var u=function(c,h){if(document.getElementById(h))return!1;var v=new XMLHttpRequest;v.open("GET",c,!1),v.setRequestHeader("Accept","text/javascript, application/javascript, application/ecmascript, application/x-ecmascript, */*; q=0.01"),v.send("");var m=document.createElement("script");m.type="text/javascript",m.text=v.responseText,m.id=h,document.head.appendChild(m)},p=function(c,h){return new Promise(function(v,m){if(document.getElementById(h))return v(!0),!1;var _=document.createElement("script");_.src=c,_.async=!0,document.head.appendChild(_),_.onerror=function(y){m(y)},_.onload=function(){if(document.getElementById(h))return _.remove(),v(!0),!1;_.id=h,v(!0)}})}}),290:((o,s,l)=>{l.d(s,{c:()=>u});var u=function(p,c){if(!document.getElementById(c)){var h=document.createElement("link");h.id=c,h.rel="stylesheet",h.type="text/css",h.href=p,document.getElementsByTagName("head")[0].appendChild(h)}}}),105:((o,s,l)=>{l.d(s,{X:()=>u});var u=function(p){return p.replace(/\u00a0/g," ")}}),410:((o,s,l)=>{l.d(s,{G6:()=>u,vU:()=>p,pK:()=>c,Le:()=>h,yl:()=>v,ns:()=>m,i7:()=>_});var u=function(){return navigator.userAgent.indexOf("Safari")>-1&&navigator.userAgent.indexOf("Chrome")===-1},p=function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1},c=function(){try{return typeof localStorage<"u"}catch{return!1}},h=function(){return navigator.userAgent.indexOf("iPhone")>-1?"touchstart":"click"},v=function(y){return navigator.platform.toUpperCase().indexOf("MAC")>=0?!!(y.metaKey&&!y.ctrlKey):!!(!y.metaKey&&y.ctrlKey)},m=function(y){return/Mac/.test(navigator.platform)||navigator.platform==="iPhone"?y.indexOf("⇧")>-1&&p()&&(y=y.replace(";",":").replace("=","+").replace("-","_")):(y.startsWith("⌘")?y=y.replace("⌘","⌘+"):y.startsWith("⌥")&&y.substr(1,1)!=="⌘"?y=y.replace("⌥","⌥+"):y=y.replace("⇧⌘","⌘+⇧+").replace("⌥⌘","⌥+⌘+"),y=y.replace("⌘","Ctrl").replace("⇧","Shift").replace("⌥","Alt"),y.indexOf("Shift")>-1&&(y=y.replace(";",":").replace("=","+").replace("-","_"))),y},_=function(){return/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}}),494:((o,s,l)=>{l.d(s,{Wb:()=>u,on:()=>p,Qf:()=>c});var u=function(){return([1e7].toString()+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(h){return(parseInt(h,10)^window.crypto.getRandomValues(new Uint32Array(1))[0]&15>>parseInt(h,10)/4).toString(16)})},p=function(h,v){v===void 0&&(v=window.location.search);var m=v.substring(v.indexOf("?")),_=m.indexOf("#"),y=new URLSearchParams(m.substring(0,_>=0?_:void 0));return y.get(h)},c=function(h){return Function('"use strict";return ('.concat(h,")"))()}}),106:((o,s,l)=>{l.d(s,{JQ:()=>p,E2:()=>c,O9:()=>h,a1:()=>v,F9:()=>m,lG:()=>_,fb:()=>y,DX:()=>b});var u=l(771),p=function(C,M){for(var L=y(C,M),T=!1,E=!1;L&&!L.classList.contains("vditor-reset")&&!E;)T=y(L.parentElement,M),T?L=T:E=!0;return L||!1},c=function(C,M){for(var L=(0,u.S)(C,M),T=!1,E=!1;L&&!L.classList.contains("vditor-reset")&&!E;)T=(0,u.S)(L.parentElement,M),T?L=T:E=!0;return L||!1},h=function(C){var M=c(C,"UL"),L=c(C,"OL"),T=M;return L&&(!M||M&&L.contains(M))&&(T=L),T},v=function(C,M,L){if(!C)return!1;C.nodeType===3&&(C=C.parentElement);for(var T=C,E=!1;T&&!E&&!T.classList.contains("vditor-reset");)T.getAttribute(M)===L?E=!0:T=T.parentElement;return E&&T},m=function(C){if(!C)return!1;C.nodeType===3&&(C=C.parentElement);var M=C,L=!1,T=v(C,"data-block","0");if(T)return T;for(;M&&!L&&!M.classList.contains("vditor-reset");)M.tagName==="H1"||M.tagName==="H2"||M.tagName==="H3"||M.tagName==="H4"||M.tagName==="H5"||M.tagName==="H6"||M.tagName==="P"||M.tagName==="BLOCKQUOTE"||M.tagName==="OL"||M.tagName==="UL"?L=!0:M=M.parentElement;return L&&M},_=function(C,M){if(!C)return!1;C.nodeType===3&&(C=C.parentElement);for(var L=C,T=!1;L&&!T&&!L.classList.contains("vditor-reset");)L.nodeName===M?T=!0:L=L.parentElement;return T&&L},y=function(C,M){if(!C)return!1;C.nodeType===3&&(C=C.parentElement);for(var L=C,T=!1;L&&!T&&!L.classList.contains("vditor-reset");)L.classList.contains(M)?T=!0:L=L.parentElement;return T&&L},b=function(C){for(;C&&C.lastChild;)C=C.lastChild;return C}}),771:((o,s,l)=>{l.d(s,{S:()=>u,W:()=>p});var u=function(c,h){if(!c)return!1;c.nodeType===3&&(c=c.parentElement);for(var v=c,m=!1;v&&!m&&!v.classList.contains("vditor-reset");)v.nodeName.indexOf(h)===0?m=!0:v=v.parentElement;return m&&v},p=function(c){var h=u(c,"H");return h&&h.tagName.length===2&&h.tagName!=="HR"?h:!1}}),673:((o,s,l)=>{l.d(s,{T:()=>u});var u=function(){for(var p=[],c=0;c<arguments.length;c++)p[c]=arguments[c];for(var h={},v=function(_){for(var y in _)_.hasOwnProperty(y)&&(Object.prototype.toString.call(_[y])==="[object Object]"?h[y]=u(h[y],_[y]):h[y]=_[y])},m=0;m<p.length;m++)v(p[m]);return h}}),810:((o,s,l)=>{l.d(s,{zh:()=>h,Ny:()=>v,Gb:()=>m,Hc:()=>_,im:()=>y,$j:()=>b,ib:()=>C,oC:()=>M});var u=l(145),p=l(410),c=l(106),h=function(L){var T,E=L[L.currentMode].element;return getSelection().rangeCount>0&&(T=getSelection().getRangeAt(0),E.isEqualNode(T.startContainer)||E.contains(T.startContainer))?T:L[L.currentMode].range?L[L.currentMode].range:(E.focus(),T=E.ownerDocument.createRange(),T.setStart(E,0),T.collapse(!0),T)},v=function(L){var T=window.getSelection().getRangeAt(0);if(!L.contains(T.startContainer)&&!(0,c.fb)(T.startContainer,"vditor-panel--none"))return{left:0,top:0};var E=L.parentElement.getBoundingClientRect(),k;if(T.getClientRects().length===0)if(T.startContainer.nodeType===3){var P=T.startContainer.parentElement;if(P&&P.getClientRects().length>0)k=P.getClientRects()[0];else return{left:0,top:0}}else{var D=T.startContainer.children;if(D[T.startOffset]&&D[T.startOffset].getClientRects().length>0)k=D[T.startOffset].getClientRects()[0];else if(T.startContainer.childNodes.length>0){var N=T.cloneRange();T.selectNode(T.startContainer.childNodes[Math.max(0,T.startOffset-1)]),k=T.getClientRects()[0],T.setEnd(N.endContainer,N.endOffset),T.setStart(N.startContainer,N.startOffset)}else k=T.startContainer.getClientRects()[0];if(!k){for(var B=T.startContainer.childNodes[T.startOffset];!B.getClientRects||B.getClientRects&&B.getClientRects().length===0;)B=B.parentElement;k=B.getClientRects()[0]}}else k=T.getClientRects()[0];return{left:k.left-E.left,top:k.top-E.top}},m=function(L,T){if(!T){if(getSelection().rangeCount===0)return!1;T=getSelection().getRangeAt(0)}var E=T.commonAncestorContainer;return L.isEqualNode(E)||L.contains(E)},_=function(L){var T=window.getSelection();T.removeAllRanges(),T.addRange(L)},y=function(L,T,E){var k={end:0,start:0};if(!E){if(getSelection().rangeCount===0)return k;E=window.getSelection().getRangeAt(0)}if(m(T,E)){var P=E.cloneRange();L.childNodes[0]&&L.childNodes[0].childNodes[0]?P.setStart(L.childNodes[0].childNodes[0],0):P.selectNodeContents(L),P.setEnd(E.startContainer,E.startOffset),k.start=P.toString().length,k.end=k.start+E.toString().length}return k},b=function(L,T,E){var k=0,P=0,D=E.childNodes[P],N=!1,B=!1;L=Math.max(0,L),T=Math.max(0,T);var U=E.ownerDocument.createRange();for(U.setStart(D||E,0),U.collapse(!0);!B&&D;){var F=k+D.textContent.length;if(!N&&L>=k&&L<=F&&(L===0?U.setStart(D,0):D.childNodes[0].nodeType===3?U.setStart(D.childNodes[0],L-k):D.nextSibling?U.setStartBefore(D.nextSibling):U.setStartAfter(D),N=!0,L===T)){B=!0;break}N&&T>=k&&T<=F&&(T===0?U.setEnd(D,0):D.childNodes[0].nodeType===3?U.setEnd(D.childNodes[0],T-k):D.nextSibling?U.setEndBefore(D.nextSibling):U.setEndAfter(D),B=!0),k=F,D=E.childNodes[++P]}return!B&&E.childNodes[P-1]&&U.setStartBefore(E.childNodes[P-1]),_(U),U},C=function(L,T){var E=L.querySelector("wbr");if(E){if(!E.previousElementSibling)E.previousSibling?T.setStart(E.previousSibling,E.previousSibling.textContent.length):E.nextSibling?E.nextSibling.nodeType===3?T.setStart(E.nextSibling,0):T.setStartBefore(E.nextSibling):T.setStart(E.parentElement,0);else if(E.previousElementSibling.isSameNode(E.previousSibling))if(E.previousElementSibling.lastChild){T.setStartBefore(E),T.collapse(!0),_(T),(0,p.i7)()&&(E.previousElementSibling.tagName==="EM"||E.previousElementSibling.tagName==="STRONG"||E.previousElementSibling.tagName==="S")&&(T.insertNode(document.createTextNode(u.g.ZWSP)),T.collapse(!1)),E.remove();return}else T.setStartAfter(E.previousElementSibling);else T.setStart(E.previousSibling,E.previousSibling.textContent.length);T.collapse(!0),E.remove(),_(T)}},M=function(L,T){var E=document.createElement("div");E.innerHTML=L;var k=E.querySelectorAll("p");k.length===1&&!k[0].previousSibling&&!k[0].nextSibling&&T[T.currentMode].element.children.length>0&&E.firstElementChild.tagName==="P"&&(L=k[0].innerHTML.trim());var P=document.createElement("div");P.innerHTML=L;var D=h(T);if(D.toString()!==""&&(T[T.currentMode].preventInput=!0,document.execCommand("delete",!1,"")),P.firstElementChild&&P.firstElementChild.getAttribute("data-block")==="0"){P.lastElementChild.insertAdjacentHTML("beforeend","<wbr>");var N=(0,c.F9)(D.startContainer);if(!N)T[T.currentMode].element.insertAdjacentHTML("beforeend",P.innerHTML);else{var B=(0,c.lG)(D.startContainer,"LI");B&&P.firstElementChild.tagName==="UL"?B.insertAdjacentHTML("afterend",P.firstElementChild.innerHTML):N.insertAdjacentHTML("afterend",P.innerHTML)}C(T[T.currentMode].element,D)}else{var U=document.createElement("template");U.innerHTML=L,D.insertNode(U.content.cloneNode(!0)),D.collapse(!1),_(D)}}})},n={};function i(o){var s=n[o];if(s!==void 0)return s.exports;var l=n[o]={exports:{}};return r[o](l,l.exports,i),l.exports}i.d=(o,s)=>{for(var l in s)i.o(s,l)&&!i.o(o,l)&&Object.defineProperty(o,l,{enumerable:!0,get:s[l]})},i.o=(o,s)=>Object.prototype.hasOwnProperty.call(o,s),i.r=o=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})};var a={};return(()=>{i.d(a,{default:()=>nS});var o=i(408),s=i(145),l=i(105),u=function(f){return f.currentMode==="sv"?(0,l.X)("".concat(f.sv.element.textContent,`
`).replace(/\n\n$/,`
`)):f.currentMode==="wysiwyg"?f.lute.VditorDOM2Md(f.wysiwyg.element.innerHTML):f.currentMode==="ir"?f.lute.VditorIRDOM2Md(f.ir.element.innerHTML):""},p=i(413),c=(function(){function f(){this.element=document.createElement("div"),this.element.className="vditor-devtools",this.element.innerHTML='<div class="vditor-reset--error"></div><div style="height: 100%;"></div>'}return f.prototype.renderEchart=function(d){var g=this;d.devtools.element.style.display==="block"&&(0,p.G)("".concat(d.options.cdn,"/dist/js/echarts/echarts.min.js?v=5.5.1"),"vditorEchartsScript").then(function(){g.ASTChart||(g.ASTChart=echarts.init(d.devtools.element.lastElementChild));try{g.element.lastElementChild.style.display="block",g.element.firstElementChild.innerHTML="",g.ASTChart.setOption({series:[{data:JSON.parse(d.lute.RenderEChartsJSON(u(d))),initialTreeDepth:-1,label:{align:"left",backgroundColor:"rgba(68, 77, 86, .68)",borderRadius:3,color:"#d1d5da",fontSize:12,lineHeight:12,offset:[9,12],padding:[2,4,2,4],position:"top",verticalAlign:"middle"},lineStyle:{color:"#4285f4",type:"curve",width:1},orient:"vertical",roam:!0,type:"tree"}],toolbox:{bottom:25,emphasis:{iconStyle:{color:"#4285f4"}},feature:{restore:{show:!0},saveAsImage:{show:!0}},right:15,show:!0}}),g.ASTChart.resize()}catch(w){g.element.lastElementChild.style.display="none",g.element.firstElementChild.innerHTML=w}})},f})(),h=i(410),v=function(f,d){d.forEach(function(g){if(f[g]){var w=f[g].children[0];w&&w.classList.contains("vditor-menu--current")&&w.classList.remove("vditor-menu--current")}})},m=function(f,d){d.forEach(function(g){if(f[g]){var w=f[g].children[0];w&&!w.classList.contains("vditor-menu--current")&&w.classList.add("vditor-menu--current")}})},_=function(f,d){d.forEach(function(g){if(f[g]){var w=f[g].children[0];w&&w.classList.contains(s.g.CLASS_MENU_DISABLED)&&w.classList.remove(s.g.CLASS_MENU_DISABLED)}})},y=function(f,d){d.forEach(function(g){if(f[g]){var w=f[g].children[0];w&&!w.classList.contains(s.g.CLASS_MENU_DISABLED)&&w.classList.add(s.g.CLASS_MENU_DISABLED)}})},b=function(f,d){d.forEach(function(g){f[g]&&f[g]&&(f[g].style.display="none")})},C=function(f,d){d.forEach(function(g){f[g]&&f[g]&&(f[g].style.display="block")})},M=function(f,d,g){d.includes("subToolbar")&&(f.toolbar.element.querySelectorAll(".vditor-hint").forEach(function(w){g&&w.isEqualNode(g)||(w.style.display="none")}),f.toolbar.elements.emoji&&(f.toolbar.elements.emoji.lastElementChild.style.display="none")),d.includes("hint")&&(f.hint.element.style.display="none"),f.wysiwyg.popover&&d.includes("popover")&&(f.wysiwyg.popover.style.display="none")},L=function(f,d,g,w){g.addEventListener((0,h.Le)(),function(S){S.preventDefault(),S.stopPropagation(),!g.classList.contains(s.g.CLASS_MENU_DISABLED)&&(f.toolbar.element.querySelectorAll(".vditor-hint--current").forEach(function(x){x.classList.remove("vditor-hint--current")}),d.style.display==="block"?d.style.display="none":(M(f,["subToolbar","hint","popover"],g.parentElement.parentElement),g.classList.contains("vditor-tooltipped")||g.classList.add("vditor-hint--current"),d.style.display="block",f.toolbar.element.getBoundingClientRect().right-g.getBoundingClientRect().right<250?d.classList.add("vditor-panel--left"):d.classList.remove("vditor-panel--left")))})},T=i(106),E=i(771),k=function(f,d,g,w){w&&console.log("".concat(f," - ").concat(g,": ").concat(d))},P=i(135),D=i(775),N=i(428),B=i(325),U=i(483),F=i(999),G=i(472),Y=i(637),K=i(11),ne=i(194),te=i(229),ae=i(825),le=function(f,d,g){g===void 0&&(g="sv");var w=document.createElement("div");w.innerHTML=f;var S=!1;w.childElementCount===1&&w.lastElementChild.style.fontFamily.indexOf("monospace")>-1&&(S=!0);var x=w.querySelectorAll("pre");if(w.childElementCount===1&&x.length===1&&x[0].className!=="vditor-wysiwyg"&&x[0].className!=="vditor-sv"&&(S=!0),f.indexOf(`
<p class="p1">`)===0&&(S=!0),w.childElementCount===1&&w.firstElementChild.tagName==="TABLE"&&w.querySelector(".line-number")&&w.querySelector(".line-content")&&(S=!0),S){var A=d||f;return/\n/.test(A)||x.length===1?g==="wysiwyg"?'<div class="vditor-wysiwyg__block" data-block="0" data-type="code-block"><pre><code>'.concat(A.replace(/&/g,"&amp;").replace(/</g,"&lt;"),"<wbr></code></pre></div>"):"\n```\n"+A.replace(/&/g,"&amp;").replace(/</g,"&lt;")+"\n```":g==="wysiwyg"?"<code>".concat(A.replace(/&/g,"&amp;").replace(/</g,"&lt;"),"</code><wbr>"):"`".concat(A,"`")}return!1},he=function(f,d){if(f){if(f.parentElement.getAttribute("data-type")==="html-block"){f.setAttribute("data-render","1");return}var g=f.firstElementChild.className.replace("language-","");if(g==="abc")(0,P.Q)(f,d.options.cdn);else if(g==="mermaid")(0,Y.i)(f,d.options.cdn,d.options.theme);else if(g==="smiles")(0,ae.J)(f,d.options.cdn,d.options.theme);else if(g==="markmap")(0,K.K)(f,d.options.cdn);else if(g==="flowchart")(0,B.P)(f,d.options.cdn);else if(g==="echarts")(0,D.p)(f,d.options.cdn,d.options.theme);else if(g==="mindmap")(0,ne.P)(f,d.options.cdn,d.options.theme);else if(g==="plantuml")(0,te.B)(f,d.options.cdn);else if(g==="graphviz")(0,U.v)(f,d.options.cdn);else if(g==="math")(0,G.H)(f,{cdn:d.options.cdn,math:d.options.preview.math});else{var w=d.options.customRenders.find(function(S){if(S.language===g)return S.render(f,d),!0});w||((0,F.s)(Object.assign({},d.options.preview.hljs),f,d.options.cdn),(0,N.O)(f,d.options.preview.hljs))}f.setAttribute("data-render","1")}},V=i(810),Ce=function(f){if(f.currentMode!=="sv"){var d=f[f.currentMode].element,g=f.outline.render(f);g===""&&(g="[ToC]"),d.querySelectorAll('[data-type="toc-block"]').forEach(function(w){w.innerHTML=g,(0,G.H)(w,{cdn:f.options.cdn,math:f.options.preview.math})})}},Re=function(f,d){var g=(0,T.lG)(f.target,"SPAN");if(g&&(0,T.fb)(g,"vditor-toc")){var w=d[d.currentMode].element.querySelector("#"+g.getAttribute("data-target-id"));if(w)if(d.options.height==="auto"){var S=w.offsetTop+d.element.offsetTop;d.options.toolbarConfig.pin||(S+=d.toolbar.element.offsetHeight),window.scrollTo(window.scrollX,S)}else d.element.offsetTop<window.scrollY&&window.scrollTo(window.scrollX,d.element.offsetTop),d[d.currentMode].element.scrollTop=w.offsetTop;return}},qe=function(f,d,g,w){if(f.previousElementSibling&&f.previousElementSibling.classList.contains("vditor-toc")){if(g.key==="Backspace"&&(0,V.im)(f,d[d.currentMode].element,w).start===0)return f.previousElementSibling.remove(),Fe(d),!0;if(Ui(d,g,w,f,f.previousElementSibling))return!0}if(f.nextElementSibling&&f.nextElementSibling.classList.contains("vditor-toc")){if(g.key==="Delete"&&(0,V.im)(f,d[d.currentMode].element,w).start>=f.textContent.trimRight().length)return f.nextElementSibling.remove(),Fe(d),!0;if(Ha(d,g,w,f,f.nextElementSibling))return!0}if(g.key==="Backspace"||g.key==="Delete"){var S=(0,T.fb)(w.startContainer,"vditor-toc");if(S)return S.remove(),Fe(d),!0}},Qe=function(f,d,g,w){g===void 0&&(g=!1);var S=(0,T.F9)(d.startContainer);if(S&&!g&&S.getAttribute("data-type")!=="code-block"){if(Ru(S.innerHTML)&&S.previousElementSibling||Nu(S.innerHTML))return;for(var x=(0,V.im)(S,f.ir.element,d).start,A=!0,I=x-1;I>S.textContent.substr(0,x).lastIndexOf(`
`);I--)if(S.textContent.charAt(I)!==" "&&S.textContent.charAt(I)!=="	"){A=!1;break}x===0&&(A=!1);for(var R=!0,I=x-1;I<S.textContent.length;I++)if(S.textContent.charAt(I)!==" "&&S.textContent.charAt(I)!==`
`){R=!1;break}if(A){typeof f.options.input=="function"&&f.options.input(u(f));return}if(R&&/^#{1,6} $/.test(S.textContent)&&(R=!1),R){var O=(0,T.fb)(d.startContainer,"vditor-ir__marker");if(!O){var H=d.startContainer.previousSibling;H&&H.nodeType!==3&&H.classList.contains("vditor-ir__node--expand")&&H.classList.remove("vditor-ir__node--expand"),typeof f.options.input=="function"&&f.options.input(u(f));return}}}if(f.ir.element.querySelectorAll(".vditor-ir__node--expand").forEach(function(Ne){Ne.classList.remove("vditor-ir__node--expand")}),S||(S=f.ir.element),!S.querySelector("wbr")){var j=(0,T.fb)(d.startContainer,"vditor-ir__preview");j?j.previousElementSibling.insertAdjacentHTML("beforeend","<wbr>"):d.insertNode(document.createElement("wbr"))}S.querySelectorAll("[style]").forEach(function(Ne){Ne.removeAttribute("style")}),S.getAttribute("data-type")==="link-ref-defs-block"&&(S=f.ir.element);var ee=S.isEqualNode(f.ir.element),re=(0,T.a1)(S,"data-type","footnotes-block"),Q="";if(ee)Q=S.innerHTML;else{var se=(0,E.S)(d.startContainer,"BLOCKQUOTE"),oe=(0,T.O9)(d.startContainer);if(oe&&(S=oe),se&&(!oe||oe&&!se.contains(oe))&&(S=se),re&&(S=re),Q=S.outerHTML,S.tagName==="UL"||S.tagName==="OL"){var J=S.previousElementSibling,we=S.nextElementSibling;J&&(J.tagName==="UL"||J.tagName==="OL")&&(Q=J.outerHTML+Q,J.remove()),we&&(we.tagName==="UL"||we.tagName==="OL")&&(Q=Q+we.outerHTML,we.remove()),Q=Q.replace("<div><wbr><br></div>","<li><p><wbr><br></p></li>")}else S.previousElementSibling&&S.previousElementSibling.textContent.replace(s.g.ZWSP,"")!==""&&w&&w.inputType==="insertParagraph"&&(Q=S.previousElementSibling.outerHTML+Q,S.previousElementSibling.remove());S.innerText.startsWith("```")||(f.ir.element.querySelectorAll("[data-type='link-ref-defs-block']").forEach(function(Ne){Ne&&!S.isEqualNode(Ne)&&(Q+=Ne.outerHTML,Ne.remove())}),f.ir.element.querySelectorAll("[data-type='footnotes-block']").forEach(function(Ne){Ne&&!S.isEqualNode(Ne)&&(Q+=Ne.outerHTML,Ne.remove())}))}if(k("SpinVditorIRDOM",Q,"argument",f.options.debugger),Q=f.lute.SpinVditorIRDOM(Q),k("SpinVditorIRDOM",Q,"result",f.options.debugger),ee)S.innerHTML=Q;else if(S.outerHTML=Q,re){var fe=(0,T.a1)(f.ir.element.querySelector("wbr"),"data-type","footnotes-def");if(fe){var Ee=fe.textContent,rt=Ee.substring(1,Ee.indexOf("]:")),Je=f.ir.element.querySelector('sup[data-type="footnotes-ref"][data-footnotes-label="'.concat(rt,'"]'));Je&&Je.setAttribute("aria-label",Ee.substr(rt.length+3).trim().substr(0,24))}}var st,Wt=f.ir.element.querySelectorAll("[data-type='link-ref-defs-block']");Wt.forEach(function(Ne,_t){_t===0?st=Ne:(st.insertAdjacentHTML("beforeend",Ne.innerHTML),Ne.remove())}),Wt.length>0&&f.ir.element.insertAdjacentElement("beforeend",Wt[0]);var It,jt=f.ir.element.querySelectorAll("[data-type='footnotes-block']");jt.forEach(function(Ne,_t){_t===0?It=Ne:(It.insertAdjacentHTML("beforeend",Ne.innerHTML),Ne.remove())}),jt.length>0&&f.ir.element.insertAdjacentElement("beforeend",jt[0]),(0,V.ib)(f.ir.element,d),f.ir.element.querySelectorAll(".vditor-ir__preview[data-render='2']").forEach(function(Ne){he(Ne,f)}),Ce(f),en(f,{enableAddUndoStack:!0,enableHint:!0,enableInput:!0})},X=function(f,d){if(f==="")return!1;if(f.indexOf("⇧")===-1&&f.indexOf("⌘")===-1&&f.indexOf("⌥")===-1)return!(0,h.yl)(d)&&!d.altKey&&!d.shiftKey&&d.code===f;if(f==="⇧Tab")return!!(!(0,h.yl)(d)&&!d.altKey&&d.shiftKey&&d.code==="Tab");var g=f.split("");if(f.startsWith("⌥")){var w=g.length===3?g[2]:g[1];return!!((g.length===3?(0,h.yl)(d):!(0,h.yl)(d))&&d.altKey&&!d.shiftKey&&d.code===(/^[0-9]$/.test(w)?"Digit":"Key")+w)}f==="⌘Enter"&&(g=["⌘","Enter"]);var S=g.length>2&&g[0]==="⇧",x=S?g[2]:g[1];return S&&((0,h.vU)()||!/Mac/.test(navigator.platform))&&(x==="-"?x="_":x==="="&&(x="+")),!!((0,h.yl)(d)&&d.key.toLowerCase()===x.toLowerCase()&&!d.altKey&&(!S&&!d.shiftKey||S&&d.shiftKey))},Oe=function(f){var d=f.startContainer;if(d.nodeType===3&&d.nodeValue.length!==f.startOffset)return!1;for(var g=d.nextSibling;g&&g.textContent==="";)g=g.nextSibling;if(g){if(g&&g.nodeType!==3&&g.classList.contains("vditor-ir__node")&&!g.getAttribute("data-block"))return g}else{var w=(0,T.fb)(d,"vditor-ir__marker");if(w&&!w.nextSibling){var S=d.parentElement.parentElement.nextSibling;if(S&&S.nodeType!==3&&S.classList.contains("vditor-ir__node"))return S}return!1}return!1},ie=function(f){var d=f.startContainer,g=d.previousSibling;return d.nodeType===3&&f.startOffset===0&&g&&g.nodeType!==3&&g.classList.contains("vditor-ir__node")&&!g.getAttribute("data-block")?g:!1},Z=function(f,d){d.ir.element.querySelectorAll(".vditor-ir__node--expand").forEach(function(A){A.classList.remove("vditor-ir__node--expand")});var g=(0,T.JQ)(f.startContainer,"vditor-ir__node"),w=!f.collapsed&&(0,T.JQ)(f.endContainer,"vditor-ir__node");if(!(!f.collapsed&&(!g||g!==w))){g&&(g.classList.add("vditor-ir__node--expand"),g.classList.remove("vditor-ir__node--hidden"),(0,V.Hc)(f));var S=Oe(f);if(S){S.classList.add("vditor-ir__node--expand"),S.classList.remove("vditor-ir__node--hidden");return}var x=ie(f);if(x){x.classList.add("vditor-ir__node--expand"),x.classList.remove("vditor-ir__node--hidden");return}}},me=function(f,d){if(f.ir.composingLock=d.isComposing,d.isComposing)return!1;d.key.indexOf("Arrow")===-1&&d.key!=="Meta"&&d.key!=="Control"&&d.key!=="Alt"&&d.key!=="Shift"&&d.key!=="CapsLock"&&d.key!=="Escape"&&!/^F\d{1,2}$/.test(d.key)&&f.undo.recordFirstPosition(f,d);var g=(0,V.zh)(f),w=g.startContainer;if(!lp(d,f,w)||(up(g,f,d),Tp(g),d.key!=="Enter"&&d.key!=="Tab"&&d.key!=="Backspace"&&d.key.indexOf("Arrow")===-1&&!(0,h.yl)(d)&&d.key!=="Escape"&&d.key!=="Delete"))return!1;var S=(0,T.a1)(w,"data-newline","1");if(!(0,h.yl)(d)&&!d.altKey&&!d.shiftKey&&d.key==="Enter"&&S&&g.startOffset<S.textContent.length){var x=S.previousElementSibling;x&&(g.insertNode(document.createTextNode(x.textContent)),g.collapse(!1));var A=S.nextSibling;A&&(g.insertNode(document.createTextNode(A.textContent)),g.collapse(!0))}var I=(0,T.lG)(w,"P");if(pp(d,f,I,g)||dp(g,f,I,d)||wp(f,g,d,I))return!0;var R=(0,T.fb)(w,"vditor-ir__marker--pre");if(R&&R.tagName==="PRE"){var O=R.firstChild;if(bp(f,d,R,g)||(O.getAttribute("data-type")==="math-block"||O.getAttribute("data-type")==="html-block")&&Ui(f,d,g,O,R.parentElement)||Ha(f,d,g,O,R.parentElement))return!0}var H=(0,T.a1)(w,"data-type","code-block-info");if(H){if(d.key==="Enter"||d.key==="Tab")return g.selectNodeContents(H.nextElementSibling.firstChild),g.collapse(!0),d.preventDefault(),M(f,["hint"]),!0;if(d.key==="Backspace"){var j=(0,V.im)(H,f.ir.element).start;j===1&&g.setStart(w,0),j===2&&(f.hint.recentLanguage="")}if(Ui(f,d,g,H,H.parentElement))return M(f,["hint"]),!0}var ee=(0,T.lG)(w,"TD")||(0,T.lG)(w,"TH");if(d.key.indexOf("Arrow")>-1&&ee){var re=Vw(ee);if(re&&Ui(f,d,g,ee,re))return!0;var Q=zw(ee);if(Q&&Ha(f,d,g,ee,Q))return!0}if(_p(f,d,g)||Sp(f,g,d)||Bu(f,g,d))return!0;var se=(0,E.W)(w);if(se){if(X("⌘=",d)){var oe=se.querySelector(".vditor-ir__marker--heading");return oe&&oe.textContent.trim().length>1&&Fa(f,oe.textContent.substr(1)),d.preventDefault(),!0}if(X("⌘-",d)){var oe=se.querySelector(".vditor-ir__marker--heading");return oe&&oe.textContent.trim().length<6&&Fa(f,oe.textContent.trim()+"# "),d.preventDefault(),!0}}var J=(0,T.F9)(w);if(d.key==="Backspace"&&!(0,h.yl)(d)&&!d.shiftKey&&!d.altKey&&g.toString()===""){if(Cp(f,g,d,I))return!0;if(J&&J.previousElementSibling&&J.tagName!=="UL"&&J.tagName!=="OL"&&(J.previousElementSibling.getAttribute("data-type")==="code-block"||J.previousElementSibling.getAttribute("data-type")==="math-block")){var we=(0,V.im)(J,f.ir.element,g).start;if(we===0||we===1&&J.innerText.startsWith(s.g.ZWSP))return g.selectNodeContents(J.previousElementSibling.querySelector(".vditor-ir__marker--pre code")),g.collapse(!1),Z(g,f),J.textContent.trim().replace(s.g.ZWSP,"")===""&&(J.remove(),en(f)),d.preventDefault(),!0}if(se){var fe=se.firstElementChild.textContent.length;(0,V.im)(se,f.ir.element).start===fe&&fe!==0&&(g.setStart(se.firstElementChild.firstChild,fe-1),g.collapse(!0),(0,V.Hc)(g))}}return(d.key==="ArrowUp"||d.key==="ArrowDown")&&J&&(J.querySelectorAll(".vditor-ir__node").forEach(function(Ee){Ee.contains(w)||Ee.classList.add("vditor-ir__node--hidden")}),xp(d,J,g))?!0:(cp(g,d.key),J&&qe(J,f,d,g)?(d.preventDefault(),!0):!1)},W=i(190),de=function(f,d){f.querySelectorAll("[data-type=footnotes-link]").forEach(function(g){for(var w=g.parentElement,S=w.nextSibling;S&&S.textContent.startsWith("    ");){var x=S;x.childNodes.forEach(function(A){w.append(A.cloneNode(!0))}),S=S.nextSibling,x.remove()}d&&d(w)})},ue=function(f,d){var g,w=getSelection().getRangeAt(0).cloneRange(),S=w.startContainer;w.startContainer.nodeType!==3&&w.startContainer.tagName==="DIV"&&(S=w.startContainer.childNodes[w.startOffset-1]);var x=(0,T.a1)(S,"data-block","0");if(x&&d&&(d.inputType==="deleteContentBackward"||d.data===" ")){for(var A=(0,V.im)(x,f.sv.element,w).start,I=!0,R=A-1;R>x.textContent.substr(0,A).lastIndexOf(`
`);R--)if(x.textContent.charAt(R)!==" "&&x.textContent.charAt(R)!=="	"){I=!1;break}if(A===0&&(I=!1),I){Ct(f);return}if(d.inputType==="deleteContentBackward"){var O=(0,T.a1)(S,"data-type","code-block-open-marker")||(0,T.a1)(S,"data-type","code-block-close-marker");if(O){if(O.getAttribute("data-type")==="code-block-close-marker"){var H=is(S,"code-block-open-marker");if(H){H.textContent=O.textContent,Ct(f);return}}if(O.getAttribute("data-type")==="code-block-open-marker"){var H=is(S,"code-block-close-marker",!1);if(H){H.textContent=O.textContent,Ct(f);return}}}var j=(0,T.a1)(S,"data-type","math-block-open-marker");if(j){var ee=j.nextElementSibling.nextElementSibling;ee&&ee.getAttribute("data-type")==="math-block-close-marker"&&(ee.remove(),Ct(f));return}x.querySelectorAll('[data-type="code-block-open-marker"]').forEach(function(J){J.textContent.length===1&&J.remove()}),x.querySelectorAll('[data-type="code-block-close-marker"]').forEach(function(J){J.textContent.length===1&&J.remove()});var re=(0,T.a1)(S,"data-type","heading-marker");if(re&&re.textContent.indexOf("#")===-1){Ct(f);return}}if((d.data===" "||d.inputType==="deleteContentBackward")&&((0,T.a1)(S,"data-type","padding")||(0,T.a1)(S,"data-type","li-marker")||(0,T.a1)(S,"data-type","task-marker")||(0,T.a1)(S,"data-type","blockquote-marker"))){Ct(f);return}}if(x&&x.textContent.trimRight()==="$$"){Ct(f);return}x||(x=f.sv.element),((g=x.firstElementChild)===null||g===void 0?void 0:g.getAttribute("data-type"))==="link-ref-defs-block"&&(x=f.sv.element),(0,T.a1)(S,"data-type","footnotes-link")&&(x=f.sv.element),x.textContent.indexOf(Lute.Caret)===-1&&w.insertNode(document.createTextNode(Lute.Caret)),x.querySelectorAll("[style]").forEach(function(J){J.removeAttribute("style")}),x.querySelectorAll("font").forEach(function(J){J.outerHTML=J.innerHTML});var Q=x.textContent,se=x.isEqualNode(f.sv.element);if(se)Q=x.textContent;else{x.previousElementSibling&&(Q=x.previousElementSibling.textContent+Q,x.previousElementSibling.remove()),x.previousElementSibling&&Q.indexOf(`---
`)===0&&(Q=x.previousElementSibling.textContent+Q,x.previousElementSibling.remove());var oe="";f.sv.element.querySelectorAll("[data-type='link-ref-defs-block']").forEach(function(J,we){J&&!x.isEqualNode(J.parentElement)&&(oe+=J.parentElement.textContent+`
`,J.parentElement.remove())}),f.sv.element.querySelectorAll("[data-type='footnotes-link']").forEach(function(J,we){J&&!x.isEqualNode(J.parentElement)&&(oe+=J.parentElement.textContent+`
`,J.parentElement.remove())}),Q=oe+Q}Q=rp(Q,f),se?x.innerHTML=Q:x.outerHTML=Q,f.sv.element.querySelectorAll("[data-type='link-ref-defs-block']").forEach(function(J){f.sv.element.insertAdjacentElement("beforeend",J.parentElement)}),de(f.sv.element,function(J){f.sv.element.insertAdjacentElement("beforeend",J)}),(0,V.ib)(f.sv.element,w),yt(f),Ct(f,{enableAddUndoStack:!0,enableHint:!0,enableInput:!0})},Se=function(f,d){var g,w,S,x,A;if(f.sv.composingLock=d.isComposing,d.isComposing||(d.key.indexOf("Arrow")===-1&&d.key!=="Meta"&&d.key!=="Control"&&d.key!=="Alt"&&d.key!=="Shift"&&d.key!=="CapsLock"&&d.key!=="Escape"&&!/^F\d{1,2}$/.test(d.key)&&f.undo.recordFirstPosition(f,d),d.key!=="Enter"&&d.key!=="Tab"&&d.key!=="Backspace"&&d.key.indexOf("Arrow")===-1&&!(0,h.yl)(d)&&d.key!=="Escape"))return!1;var I=(0,V.zh)(f),R=I.startContainer;I.startContainer.nodeType!==3&&I.startContainer.tagName==="DIV"&&(R=I.startContainer.childNodes[I.startOffset-1]);var O=(0,T.a1)(R,"data-type","text"),H=(0,T.a1)(R,"data-type","blockquote-marker");if(!H&&I.startOffset===0&&O&&O.previousElementSibling&&O.previousElementSibling.getAttribute("data-type")==="blockquote-marker"&&(H=O.previousElementSibling),H&&d.key==="Enter"&&!(0,h.yl)(d)&&!d.altKey&&H.nextElementSibling.textContent.trim()===""&&(0,V.im)(H,f.sv.element,I).start===H.textContent.length)return((g=H.previousElementSibling)===null||g===void 0?void 0:g.getAttribute("data-type"))==="padding"&&H.previousElementSibling.setAttribute("data-action","enter-remove"),H.remove(),Ct(f),d.preventDefault(),!0;var j=(0,T.a1)(R,"data-type","li-marker"),ee=(0,T.a1)(R,"data-type","task-marker"),re=j;if(re||ee&&ee.nextElementSibling.getAttribute("data-type")!=="task-marker"&&(re=ee),!re&&I.startOffset===0&&O&&O.previousElementSibling&&(O.previousElementSibling.getAttribute("data-type")==="li-marker"||O.previousElementSibling.getAttribute("data-type")==="task-marker")&&(re=O.previousElementSibling),re){var Q=(0,V.im)(re,f.sv.element,I).start,se=re.getAttribute("data-type")==="task-marker",oe=re;if(se&&(oe=re.previousElementSibling.previousElementSibling.previousElementSibling),Q===re.textContent.length){if(d.key==="Enter"&&!(0,h.yl)(d)&&!d.altKey&&!d.shiftKey&&re.nextElementSibling.textContent.trim()==="")return((w=oe.previousElementSibling)===null||w===void 0?void 0:w.getAttribute("data-type"))==="padding"?(oe.previousElementSibling.remove(),ue(f)):(se&&(oe.remove(),re.previousElementSibling.previousElementSibling.remove(),re.previousElementSibling.remove()),re.nextElementSibling.remove(),re.remove(),Ct(f)),d.preventDefault(),!0;if(d.key==="Tab")return d.shiftKey?oe.previousElementSibling.getAttribute("data-type")==="padding"&&oe.previousElementSibling.remove():oe.insertAdjacentHTML("beforebegin",'<span data-type="padding">'.concat(oe.textContent.replace(/\S/g," "),"</span>")),/^\d/.test(oe.textContent)&&(oe.textContent=oe.textContent.replace(/^\d{1,}/,"1"),I.selectNodeContents(re.firstChild),I.collapse(!1)),ue(f),d.preventDefault(),!0}}if(Bu(f,I,d))return!0;var J=(0,T.a1)(R,"data-block","0"),we=(0,E.S)(R,"SPAN");if(d.key==="Enter"&&!(0,h.yl)(d)&&!d.altKey&&!d.shiftKey&&J){var fe=!1,Ee=J.textContent.match(/^\n+/);(0,V.im)(J,f.sv.element).start<=(Ee?Ee[0].length:0)&&(fe=!0);var rt=`
`;if(we){if(((S=we.previousElementSibling)===null||S===void 0?void 0:S.getAttribute("data-action"))==="enter-remove")return we.previousElementSibling.remove(),Ct(f),d.preventDefault(),!0;rt+=Iw(we)}return I.insertNode(document.createTextNode(rt)),I.collapse(!1),J&&J.textContent.trim()!==""&&!fe?ue(f):Ct(f),d.preventDefault(),!0}if(d.key==="Backspace"&&!(0,h.yl)(d)&&!d.altKey&&!d.shiftKey){if(we&&((x=we.previousElementSibling)===null||x===void 0?void 0:x.getAttribute("data-type"))==="newline"&&(0,V.im)(we,f.sv.element,I).start===1&&we.getAttribute("data-type").indexOf("code-block-")===-1)return I.setStart(we,0),I.extractContents(),we.textContent.trim()!==""?ue(f):Ct(f),d.preventDefault(),!0;if(J&&(0,V.im)(J,f.sv.element,I).start===0&&J.previousElementSibling){I.extractContents();var Je=J.previousElementSibling.lastElementChild;return Je.getAttribute("data-type")==="newline"&&(Je.remove(),Je=J.previousElementSibling.lastElementChild),Je.getAttribute("data-type")!=="newline"&&(Je.insertAdjacentHTML("afterend",J.innerHTML),J.remove()),J.textContent.trim()!==""&&!(!((A=J.previousElementSibling)===null||A===void 0)&&A.querySelector('[data-type="code-block-open-marker"]'))?ue(f):(Je.getAttribute("data-type")!=="newline"&&(I.selectNodeContents(Je.lastChild),I.collapse(!1)),Ct(f)),d.preventDefault(),!0}}return!1},ce=i(538),We=function(f){f.options.theme==="dark"?f.element.classList.add("vditor--dark"):f.element.classList.remove("vditor--dark")},ht=function(f){f.element.innerHTML="",f.element.classList.add("vditor"),f.options.rtl&&f.element.setAttribute("dir","rtl"),We(f),(0,ce.Z)(f.options.preview.theme.current,f.options.preview.theme.path),typeof f.options.height=="number"?f.element.style.height=f.options.height+"px":f.element.style.height=f.options.height,typeof f.options.minHeight=="number"&&(f.element.style.minHeight=f.options.minHeight+"px"),typeof f.options.width=="number"?f.element.style.width=f.options.width+"px":f.element.style.width=f.options.width,f.element.appendChild(f.toolbar.element);var d=document.createElement("div");if(d.className="vditor-content",f.options.outline.position==="left"&&d.appendChild(f.outline.element),d.appendChild(f.wysiwyg.element.parentElement),d.appendChild(f.sv.element),d.appendChild(f.ir.element.parentElement),d.appendChild(f.preview.element),f.toolbar.elements.devtools&&d.appendChild(f.devtools.element),f.options.outline.position==="right"&&(f.outline.element.classList.add("vditor-outline--right"),d.appendChild(f.outline.element)),f.upload&&d.appendChild(f.upload.element),f.options.resize.enable&&d.appendChild(f.resize.element),d.appendChild(f.hint.element),d.appendChild(f.tip.element),f.element.appendChild(d),d.addEventListener("click",function(){M(f,["subToolbar"])}),f.toolbar.elements.export&&f.element.insertAdjacentHTML("beforeend",'<iframe id="vditorExportIframe" style="width: 100%;height: 0;border: 0"></iframe>'),Yn(f,f.options.mode,ww(f)),document.execCommand("DefaultParagraphSeparator",!1,"p"),navigator.userAgent.indexOf("iPhone")>-1&&typeof window.visualViewport<"u"){var g=!1,w=function(S){g||(g=!0,requestAnimationFrame(function(){g=!1;var x=f.toolbar.element;x.style.transform="none",x.getBoundingClientRect().top<0&&(x.style.transform="translate(0, ".concat(-x.getBoundingClientRect().top,"px)"))}))};window.visualViewport.addEventListener("scroll",w),window.visualViewport.addEventListener("resize",w)}},sr=function(f){var d=window.innerWidth<=s.g.MOBILE_WIDTH?10:35;if(f.wysiwyg.element.parentElement.style.display!=="none"){var g=(f.wysiwyg.element.parentElement.clientWidth-f.options.preview.maxWidth)/2;f.wysiwyg.element.style.padding="10px ".concat(Math.max(d,g),"px")}if(f.ir.element.parentElement.style.display!=="none"){var g=(f.ir.element.parentElement.clientWidth-f.options.preview.maxWidth)/2;f.ir.element.style.padding="10px ".concat(Math.max(d,g),"px")}f.preview.element.style.display!=="block"?f.toolbar.element.style.paddingLeft=Math.max(5,parseInt(f[f.currentMode].element.style.paddingLeft||"0",10)+(f.options.outline.position==="left"?f.outline.element.offsetWidth:0))+"px":f.toolbar.element.style.paddingLeft=5+(f.options.outline.position==="left"?f.outline.element.offsetWidth:0)+"px"},rs=function(f){if(f.options.typewriterMode){var d=window.innerHeight;typeof f.options.height=="number"?(d=f.options.height,typeof f.options.minHeight=="number"&&(d=Math.max(d,f.options.minHeight)),d=Math.min(window.innerHeight,d)):d=f.element.clientHeight,f.element.classList.contains("vditor--fullscreen")&&(d=window.innerHeight),f[f.currentMode].element.style.setProperty("--editor-bottom",(d-f.toolbar.element.offsetHeight)/2+"px")}},Kd;function Xd(){window.removeEventListener("resize",Kd)}var ww=function(f){rs(f),Xd(),window.addEventListener("resize",Kd=function(){sr(f),rs(f)});var d=(0,h.pK)()&&localStorage.getItem(f.options.cache.id);return(!f.options.cache.enable||!d)&&(f.options.value?d=f.options.value:f.originalInnerHTML?d=f.lute.HTML2Md(f.originalInnerHTML):f.options.cache.enable||(d="")),d||""},Oa=function(f){clearTimeout(f[f.currentMode].hlToolbarTimeoutId),f[f.currentMode].hlToolbarTimeoutId=window.setTimeout(function(){if(f[f.currentMode].element.getAttribute("contenteditable")!=="false"&&(0,V.Gb)(f[f.currentMode].element)){v(f.toolbar.elements,s.g.EDIT_TOOLBARS),_(f.toolbar.elements,s.g.EDIT_TOOLBARS);var d=(0,V.zh)(f),g=d.startContainer;d.startContainer.nodeType===3&&(g=d.startContainer.parentElement),g.classList.contains("vditor-reset")&&(g=g.childNodes[d.startOffset]);var w=f.currentMode==="sv"?(0,T.a1)(g,"data-type","heading"):(0,E.W)(g);w&&m(f.toolbar.elements,["headings"]);var S=f.currentMode==="sv"?(0,T.a1)(g,"data-type","blockquote"):(0,T.lG)(g,"BLOCKQUOTE");S&&m(f.toolbar.elements,["quote"]);var x=(0,T.a1)(g,"data-type","strong");x&&m(f.toolbar.elements,["bold"]);var A=(0,T.a1)(g,"data-type","em");A&&m(f.toolbar.elements,["italic"]);var I=(0,T.a1)(g,"data-type","s");I&&m(f.toolbar.elements,["strike"]);var R=(0,T.a1)(g,"data-type","a");R&&m(f.toolbar.elements,["link"]);var O=(0,T.lG)(g,"LI");O?(O.classList.contains("vditor-task")?m(f.toolbar.elements,["check"]):O.parentElement.tagName==="OL"?m(f.toolbar.elements,["ordered-list"]):O.parentElement.tagName==="UL"&&m(f.toolbar.elements,["list"]),_(f.toolbar.elements,["outdent","indent"])):y(f.toolbar.elements,["outdent","indent"]);var H=(0,T.a1)(g,"data-type","code-block");H&&(y(f.toolbar.elements,["headings","bold","italic","strike","line","quote","list","ordered-list","check","code","inline-code","upload","link","table","record"]),m(f.toolbar.elements,["code"]));var j=(0,T.a1)(g,"data-type","code");j&&(y(f.toolbar.elements,["headings","bold","italic","strike","line","quote","list","ordered-list","check","code","upload","link","table","record"]),m(f.toolbar.elements,["inline-code"]));var ee=(0,T.a1)(g,"data-type","table");ee&&y(f.toolbar.elements,["headings","list","ordered-list","check","line","quote","code","table"])}},200)},ot=function(f,d){d===void 0&&(d={enableAddUndoStack:!0,enableHint:!1,enableInput:!0}),d.enableHint&&f.hint.render(f),clearTimeout(f.wysiwyg.afterRenderTimeoutId),f.wysiwyg.afterRenderTimeoutId=window.setTimeout(function(){if(!f.wysiwyg.composingLock){var g=u(f);typeof f.options.input=="function"&&d.enableInput&&f.options.input(g),f.options.counter.enable&&f.counter.render(f,g),f.options.cache.enable&&(0,h.pK)()&&(localStorage.setItem(f.options.cache.id,g),f.options.cache.after&&f.options.cache.after(g)),f.devtools&&f.devtools.renderEchart(f),d.enableAddUndoStack&&f.undo.addToUndoStack(f)}},f.options.undoDelay)},Sw=function(f){for(var d=f.previousSibling;d;){if(d.nodeType!==3&&d.tagName==="A"&&!d.previousSibling&&d.innerHTML.replace(s.g.ZWSP,"")===""&&d.nextSibling)return d;d=d.previousSibling}return!1},Cw=function(f){for(var d=f.startContainer.nextSibling;d&&d.textContent==="";)d=d.nextSibling;return!!(d&&d.nodeType!==3&&(d.tagName==="CODE"||d.getAttribute("data-type")==="math-inline"||d.getAttribute("data-type")==="html-entity"||d.getAttribute("data-type")==="html-inline"))},Zd=function(f){for(var d="",g=f.nextSibling;g;)g.nodeType===3?d+=g.textContent:d+=g.outerHTML,g=g.nextSibling;return d},Qd=function(f){for(var d="",g=f.previousSibling;g;)g.nodeType===3?d=g.textContent+d:d=g.outerHTML+d,g=g.previousSibling;return d},Tw=function(f){for(var d=f;d&&!d.nextSibling;)d=d.parentElement;return d.nextSibling},xw=function(f){var d=Qd(f.startContainer),g=Zd(f.startContainer),w=f.startContainer.textContent,S=f.startOffset,x="",A="";return(w.substr(0,S)!==""&&w.substr(0,S)!==s.g.ZWSP||d)&&(x="".concat(d).concat(w.substr(0,S))),(w.substr(S)!==""&&w.substr(S)!==s.g.ZWSP||g)&&(A="".concat(w.substr(S)).concat(g)),{afterHTML:A,beforeHTML:x}},Su=function(f,d){Array.from(f.wysiwyg.element.childNodes).find(function(g){if(g.nodeType===3){var w=document.createElement("p");w.setAttribute("data-block","0"),w.textContent=g.textContent;var S=d.startContainer.nodeType===3?d.startOffset:g.textContent.length;return g.parentNode.insertBefore(w,g),g.remove(),d.setStart(w.firstChild,Math.min(w.firstChild.textContent.length,S)),d.collapse(!0),(0,V.Hc)(d),!0}else if(!g.getAttribute("data-block"))return g.tagName==="P"?g.remove():(g.tagName==="DIV"?(d.insertNode(document.createElement("wbr")),g.outerHTML='<p data-block="0">'.concat(g.innerHTML,"</p>")):g.tagName==="BR"?g.outerHTML='<p data-block="0">'.concat(g.outerHTML,"<wbr></p>"):(d.insertNode(document.createElement("wbr")),g.outerHTML='<p data-block="0">'.concat(g.outerHTML,"</p>")),(0,V.ib)(f.wysiwyg.element,d),d=getSelection().getRangeAt(0)),!0})},ns=function(f,d){var g=(0,V.zh)(f),w=(0,T.F9)(g.startContainer);w||(w=g.startContainer.childNodes[g.startOffset]),!w&&f.wysiwyg.element.children.length===0&&(w=f.wysiwyg.element),w&&!w.classList.contains("vditor-wysiwyg__block")&&(g.insertNode(document.createElement("wbr")),w.innerHTML.trim()==="<wbr>"&&(w.innerHTML="<wbr><br>"),w.tagName==="BLOCKQUOTE"||w.classList.contains("vditor-reset")?w.innerHTML="<".concat(d,' data-block="0">').concat(w.innerHTML.trim(),"</").concat(d,">"):w.outerHTML="<".concat(d,' data-block="0">').concat(w.innerHTML.trim(),"</").concat(d,">"),(0,V.ib)(f.wysiwyg.element,g),Ce(f))},Cu=function(f){var d=getSelection().getRangeAt(0),g=(0,T.F9)(d.startContainer);g||(g=d.startContainer.childNodes[d.startOffset]),g&&(d.insertNode(document.createElement("wbr")),g.outerHTML='<p data-block="0">'.concat(g.innerHTML,"</p>"),(0,V.ib)(f.wysiwyg.element,d)),f.wysiwyg.popover.style.display="none"},Pa=function(f,d,g){g===void 0&&(g=!0);var w=f.previousElementSibling,S=w.ownerDocument.createRange();w.tagName==="CODE"?(w.style.display="inline-block",g?S.setStart(w.firstChild,1):S.selectNodeContents(w)):(w.style.display="block",w.firstChild.firstChild||w.firstChild.appendChild(document.createTextNode("")),S.selectNodeContents(w.firstChild)),g?S.collapse(!0):S.collapse(!1),(0,V.Hc)(S),!f.firstElementChild.classList.contains("language-mindmap")&&yt(d)},Mw=function(f,d){if(f.wysiwyg.composingLock=d.isComposing,d.isComposing)return!1;d.key.indexOf("Arrow")===-1&&d.key!=="Meta"&&d.key!=="Control"&&d.key!=="Alt"&&d.key!=="Shift"&&d.key!=="CapsLock"&&d.key!=="Escape"&&!/^F\d{1,2}$/.test(d.key)&&f.undo.recordFirstPosition(f,d);var g=(0,V.zh)(f),w=g.startContainer;if(!lp(d,f,w)||(up(g,f,d),Tp(g),d.key!=="Enter"&&d.key!=="Tab"&&d.key!=="Backspace"&&d.key.indexOf("Arrow")===-1&&!(0,h.yl)(d)&&d.key!=="Escape"&&d.key!=="Delete"))return!1;var S=(0,T.F9)(w),x=(0,T.lG)(w,"P");if(pp(d,f,x,g)||dp(g,f,x,d)||_p(f,d,g))return!0;var A=(0,T.fb)(w,"vditor-wysiwyg__block");if(A){if(d.key==="Escape"&&A.children.length===2)return f.wysiwyg.popover.style.display="none",A.firstElementChild.style.display="none",f.wysiwyg.element.blur(),d.preventDefault(),!0;if(!(0,h.yl)(d)&&!d.shiftKey&&d.altKey&&d.key==="Enter"&&A.getAttribute("data-type")==="code-block"){var I=f.wysiwyg.popover.querySelector(".vditor-input");return I.focus(),I.select(),d.preventDefault(),!0}if(A.getAttribute("data-block")==="0"&&(bp(f,d,A.firstElementChild,g)||Ha(f,d,g,A.firstElementChild,A)||A.getAttribute("data-type")!=="yaml-front-matter"&&Ui(f,d,g,A.firstElementChild,A)))return!0}if(wp(f,g,d,x))return!0;var R=(0,T.E2)(w,"BLOCKQUOTE");if(R&&!d.shiftKey&&d.altKey&&d.key==="Enter"){(0,h.yl)(d)?g.setStartBefore(R):g.setStartAfter(R),(0,V.Hc)(g);var O=document.createElement("p");return O.setAttribute("data-block","0"),O.innerHTML=`
`,g.insertNode(O),g.collapse(!0),(0,V.Hc)(g),ot(f),yt(f),d.preventDefault(),!0}var H=(0,E.W)(w);if(H){if(H.tagName==="H6"&&w.textContent.length===g.startOffset&&!(0,h.yl)(d)&&!d.shiftKey&&!d.altKey&&d.key==="Enter"){var j=document.createElement("p");return j.textContent=`
`,j.setAttribute("data-block","0"),w.parentElement.insertAdjacentElement("afterend",j),g.setStart(j,0),(0,V.Hc)(g),ot(f),yt(f),d.preventDefault(),!0}if(X("⌘=",d)){var ee=parseInt(H.tagName.substr(1),10)-1;return ee>0&&(ns(f,"h".concat(ee)),ot(f)),d.preventDefault(),!0}if(X("⌘-",d)){var ee=parseInt(H.tagName.substr(1),10)+1;return ee<7&&(ns(f,"h".concat(ee)),ot(f)),d.preventDefault(),!0}d.key==="Backspace"&&!(0,h.yl)(d)&&!d.shiftKey&&!d.altKey&&H.textContent.length===1&&Cu(f)}if(Sp(f,g,d))return!0;if(d.altKey&&d.key==="Enter"&&!(0,h.yl)(d)&&!d.shiftKey){var re=(0,T.lG)(w,"A"),Q=(0,T.a1)(w,"data-type","link-ref"),se=(0,T.a1)(w,"data-type","footnotes-ref");if(re||Q||se||H&&H.tagName.length===2){var oe=f.wysiwyg.popover.querySelector("input");oe.focus(),oe.select()}}if(Gt(f,d))return!0;if(X("⇧⌘U",d)){var J=f.wysiwyg.popover.querySelector('[data-type="up"]');if(J)return J.click(),d.preventDefault(),!0}if(X("⇧⌘D",d)){var J=f.wysiwyg.popover.querySelector('[data-type="down"]');if(J)return J.click(),d.preventDefault(),!0}if(Bu(f,g,d))return!0;if(!(0,h.yl)(d)&&d.shiftKey&&!d.altKey&&d.key==="Enter"&&w.parentElement.tagName!=="LI"&&w.parentElement.tagName!=="P")return["STRONG","STRIKE","S","I","EM","B"].includes(w.parentElement.tagName)?g.insertNode(document.createTextNode(`
`+s.g.ZWSP)):g.insertNode(document.createTextNode(`
`)),g.collapse(!1),(0,V.Hc)(g),ot(f),yt(f),d.preventDefault(),!0;if(d.key==="Backspace"&&!(0,h.yl)(d)&&!d.shiftKey&&!d.altKey&&g.toString()===""){if(Cp(f,g,d,x))return!0;if(S){if(S.previousElementSibling&&S.previousElementSibling.classList.contains("vditor-wysiwyg__block")&&S.previousElementSibling.getAttribute("data-block")==="0"&&S.tagName!=="UL"&&S.tagName!=="OL"){var we=(0,V.im)(S,f.wysiwyg.element,g).start;if(we===0&&g.startOffset===0||we===1&&S.innerText.startsWith(s.g.ZWSP))return Pa(S.previousElementSibling.lastElementChild,f,!1),S.innerHTML.trim().replace(s.g.ZWSP,"")===""&&(S.remove(),ot(f)),d.preventDefault(),!0}var fe=g.startOffset;if(g.toString()===""&&w.nodeType===3&&w.textContent.charAt(fe-2)===`
`&&w.textContent.charAt(fe-1)!==s.g.ZWSP&&["STRONG","STRIKE","S","I","EM","B"].includes(w.parentElement.tagName))return w.textContent=w.textContent.substring(0,fe-1)+s.g.ZWSP,g.setStart(w,fe),g.collapse(!0),ot(f),d.preventDefault(),!0;w.textContent===s.g.ZWSP&&g.startOffset===1&&!w.previousSibling&&Cw(g)&&(w.textContent=""),S.querySelectorAll("span.vditor-wysiwyg__block[data-type='math-inline']").forEach(function(rt){rt.firstElementChild.style.display="inline",rt.lastElementChild.style.display="none"}),S.querySelectorAll("span.vditor-wysiwyg__block[data-type='html-entity']").forEach(function(rt){rt.firstElementChild.style.display="inline",rt.lastElementChild.style.display="none"})}}if((0,h.vU)()&&g.startOffset===1&&w.textContent.indexOf(s.g.ZWSP)>-1&&w.previousSibling&&w.previousSibling.nodeType!==3&&w.previousSibling.tagName==="CODE"&&(d.key==="Backspace"||d.key==="ArrowLeft"))return g.selectNodeContents(w.previousSibling),g.collapse(!1),d.preventDefault(),!0;if(xp(d,S,g))return d.preventDefault(),!0;if(cp(g,d.key),d.key==="ArrowDown"){var Ee=w.nextSibling;Ee&&Ee.nodeType!==3&&Ee.getAttribute("data-type")==="math-inline"&&g.setStartAfter(Ee)}return S&&qe(S,f,d,g)?(d.preventDefault(),!0):!1},Gt=function(f,d){if(X("⇧⌘X",d)){var g=f.wysiwyg.popover.querySelector('[data-type="remove"]');return g&&g.click(),d.preventDefault(),!0}},$n=function(f){clearTimeout(f.wysiwyg.hlToolbarTimeoutId),f.wysiwyg.hlToolbarTimeoutId=window.setTimeout(function(){if(f.wysiwyg.element.getAttribute("contenteditable")!=="false"&&(0,V.Gb)(f.wysiwyg.element)){v(f.toolbar.elements,s.g.EDIT_TOOLBARS),_(f.toolbar.elements,s.g.EDIT_TOOLBARS);var d=getSelection().getRangeAt(0),g=d.startContainer;d.startContainer.nodeType===3?g=d.startContainer.parentElement:g=g.childNodes[d.startOffset>=g.childNodes.length?g.childNodes.length-1:d.startOffset];var w=(0,T.a1)(g,"data-type","footnotes-block");if(w){f.wysiwyg.popover.innerHTML="",ur(w,f),er(f,"footnotes-block"),lr(f,w);return}var S=(0,T.lG)(g,"LI");S?(S.classList.contains("vditor-task")?m(f.toolbar.elements,["check"]):S.parentElement.tagName==="OL"?m(f.toolbar.elements,["ordered-list"]):S.parentElement.tagName==="UL"&&m(f.toolbar.elements,["list"]),_(f.toolbar.elements,["outdent","indent"])):y(f.toolbar.elements,["outdent","indent"]),(0,T.lG)(g,"BLOCKQUOTE")&&m(f.toolbar.elements,["quote"]),((0,T.lG)(g,"B")||(0,T.lG)(g,"STRONG"))&&m(f.toolbar.elements,["bold"]),((0,T.lG)(g,"I")||(0,T.lG)(g,"EM"))&&m(f.toolbar.elements,["italic"]),((0,T.lG)(g,"STRIKE")||(0,T.lG)(g,"S"))&&m(f.toolbar.elements,["strike"]),f.wysiwyg.element.querySelectorAll(".vditor-comment--focus").forEach(function(ye){ye.classList.remove("vditor-comment--focus")});var x=(0,T.fb)(g,"vditor-comment");if(x){var A=x.getAttribute("data-cmtids").split(" ");if(A.length>1&&x.nextSibling.isSameNode(x.nextElementSibling)){var I=x.nextElementSibling.getAttribute("data-cmtids").split(" ");A.find(function(ye){if(I.includes(ye))return A=[ye],!0})}f.wysiwyg.element.querySelectorAll(".vditor-comment").forEach(function(ye){ye.getAttribute("data-cmtids").indexOf(A[0])>-1&&ye.classList.add("vditor-comment--focus")})}var R=(0,T.lG)(g,"A");R&&m(f.toolbar.elements,["link"]);var O=(0,T.lG)(g,"TABLE"),H=(0,E.W)(g);(0,T.lG)(g,"CODE")?(0,T.lG)(g,"PRE")?(y(f.toolbar.elements,["headings","bold","italic","strike","line","quote","list","ordered-list","check","code","inline-code","upload","link","table","record"]),m(f.toolbar.elements,["code"])):(y(f.toolbar.elements,["headings","bold","italic","strike","line","quote","list","ordered-list","check","code","upload","link","table","record"]),m(f.toolbar.elements,["inline-code"])):H?(y(f.toolbar.elements,["bold"]),m(f.toolbar.elements,["headings"])):O&&y(f.toolbar.elements,["table"]);var j=(0,T.fb)(g,"vditor-toc");if(j){f.wysiwyg.popover.innerHTML="",ur(j,f),er(f,"vditor-toc"),lr(f,j);return}var ee=(0,E.S)(g,"BLOCKQUOTE");if(ee&&(f.wysiwyg.popover.innerHTML="",Fi(d,ee,f),Vi(d,ee,f),ur(ee,f),er(f,"blockquote"),lr(f,ee)),S&&(f.wysiwyg.popover.innerHTML="",Fi(d,S,f),Vi(d,S,f),ur(S,f),er(f,"li"),lr(f,S)),O){f.options.lang,f.options,f.wysiwyg.popover.innerHTML="";var re=function(){var ye=O.rows.length,Ue=O.rows[0].cells.length,gn=parseInt(_t.value,10)||ye,mn=parseInt(tr.value,10)||Ue;if(!(gn===ye&&Ue===mn)){if(Ue!==mn)for(var za=mn-Ue,Or=0;Or<O.rows.length;Or++)if(za>0)for(var Rp=0;Rp<za;Rp++)Or===0?O.rows[Or].lastElementChild.insertAdjacentHTML("afterend","<th> </th>"):O.rows[Or].lastElementChild.insertAdjacentHTML("afterend","<td> </td>");else for(var zu=Ue-1;zu>=mn;zu--)O.rows[Or].cells[zu].remove();if(ye!==gn){var Np=gn-ye;if(Np>0){for(var Uu="<tr>",ji=0;ji<mn;ji++)Uu+="<td> </td>";for(var Bp=0;Bp<Np;Bp++)O.querySelector("tbody")?O.querySelector("tbody").insertAdjacentHTML("beforeend",Uu):O.querySelector("thead").insertAdjacentHTML("afterend",Uu+"</tr>")}else for(var ji=ye-1;ji>=gn;ji--)O.rows[ji].remove(),O.rows.length===1&&O.querySelector("tbody").remove()}typeof f.options.input=="function"&&f.options.input(u(f))}},Q=function(ye){ss(O,ye),ye==="right"?(we.classList.remove("vditor-icon--current"),fe.classList.remove("vditor-icon--current"),Ee.classList.add("vditor-icon--current")):ye==="center"?(we.classList.remove("vditor-icon--current"),Ee.classList.remove("vditor-icon--current"),fe.classList.add("vditor-icon--current")):(fe.classList.remove("vditor-icon--current"),Ee.classList.remove("vditor-icon--current"),we.classList.add("vditor-icon--current")),(0,V.Hc)(d),ot(f)},se=(0,T.lG)(g,"TD"),oe=(0,T.lG)(g,"TH"),J="left";se?J=se.getAttribute("align")||"left":oe&&(J=oe.getAttribute("align")||"center");var we=document.createElement("button");we.setAttribute("type","button"),we.setAttribute("aria-label",window.VditorI18n.alignLeft+"<"+(0,h.ns)("⇧⌘L")+">"),we.setAttribute("data-type","left"),we.innerHTML='<svg><use xlink:href="#vditor-icon-align-left"></use></svg>',we.className="vditor-icon vditor-tooltipped vditor-tooltipped__n"+(J==="left"?" vditor-icon--current":""),we.onclick=function(){Q("left")};var fe=document.createElement("button");fe.setAttribute("type","button"),fe.setAttribute("aria-label",window.VditorI18n.alignCenter+"<"+(0,h.ns)("⇧⌘C")+">"),fe.setAttribute("data-type","center"),fe.innerHTML='<svg><use xlink:href="#vditor-icon-align-center"></use></svg>',fe.className="vditor-icon vditor-tooltipped vditor-tooltipped__n"+(J==="center"?" vditor-icon--current":""),fe.onclick=function(){Q("center")};var Ee=document.createElement("button");Ee.setAttribute("type","button"),Ee.setAttribute("aria-label",window.VditorI18n.alignRight+"<"+(0,h.ns)("⇧⌘R")+">"),Ee.setAttribute("data-type","right"),Ee.innerHTML='<svg><use xlink:href="#vditor-icon-align-right"></use></svg>',Ee.className="vditor-icon vditor-tooltipped vditor-tooltipped__n"+(J==="right"?" vditor-icon--current":""),Ee.onclick=function(){Q("right")};var rt=document.createElement("button");rt.setAttribute("type","button"),rt.setAttribute("aria-label",window.VditorI18n.insertRowBelow+"<"+(0,h.ns)("⌘=")+">"),rt.setAttribute("data-type","insertRow"),rt.innerHTML='<svg><use xlink:href="#vditor-icon-insert-row"></use></svg>',rt.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",rt.onclick=function(){var ye=getSelection().getRangeAt(0).startContainer,Ue=(0,T.lG)(ye,"TD")||(0,T.lG)(ye,"TH");Ue&&vp(f,d,Ue)};var Je=document.createElement("button");Je.setAttribute("type","button"),Je.setAttribute("aria-label",window.VditorI18n.insertRowAbove+"<"+(0,h.ns)("⇧⌘F")+">"),Je.setAttribute("data-type","insertRow"),Je.innerHTML='<svg><use xlink:href="#vditor-icon-insert-rowb"></use></svg>',Je.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",Je.onclick=function(){var ye=getSelection().getRangeAt(0).startContainer,Ue=(0,T.lG)(ye,"TD")||(0,T.lG)(ye,"TH");Ue&&gp(f,d,Ue)};var st=document.createElement("button");st.setAttribute("type","button"),st.setAttribute("aria-label",window.VditorI18n.insertColumnRight+"<"+(0,h.ns)("⇧⌘=")+">"),st.setAttribute("data-type","insertColumn"),st.innerHTML='<svg><use xlink:href="#vditor-icon-insert-column"></use></svg>',st.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",st.onclick=function(){var ye=getSelection().getRangeAt(0).startContainer,Ue=(0,T.lG)(ye,"TD")||(0,T.lG)(ye,"TH");Ue&&ls(f,O,Ue)};var Wt=document.createElement("button");Wt.setAttribute("type","button"),Wt.setAttribute("aria-label",window.VditorI18n.insertColumnLeft+"<"+(0,h.ns)("⇧⌘G")+">"),Wt.setAttribute("data-type","insertColumn"),Wt.innerHTML='<svg><use xlink:href="#vditor-icon-insert-columnb"></use></svg>',Wt.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",Wt.onclick=function(){var ye=getSelection().getRangeAt(0).startContainer,Ue=(0,T.lG)(ye,"TD")||(0,T.lG)(ye,"TH");Ue&&ls(f,O,Ue,"beforebegin")};var It=document.createElement("button");It.setAttribute("type","button"),It.setAttribute("aria-label",window.VditorI18n["delete-row"]+"<"+(0,h.ns)("⌘-")+">"),It.setAttribute("data-type","deleteRow"),It.innerHTML='<svg><use xlink:href="#vditor-icon-delete-row"></use></svg>',It.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",It.onclick=function(){var ye=getSelection().getRangeAt(0).startContainer,Ue=(0,T.lG)(ye,"TD")||(0,T.lG)(ye,"TH");Ue&&mp(f,d,Ue)};var jt=document.createElement("button");jt.setAttribute("type","button"),jt.setAttribute("aria-label",window.VditorI18n["delete-column"]+"<"+(0,h.ns)("⇧⌘-")+">"),jt.setAttribute("data-type","deleteColumn"),jt.innerHTML='<svg><use xlink:href="#vditor-icon-delete-column"></use></svg>',jt.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",jt.onclick=function(){var ye=getSelection().getRangeAt(0).startContainer,Ue=(0,T.lG)(ye,"TD")||(0,T.lG)(ye,"TH");Ue&&yp(f,d,O,Ue)};var Ne=document.createElement("span");Ne.setAttribute("aria-label",window.VditorI18n.row),Ne.className="vditor-tooltipped vditor-tooltipped__n";var _t=document.createElement("input");Ne.appendChild(_t),_t.type="number",_t.min="1",_t.className="vditor-input",_t.style.width="42px",_t.style.textAlign="center",_t.setAttribute("placeholder",window.VditorI18n.row),_t.value=O.rows.length.toString(),_t.oninput=function(){re()},_t.onkeydown=function(ye){if(!ye.isComposing){if(ye.key==="Tab"){tr.focus(),tr.select(),ye.preventDefault();return}Gt(f,ye)||Ir(ye,d)}};var fs=document.createElement("span");fs.setAttribute("aria-label",window.VditorI18n.column),fs.className="vditor-tooltipped vditor-tooltipped__n";var tr=document.createElement("input");fs.appendChild(tr),tr.type="number",tr.min="1",tr.className="vditor-input",tr.style.width="42px",tr.style.textAlign="center",tr.setAttribute("placeholder",window.VditorI18n.column),tr.value=O.rows[0].cells.length.toString(),tr.oninput=function(){re()},tr.onkeydown=function(ye){if(!ye.isComposing){if(ye.key==="Tab"){_t.focus(),_t.select(),ye.preventDefault();return}Gt(f,ye)||Ir(ye,d)}},Fi(d,O,f),Vi(d,O,f),ur(O,f),f.wysiwyg.popover.insertAdjacentElement("beforeend",we),f.wysiwyg.popover.insertAdjacentElement("beforeend",fe),f.wysiwyg.popover.insertAdjacentElement("beforeend",Ee),f.wysiwyg.popover.insertAdjacentElement("beforeend",Je),f.wysiwyg.popover.insertAdjacentElement("beforeend",rt),f.wysiwyg.popover.insertAdjacentElement("beforeend",Wt),f.wysiwyg.popover.insertAdjacentElement("beforeend",st),f.wysiwyg.popover.insertAdjacentElement("beforeend",It),f.wysiwyg.popover.insertAdjacentElement("beforeend",jt),f.wysiwyg.popover.insertAdjacentElement("beforeend",Ne),f.wysiwyg.popover.insertAdjacentHTML("beforeend"," x "),f.wysiwyg.popover.insertAdjacentElement("beforeend",fs),er(f,"table"),lr(f,O)}var Vu=(0,T.a1)(g,"data-type","link-ref");Vu&&Jd(f,Vu,d);var Gi=(0,T.a1)(g,"data-type","footnotes-ref");if(Gi){f.options.lang,f.options,f.wysiwyg.popover.innerHTML="";var Ne=document.createElement("span");Ne.setAttribute("aria-label",window.VditorI18n.footnoteRef+"<"+(0,h.ns)("⌥Enter")+">"),Ne.className="vditor-tooltipped vditor-tooltipped__n";var tn=document.createElement("input");Ne.appendChild(tn),tn.className="vditor-input",tn.setAttribute("placeholder",window.VditorI18n.footnoteRef+"<"+(0,h.ns)("⌥Enter")+">"),tn.style.width="120px",tn.value=Gi.getAttribute("data-footnotes-label"),tn.oninput=function(){tn.value.trim()!==""&&Gi.setAttribute("data-footnotes-label",tn.value),typeof f.options.input=="function"&&f.options.input(u(f))},tn.onkeydown=function(Ue){Ue.isComposing||Gt(f,Ue)||Ir(Ue,d)},ur(Gi,f),f.wysiwyg.popover.insertAdjacentElement("beforeend",Ne),er(f,"footnotes-ref"),lr(f,Gi)}var xt=(0,T.fb)(g,"vditor-wysiwyg__block"),Op=xt?xt.getAttribute("data-type").indexOf("block")>-1:!1;if(f.wysiwyg.element.querySelectorAll(".vditor-wysiwyg__preview").forEach(function(ye){if(!xt||xt&&Op&&!xt.contains(ye)){var Ue=ye.previousElementSibling;Ue.style.display="none"}}),xt&&Op){if(f.wysiwyg.popover.innerHTML="",Fi(d,xt,f),Vi(d,xt,f),ur(xt,f),xt.getAttribute("data-type")==="code-block"){var hs=document.createElement("span");hs.setAttribute("aria-label",window.VditorI18n.language+"<"+(0,h.ns)("⌥Enter")+">"),hs.className="vditor-tooltipped vditor-tooltipped__n";var Sr=document.createElement("input");hs.appendChild(Sr);var Va=xt.firstElementChild.firstElementChild;Sr.className="vditor-input",Sr.setAttribute("placeholder",window.VditorI18n.language+"<"+(0,h.ns)("⌥Enter")+">"),Sr.value=Va.className.indexOf("language-")>-1?Va.className.split("-")[1].split(" ")[0]:"",Sr.oninput=function(ye){Sr.value.trim()!==""?Va.className="language-".concat(Sr.value):(Va.className="",f.hint.recentLanguage=""),xt.lastElementChild.classList.contains("vditor-wysiwyg__preview")&&(xt.lastElementChild.innerHTML=xt.firstElementChild.innerHTML,he(xt.lastElementChild,f)),ot(f),ye.detail===1&&(d.setStart(Va.firstChild,0),d.collapse(!0),(0,V.Hc)(d))},Sr.onkeydown=function(ye){if(!ye.isComposing&&!Gt(f,ye)){if(ye.key==="Escape"&&f.hint.element.style.display==="block"){f.hint.element.style.display="none",ye.preventDefault();return}f.hint.select(ye,f),Ir(ye,d)}},Sr.onkeyup=function(ye){var Ue,gn;if(!(ye.isComposing||ye.key==="Enter"||ye.key==="ArrowUp"||ye.key==="Escape"||ye.key==="ArrowDown")){var mn=[],za=Sr.value.substring(0,Sr.selectionStart);(f.options.preview.hljs.langs||s.g.ALIAS_CODE_LANGUAGES.concat(((gn=(Ue=window.hljs)===null||Ue===void 0?void 0:Ue.listLanguages())!==null&&gn!==void 0?gn:[]).sort())).forEach(function(Or){Or.indexOf(za.toLowerCase())>-1&&mn.push({html:Or,value:Or})}),f.hint.genHTML(mn,za,f),ye.preventDefault()}},f.wysiwyg.popover.insertAdjacentElement("beforeend",hs),er(f,"code-block")}else er(f,"block");lr(f,xt)}else xt=void 0;if(H){f.wysiwyg.popover.innerHTML="";var Ne=document.createElement("span");Ne.setAttribute("aria-label","ID<"+(0,h.ns)("⌥Enter")+">"),Ne.className="vditor-tooltipped vditor-tooltipped__n";var vn=document.createElement("input");Ne.appendChild(vn),vn.className="vditor-input",vn.setAttribute("placeholder","ID<"+(0,h.ns)("⌥Enter")+">"),vn.style.width="120px",vn.value=H.getAttribute("data-id")||"",vn.oninput=function(){H.setAttribute("data-id",vn.value),typeof f.options.input=="function"&&f.options.input(u(f))},vn.onkeydown=function(Ue){Ue.isComposing||Gt(f,Ue)||Ir(Ue,d)},Fi(d,H,f),Vi(d,H,f),ur(H,f),f.wysiwyg.popover.insertAdjacentElement("beforeend",Ne),er(f,"heading"),lr(f,H)}if(R&&Tu(f,R,d),!ee&&!S&&!O&&!xt&&!R&&!Vu&&!Gi&&!H&&!j){var Wi=(0,T.a1)(g,"data-block","0");Wi&&Wi.parentElement.isEqualNode(f.wysiwyg.element)?(f.wysiwyg.popover.innerHTML="",Fi(d,Wi,f),Vi(d,Wi,f),ur(Wi,f),er(f,"block"),lr(f,Wi)):f.wysiwyg.popover.style.display="none"}f.wysiwyg.element.querySelectorAll('span[data-type="backslash"] > span').forEach(function(ye){ye.style.display="none"});var Pp=(0,T.a1)(d.startContainer,"data-type","backslash");Pp&&(Pp.querySelector("span").style.display="inline")}},200)},lr=function(f,d){var g=d,w=(0,T.lG)(d,"TABLE");w&&(g=w),f.wysiwyg.popover.style.left="0",f.wysiwyg.popover.style.display="block",f.wysiwyg.popover.style.top=Math.max(-8,g.offsetTop-21-f.wysiwyg.element.scrollTop)+"px",f.wysiwyg.popover.style.left=Math.min(g.offsetLeft,f.wysiwyg.element.clientWidth-f.wysiwyg.popover.clientWidth)+"px",f.wysiwyg.popover.setAttribute("data-top",(g.offsetTop-21).toString())},Jd=function(f,d,g){g===void 0&&(g=getSelection().getRangeAt(0)),f.wysiwyg.popover.innerHTML="";var w=function(){x.value.trim()!==""&&(d.tagName==="IMG"?d.setAttribute("alt",x.value):d.textContent=x.value),I.value.trim()!==""&&d.setAttribute("data-link-label",I.value),typeof f.options.input=="function"&&f.options.input(u(f))},S=document.createElement("span");S.setAttribute("aria-label",window.VditorI18n.textIsNotEmpty),S.className="vditor-tooltipped vditor-tooltipped__n";var x=document.createElement("input");S.appendChild(x),x.className="vditor-input",x.setAttribute("placeholder",window.VditorI18n.textIsNotEmpty),x.style.width="120px",x.value=d.getAttribute("alt")||d.textContent,x.oninput=function(){w()},x.onkeydown=function(R){Gt(f,R)||Ir(R,g)||Ra(f,d,R,I)};var A=document.createElement("span");A.setAttribute("aria-label",window.VditorI18n.linkRef),A.className="vditor-tooltipped vditor-tooltipped__n";var I=document.createElement("input");A.appendChild(I),I.className="vditor-input",I.setAttribute("placeholder",window.VditorI18n.linkRef),I.value=d.getAttribute("data-link-label"),I.oninput=function(){w()},I.onkeydown=function(R){Gt(f,R)||Ir(R,g)||Ra(f,d,R,x)},ur(d,f),f.wysiwyg.popover.insertAdjacentElement("beforeend",S),f.wysiwyg.popover.insertAdjacentElement("beforeend",A),er(f,"link-ref"),lr(f,d)},Fi=function(f,d,g){var w=d.previousElementSibling;if(!(!w||!d.parentElement.isEqualNode(g.wysiwyg.element)&&d.tagName!=="LI")){var S=document.createElement("button");S.setAttribute("type","button"),S.setAttribute("data-type","up"),S.setAttribute("aria-label",window.VditorI18n.up+"<"+(0,h.ns)("⇧⌘U")+">"),S.innerHTML='<svg><use xlink:href="#vditor-icon-up"></use></svg>',S.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",S.onclick=function(){f.insertNode(document.createElement("wbr")),w.insertAdjacentElement("beforebegin",d),(0,V.ib)(g.wysiwyg.element,f),ot(g),$n(g),yt(g)},g.wysiwyg.popover.insertAdjacentElement("beforeend",S)}},Vi=function(f,d,g){var w=d.nextElementSibling;if(!(!w||!d.parentElement.isEqualNode(g.wysiwyg.element)&&d.tagName!=="LI")){var S=document.createElement("button");S.setAttribute("type","button"),S.setAttribute("data-type","down"),S.setAttribute("aria-label",window.VditorI18n.down+"<"+(0,h.ns)("⇧⌘D")+">"),S.innerHTML='<svg><use xlink:href="#vditor-icon-down"></use></svg>',S.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",S.onclick=function(){f.insertNode(document.createElement("wbr")),w.insertAdjacentElement("afterend",d),(0,V.ib)(g.wysiwyg.element,f),ot(g),$n(g),yt(g)},g.wysiwyg.popover.insertAdjacentElement("beforeend",S)}},ur=function(f,d){var g=document.createElement("button");g.setAttribute("type","button"),g.setAttribute("data-type","remove"),g.setAttribute("aria-label",window.VditorI18n.remove+"<"+(0,h.ns)("⇧⌘X")+">"),g.innerHTML='<svg><use xlink:href="#vditor-icon-trashcan"></use></svg>',g.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",g.onclick=function(){var w=(0,V.zh)(d);w.setStartAfter(f),(0,V.Hc)(w),f.remove(),ot(d),$n(d),["H1","H2","H3","H4","H5","H6"].includes(f.tagName)&&Ce(d)},d.wysiwyg.popover.insertAdjacentElement("beforeend",g)},Ra=function(f,d,g,w){if(!g.isComposing){if(g.key==="Tab"){w.focus(),w.select(),g.preventDefault();return}if(!(0,h.yl)(g)&&!g.shiftKey&&g.altKey&&g.key==="Enter"){var S=(0,V.zh)(f);d.insertAdjacentHTML("afterend",s.g.ZWSP),S.setStartAfter(d.nextSibling),S.collapse(!0),(0,V.Hc)(S),g.preventDefault()}}},Tu=function(f,d,g){f.wysiwyg.popover.innerHTML="";var w=function(){x.value.trim()!==""&&(d.innerHTML=x.value),d.setAttribute("href",I.value),d.setAttribute("title",O.value),ot(f)};d.querySelectorAll("[data-marker]").forEach(function(H){H.removeAttribute("data-marker")});var S=document.createElement("span");S.setAttribute("aria-label",window.VditorI18n.textIsNotEmpty),S.className="vditor-tooltipped vditor-tooltipped__n";var x=document.createElement("input");S.appendChild(x),x.className="vditor-input",x.setAttribute("placeholder",window.VditorI18n.textIsNotEmpty),x.style.width="120px",x.value=d.innerHTML||"",x.oninput=function(){w()},x.onkeydown=function(H){Gt(f,H)||Ir(H,g)||Ra(f,d,H,I)};var A=document.createElement("span");A.setAttribute("aria-label",window.VditorI18n.link),A.className="vditor-tooltipped vditor-tooltipped__n";var I=document.createElement("input");A.appendChild(I),I.className="vditor-input",I.setAttribute("placeholder",window.VditorI18n.link),I.value=d.getAttribute("href")||"",I.oninput=function(){w()},I.onkeydown=function(H){Gt(f,H)||Ir(H,g)||Ra(f,d,H,O)};var R=document.createElement("span");R.setAttribute("aria-label",window.VditorI18n.tooltipText),R.className="vditor-tooltipped vditor-tooltipped__n";var O=document.createElement("input");R.appendChild(O),O.className="vditor-input",O.setAttribute("placeholder",window.VditorI18n.tooltipText),O.style.width="60px",O.value=d.getAttribute("title")||"",O.oninput=function(){w()},O.onkeydown=function(H){Gt(f,H)||Ir(H,g)||Ra(f,d,H,x)},ur(d,f),f.wysiwyg.popover.insertAdjacentElement("beforeend",S),f.wysiwyg.popover.insertAdjacentElement("beforeend",A),f.wysiwyg.popover.insertAdjacentElement("beforeend",R),er(f,"a"),lr(f,d)},Lw=function(f,d){var g=f.target;d.wysiwyg.popover.innerHTML="";var w=function(){g.setAttribute("src",x.value),g.setAttribute("alt",I.value),g.setAttribute("title",O.value),typeof d.options.input=="function"&&d.options.input(u(d))},S=document.createElement("span");S.setAttribute("aria-label",window.VditorI18n.imageURL),S.className="vditor-tooltipped vditor-tooltipped__n";var x=document.createElement("input");S.appendChild(x),x.className="vditor-input",x.setAttribute("placeholder",window.VditorI18n.imageURL),x.value=g.getAttribute("src")||"",x.oninput=function(){w()},x.onkeydown=function(H){Gt(d,H)};var A=document.createElement("span");A.setAttribute("aria-label",window.VditorI18n.alternateText),A.className="vditor-tooltipped vditor-tooltipped__n";var I=document.createElement("input");A.appendChild(I),I.className="vditor-input",I.setAttribute("placeholder",window.VditorI18n.alternateText),I.style.width="52px",I.value=g.getAttribute("alt")||"",I.oninput=function(){w()},I.onkeydown=function(H){Gt(d,H)};var R=document.createElement("span");R.setAttribute("aria-label",window.VditorI18n.title),R.className="vditor-tooltipped vditor-tooltipped__n";var O=document.createElement("input");R.appendChild(O),O.className="vditor-input",O.setAttribute("placeholder",window.VditorI18n.title),O.value=g.getAttribute("title")||"",O.oninput=function(){w()},O.onkeydown=function(H){Gt(d,H)},ur(g,d),d.wysiwyg.popover.insertAdjacentElement("beforeend",S),d.wysiwyg.popover.insertAdjacentElement("beforeend",A),d.wysiwyg.popover.insertAdjacentElement("beforeend",R),er(d,"image"),lr(d,g)},Ir=function(f,d){if(!(0,h.yl)(f)&&!f.shiftKey&&f.key==="Enter"||f.key==="Escape")return d&&(0,V.Hc)(d),f.preventDefault(),f.stopPropagation(),!0},er=function(f,d){f.options.customWysiwygToolbar(d,f.wysiwyg.popover)},zi=function(f){f.currentMode==="wysiwyg"?$n(f):f.currentMode==="ir"&&Oa(f)},ep=function(f,d,g){g===void 0&&(g={enableAddUndoStack:!0,enableHint:!1,enableInput:!0});var w=f.wysiwyg.element;w.innerHTML=f.lute.Md2VditorDOM(d),w.querySelectorAll(".vditor-wysiwyg__preview[data-render='2']").forEach(function(S){he(S,f),S.previousElementSibling.setAttribute("style","display:none")}),ot(f,g)},Ew=function(f,d,g){for(var w=f.startContainer.parentElement,S=!1,x="",A="",I=xw(f),R=I.beforeHTML,O=I.afterHTML;w&&!S;){var H=w.tagName;if(H==="STRIKE"&&(H="S"),H==="I"&&(H="EM"),H==="B"&&(H="STRONG"),H==="S"||H==="STRONG"||H==="EM"){var j="",ee="",re="";w.parentElement.getAttribute("data-block")!=="0"&&(ee=Qd(w),re=Zd(w)),(R||ee)&&(j="".concat(ee,"<").concat(H,">").concat(R,"</").concat(H,">"),R=j),(g==="bold"&&H==="STRONG"||g==="italic"&&H==="EM"||g==="strikeThrough"&&H==="S")&&(j+="".concat(x).concat(s.g.ZWSP,"<wbr>").concat(A),S=!0),(O||re)&&(O="<".concat(H,">").concat(O,"</").concat(H,">").concat(re),j+=O),w.parentElement.getAttribute("data-block")!=="0"?(w=w.parentElement,w.innerHTML=j):(w.outerHTML=j,w=w.parentElement),x="<".concat(H,">")+x,A="</".concat(H,">")+A}else S=!0}(0,V.ib)(d.wysiwyg.element,f)},Aw=function(f,d,g){if(!(f.wysiwyg.composingLock&&g instanceof CustomEvent)){var w=!0,S=!0;f.wysiwyg.element.querySelector("wbr")&&f.wysiwyg.element.querySelector("wbr").remove();var x=(0,V.zh)(f),A=d.getAttribute("data-type");if(d.classList.contains("vditor-menu--current"))if(A==="strike"&&(A="strikeThrough"),A==="quote"){var I=(0,T.lG)(x.startContainer,"BLOCKQUOTE");I||(I=x.startContainer.childNodes[x.startOffset]),I&&(w=!1,d.classList.remove("vditor-menu--current"),x.insertNode(document.createElement("wbr")),I.outerHTML=I.innerHTML.trim()===""?'<p data-block="0">'.concat(I.innerHTML,"</p>"):I.innerHTML,(0,V.ib)(f.wysiwyg.element,x))}else if(A==="inline-code"){var R=(0,T.lG)(x.startContainer,"CODE");R||(R=x.startContainer.childNodes[x.startOffset]),R&&(R.outerHTML=R.innerHTML.replace(s.g.ZWSP,"")+"<wbr>",(0,V.ib)(f.wysiwyg.element,x))}else A==="link"?(x.collapsed&&x.selectNode(x.startContainer.parentElement),document.execCommand("unlink",!1,"")):A==="check"||A==="list"||A==="ordered-list"?(os(f,x,A),(0,V.ib)(f.wysiwyg.element,x),w=!1,d.classList.remove("vditor-menu--current")):(w=!1,d.classList.remove("vditor-menu--current"),x.toString()===""?Ew(x,f,A):document.execCommand(A,!1,""));else{f.wysiwyg.element.childNodes.length===0&&(f.wysiwyg.element.innerHTML='<p data-block="0"><wbr></p>',(0,V.ib)(f.wysiwyg.element,x));var O=(0,T.F9)(x.startContainer);if(A==="quote"){if(O||(O=x.startContainer.childNodes[x.startOffset]),O){w=!1,d.classList.add("vditor-menu--current"),x.insertNode(document.createElement("wbr"));var H=(0,T.lG)(x.startContainer,"LI");H&&O.contains(H)?H.innerHTML='<blockquote data-block="0">'.concat(H.innerHTML,"</blockquote>"):O.outerHTML='<blockquote data-block="0">'.concat(O.outerHTML,"</blockquote>"),(0,V.ib)(f.wysiwyg.element,x)}}else if(A==="check"||A==="list"||A==="ordered-list")os(f,x,A,!1),(0,V.ib)(f.wysiwyg.element,x),w=!1,v(f.toolbar.elements,["check","list","ordered-list"]),d.classList.add("vditor-menu--current");else if(A==="inline-code"){if(x.toString()===""){var j=document.createElement("code");j.textContent=s.g.ZWSP,x.insertNode(j),x.setStart(j.firstChild,1),x.collapse(!0),(0,V.Hc)(x)}else if(x.startContainer.nodeType===3){var j=document.createElement("code");x.surroundContents(j),x.insertNode(j),(0,V.Hc)(x)}d.classList.add("vditor-menu--current")}else if(A==="code"){var j=document.createElement("div");j.className="vditor-wysiwyg__block",j.setAttribute("data-type","code-block"),j.setAttribute("data-block","0"),j.setAttribute("data-marker","```"),x.toString()===""?j.innerHTML=`<pre><code><wbr>
</code></pre>`:(j.innerHTML="<pre><code>".concat(x.toString(),"<wbr></code></pre>"),x.deleteContents()),x.insertNode(j),O&&(O.outerHTML=f.lute.SpinVditorDOM(O.outerHTML)),(0,V.ib)(f.wysiwyg.element,x),f.wysiwyg.element.querySelectorAll(".vditor-wysiwyg__preview[data-render='2']").forEach(function(rt){he(rt,f)}),d.classList.add("vditor-menu--disabled")}else if(A==="link"){if(x.toString()===""){var ee=document.createElement("a");ee.innerText=s.g.ZWSP,x.insertNode(ee),x.setStart(ee.firstChild,1),x.collapse(!0),Tu(f,ee,x);var re=f.wysiwyg.popover.querySelector("input");re.value="",re.focus(),S=!1}else{var j=document.createElement("a");j.setAttribute("href",""),j.innerHTML=x.toString(),x.surroundContents(j),x.insertNode(j),(0,V.Hc)(x),Tu(f,j,x);var Q=f.wysiwyg.popover.querySelectorAll("input");Q[0].value=j.innerText,Q[1].focus()}w=!1,d.classList.add("vditor-menu--current")}else if(A==="table"){var se='<table data-block="0"><thead><tr><th>col1<wbr></th><th>col2</th><th>col3</th></tr></thead><tbody><tr><td> </td><td> </td><td> </td></tr><tr><td> </td><td> </td><td> </td></tr></tbody></table>';if(x.toString().trim()==="")O&&O.innerHTML.trim().replace(s.g.ZWSP,"")===""?O.outerHTML=se:document.execCommand("insertHTML",!1,se),x.selectNode(f.wysiwyg.element.querySelector("wbr").previousSibling),f.wysiwyg.element.querySelector("wbr").remove(),(0,V.Hc)(x);else{se='<table data-block="0"><thead><tr>';var oe=x.toString().split(`
`),J=oe[0].split(",").length>oe[0].split("	").length?",":"	";oe.forEach(function(Ee,rt){rt===0?(Ee.split(J).forEach(function(Je,st){st===0?se+="<th>".concat(Je,"<wbr></th>"):se+="<th>".concat(Je,"</th>")}),se+="</tr></thead>"):(rt===1?se+="<tbody><tr>":se+="<tr>",Ee.split(J).forEach(function(Je){se+="<td>".concat(Je,"</td>")}),se+="</tr>")}),se+="</tbody></table>",document.execCommand("insertHTML",!1,se),(0,V.ib)(f.wysiwyg.element,x)}w=!1,d.classList.add("vditor-menu--disabled")}else if(A==="line"){if(O){var we=`<hr data-block="0"><p data-block="0"><wbr>
</p>`;O.innerHTML.trim()===""?O.outerHTML=we:O.insertAdjacentHTML("afterend",we),(0,V.ib)(f.wysiwyg.element,x)}}else if(w=!1,d.classList.add("vditor-menu--current"),A==="strike"&&(A="strikeThrough"),x.toString()===""&&(A==="bold"||A==="italic"||A==="strikeThrough")){var fe="strong";A==="italic"?fe="em":A==="strikeThrough"&&(fe="s");var j=document.createElement(fe);j.textContent=s.g.ZWSP,x.insertNode(j),j.previousSibling&&j.previousSibling.textContent===s.g.ZWSP&&(j.previousSibling.textContent=""),x.setStart(j.firstChild,1),x.collapse(!0),(0,V.Hc)(x)}else document.execCommand(A,!1,"")}w&&$n(f),S&&ot(f)}},dt=(function(){function f(d,g){var w,S=this;this.element=document.createElement("div"),g.className&&(w=this.element.classList).add.apply(w,g.className.split(" "));var x=g.hotkey?" <".concat((0,h.ns)(g.hotkey),">"):"";g.level===2&&(x=g.hotkey?" &lt;".concat((0,h.ns)(g.hotkey),"&gt;"):"");var A=g.tip?g.tip+x:"".concat(window.VditorI18n[g.name]).concat(x),I=g.name==="upload"?"div":"button";if(g.level===2)this.element.innerHTML="<".concat(I,' data-type="').concat(g.name,'">').concat(A,"</").concat(I,">");else{this.element.classList.add("vditor-toolbar__item");var R=document.createElement(I);R.setAttribute("data-type",g.name),R.className="vditor-tooltipped vditor-tooltipped__".concat(g.tipPosition),R.setAttribute("aria-label",A),R.innerHTML=g.icon,this.element.appendChild(R)}g.prefix&&this.element.children[0].addEventListener((0,h.Le)(),function(O){O.preventDefault(),!S.element.firstElementChild.classList.contains(s.g.CLASS_MENU_DISABLED)&&(d.currentMode==="wysiwyg"?Aw(d,S.element.children[0],O):d.currentMode==="ir"?Gw(d,S.element.children[0],g.prefix||"",g.suffix||""):Ow(d,S.element.children[0],g.prefix||"",g.suffix||""))})}return f})(),kw=(function(){var f=function(d,g){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,S){w.__proto__=S}||function(w,S){for(var x in S)Object.prototype.hasOwnProperty.call(S,x)&&(w[x]=S[x])},f(d,g)};return function(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");f(d,g);function w(){this.constructor=d}d.prototype=g===null?Object.create(g):(w.prototype=g.prototype,new w)}})(),Yn=function(f,d,g){var w;if(typeof g!="string"?(M(f,["subToolbar","hint"]),g.preventDefault(),w=u(f)):w=g,!(f.currentMode===d&&typeof g!="string")){if(f.devtools&&f.devtools.renderEchart(f),f.options.preview.mode==="both"&&d==="sv"?f.preview.element.style.display="block":f.preview.element.style.display="none",_(f.toolbar.elements,s.g.EDIT_TOOLBARS),v(f.toolbar.elements,s.g.EDIT_TOOLBARS),y(f.toolbar.elements,["outdent","indent"]),d==="ir")b(f.toolbar.elements,["both"]),C(f.toolbar.elements,["outdent","indent","outline","insert-before","insert-after"]),f.sv.element.style.display="none",f.wysiwyg.element.parentElement.style.display="none",f.ir.element.parentElement.style.display="block",f.lute.SetVditorIR(!0),f.lute.SetVditorWYSIWYG(!1),f.lute.SetVditorSV(!1),f.currentMode="ir",f.ir.element.innerHTML=f.lute.Md2VditorIRDOM(w),en(f,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1}),sr(f),f.ir.element.querySelectorAll(".vditor-ir__preview[data-render='2']").forEach(function(x){he(x,f)}),f.ir.element.querySelectorAll(".vditor-toc").forEach(function(x){(0,G.H)(x,{cdn:f.options.cdn,math:f.options.preview.math})});else if(d==="wysiwyg")b(f.toolbar.elements,["both"]),C(f.toolbar.elements,["outdent","indent","outline","insert-before","insert-after"]),f.sv.element.style.display="none",f.wysiwyg.element.parentElement.style.display="block",f.ir.element.parentElement.style.display="none",f.lute.SetVditorIR(!1),f.lute.SetVditorWYSIWYG(!0),f.lute.SetVditorSV(!1),f.currentMode="wysiwyg",sr(f),ep(f,w,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1}),f.wysiwyg.element.querySelectorAll(".vditor-toc").forEach(function(x){(0,G.H)(x,{cdn:f.options.cdn,math:f.options.preview.math})}),f.wysiwyg.popover.style.display="none";else if(d==="sv"){C(f.toolbar.elements,["both"]),b(f.toolbar.elements,["outdent","indent","outline","insert-before","insert-after"]),f.wysiwyg.element.parentElement.style.display="none",f.ir.element.parentElement.style.display="none",(f.options.preview.mode==="both"||f.options.preview.mode==="editor")&&(f.sv.element.style.display="block"),f.lute.SetVditorIR(!1),f.lute.SetVditorWYSIWYG(!1),f.lute.SetVditorSV(!0),f.currentMode="sv";var S=rp(w,f);S==="<div data-block='0'></div>"&&(S=""),f.sv.element.innerHTML=S,de(f.sv.element),Ct(f,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1}),sr(f)}f.undo.resetIcon(f),typeof g!="string"&&(f[f.currentMode].element.focus(),zi(f)),Ce(f),rs(f),f.toolbar.elements["edit-mode"]&&(f.toolbar.elements["edit-mode"].querySelectorAll("button").forEach(function(x){x.classList.remove("vditor-menu--current")}),f.toolbar.elements["edit-mode"].querySelector('button[data-mode="'.concat(f.currentMode,'"]')).classList.add("vditor-menu--current")),f.outline.toggle(f,f.currentMode!=="sv"&&f.options.outline.enable,typeof g!="string")}},Dw=(function(f){kw(d,f);function d(g,w){var S=f.call(this,g,w)||this,x=document.createElement("div");return x.className="vditor-hint".concat(w.level===2?"":" vditor-panel--arrow"),x.innerHTML='<button data-mode="wysiwyg">'.concat(window.VditorI18n.wysiwyg," &lt;").concat((0,h.ns)("⌥⌘7"),`></button>
<button data-mode="ir">`).concat(window.VditorI18n.instantRendering," &lt;").concat((0,h.ns)("⌥⌘8"),`></button>
<button data-mode="sv">`).concat(window.VditorI18n.splitView," &lt;").concat((0,h.ns)("⌥⌘9"),"></button>"),S.element.appendChild(x),S._bindEvent(g,x,w),S}return d.prototype._bindEvent=function(g,w,S){var x=this.element.children[0];L(g,w,x,S.level),w.children.item(0).addEventListener((0,h.Le)(),function(A){Yn(g,"wysiwyg",A),A.preventDefault(),A.stopPropagation()}),w.children.item(1).addEventListener((0,h.Le)(),function(A){Yn(g,"ir",A),A.preventDefault(),A.stopPropagation()}),w.children.item(2).addEventListener((0,h.Le)(),function(A){Yn(g,"sv",A),A.preventDefault(),A.stopPropagation()})},d})(dt),Na=function(f,d){return(0,V.Gb)(f,d)?getSelection().toString():""},xu=function(f,d){d.addEventListener("focus",function(){f.options.focus&&f.options.focus(u(f)),M(f,["subToolbar","hint"])})},tp=function(f,d){d.addEventListener("dblclick",function(g){g.target.tagName==="IMG"&&(f.options.image.preview?f.options.image.preview(g.target):f.options.image.isPreview&&(0,W.E)(g.target,f.options.lang,f.options.theme))})},Mu=function(f,d){d.addEventListener("blur",function(g){if(f.currentMode==="ir"){var w=f.ir.element.querySelector(".vditor-ir__node--expand");w&&w.classList.remove("vditor-ir__node--expand")}else f.currentMode==="wysiwyg"&&!f.wysiwyg.selectPopover.contains(g.relatedTarget)&&f.wysiwyg.hideComment();f[f.currentMode].range=(0,V.zh)(f),f.options.blur&&f.options.blur(u(f))})},Lu=function(f,d){d.addEventListener("dragstart",function(g){g.dataTransfer.setData(s.g.DROP_EDITOR,s.g.DROP_EDITOR)}),d.addEventListener("drop",function(g){g.dataTransfer.getData(s.g.DROP_EDITOR)?Fe(f):(g.dataTransfer.types.includes("Files")||g.dataTransfer.types.includes("text/html"))&&us(f,g,{pasteCode:function(w){document.execCommand("insertHTML",!1,w)}})})},Eu=function(f,d,g){d.addEventListener("copy",function(w){return g(w,f)})},Au=function(f,d,g){d.addEventListener("cut",function(w){g(w,f),f.options.comment.enable&&f.currentMode==="wysiwyg"&&f.wysiwyg.getComments(f),document.execCommand("delete")})},yt=function(f){if(f.currentMode==="wysiwyg"&&f.options.comment.enable&&f.options.comment.adjustTop(f.wysiwyg.getComments(f,!0)),!!f.options.typewriterMode){var d=f[f.currentMode].element,g=(0,V.Ny)(d).top;f.options.height==="auto"&&!f.element.classList.contains("vditor--fullscreen")&&window.scrollTo(window.scrollX,g+f.element.offsetTop+f.toolbar.element.offsetHeight-window.innerHeight/2+10),(f.options.height!=="auto"||f.element.classList.contains("vditor--fullscreen"))&&(d.scrollTop=g+d.scrollTop-d.clientHeight/2+10)}},ku=function(f,d){d.addEventListener("keydown",function(g){if(!g.isComposing&&f.options.keydown&&f.options.keydown(g),!((f.options.hint.extend.length>1||f.toolbar.elements.emoji)&&f.hint.select(g,f))){if(f.options.comment.enable&&f.currentMode==="wysiwyg"&&(g.key==="Backspace"||X("⌘X",g))&&f.wysiwyg.getComments(f),f.currentMode==="sv"){if(Se(f,g))return}else if(f.currentMode==="wysiwyg"){if(Mw(f,g))return}else if(f.currentMode==="ir"&&me(f,g))return;if(f.options.ctrlEnter&&X("⌘Enter",g)){f.options.ctrlEnter(u(f)),g.preventDefault();return}if(X("⌘Z",g)&&!f.toolbar.elements.undo){f.undo.undo(f),g.preventDefault();return}if(X("⌘Y",g)&&!f.toolbar.elements.redo){f.undo.redo(f),g.preventDefault();return}if(g.key==="Escape"){f.hint.element.style.display==="block"?f.hint.element.style.display="none":f.options.esc&&!g.isComposing&&f.options.esc(u(f)),g.preventDefault();return}if((0,h.yl)(g)&&g.altKey&&!g.shiftKey&&/^Digit[1-6]$/.test(g.code)){if(f.currentMode==="wysiwyg"){var w=g.code.replace("Digit","H");(0,T.lG)(getSelection().getRangeAt(0).startContainer,w)?Cu(f):ns(f,w),ot(f)}else f.currentMode==="sv"?np(f,"#".repeat(parseInt(g.code.replace("Digit",""),10))+" "):f.currentMode==="ir"&&Fa(f,"#".repeat(parseInt(g.code.replace("Digit",""),10))+" ");return g.preventDefault(),!0}if((0,h.yl)(g)&&g.altKey&&!g.shiftKey&&/^Digit[7-9]$/.test(g.code))return g.code==="Digit7"?Yn(f,"wysiwyg",g):g.code==="Digit8"?Yn(f,"ir",g):g.code==="Digit9"&&Yn(f,"sv",g),!0;f.options.toolbar.find(function(S){if(!S.hotkey||S.toolbar){if(S.toolbar){var x=S.toolbar.find(function(A){if(!A.hotkey)return!1;if(X(A.hotkey,g))return f.toolbar.elements[A.name].children[0].dispatchEvent(new CustomEvent((0,h.Le)())),g.preventDefault(),!0});return!!x}return!1}if(X(S.hotkey,g))return f.toolbar.elements[S.name].children[0].dispatchEvent(new CustomEvent((0,h.Le)())),g.preventDefault(),!0})}})},Du=function(f,d){d.addEventListener("selectstart",function(g){d.onmouseup=function(){setTimeout(function(){var w=Na(f[f.currentMode].element);w.trim()?(f.currentMode==="wysiwyg"&&f.options.comment.enable&&(!(0,T.a1)(g.target,"data-type","footnotes-block")&&!(0,T.a1)(g.target,"data-type","link-ref-defs-block")?f.wysiwyg.showComment():f.wysiwyg.hideComment()),f.options.select&&f.options.select(w)):(f.currentMode==="wysiwyg"&&f.options.comment.enable&&f.wysiwyg.hideComment(),typeof f.options.unSelect=="function"&&f.options.unSelect())})}})},Iu=function(f,d){var g=(0,V.zh)(f);g.extractContents(),g.insertNode(document.createTextNode(Lute.Caret)),g.insertNode(document.createTextNode(d));var w=(0,T.a1)(g.startContainer,"data-block","0");w||(w=f.sv.element);var S=f.lute.SpinVditorSVDOM(w.textContent);S="<div data-block='0'>"+S.replace(/<span data-type="newline"><br \/><span style="display: none">\n<\/span><\/span><span data-type="newline"><br \/><span style="display: none">\n<\/span><\/span></g,`<span data-type="newline"><br /><span style="display: none">
</span></span><span data-type="newline"><br /><span style="display: none">
</span></span></div><div data-block="0"><`)+"</div>",w.isEqualNode(f.sv.element)?w.innerHTML=S:w.outerHTML=S,de(f.sv.element),(0,V.ib)(f.sv.element,g),yt(f)},is=function(f,d,g){g===void 0&&(g=!0);var w=f;for(w.nodeType===3&&(w=w.parentElement);w;){if(w.getAttribute("data-type")===d)return w;g?w=w.previousElementSibling:w=w.nextElementSibling}return!1},rp=function(f,d){k("SpinVditorSVDOM",f,"argument",d.options.debugger);var g=d.lute.SpinVditorSVDOM(f);return f="<div data-block='0'>"+g.replace(/<span data-type="newline"><br \/><span style="display: none">\n<\/span><\/span><span data-type="newline"><br \/><span style="display: none">\n<\/span><\/span></g,`<span data-type="newline"><br /><span style="display: none">
</span></span><span data-type="newline"><br /><span style="display: none">
</span></span></div><div data-block="0"><`)+"</div>",k("SpinVditorSVDOM",f,"result",d.options.debugger),f},Iw=function(f){var d=f.getAttribute("data-type"),g=f.previousElementSibling,w=d&&d!=="text"&&d!=="table"&&d!=="heading-marker"&&d!=="newline"&&d!=="yaml-front-matter-open-marker"&&d!=="yaml-front-matter-close-marker"&&d!=="code-block-info"&&d!=="code-block-close-marker"&&d!=="code-block-open-marker"?f.textContent:"",S=!1;for(d==="newline"&&(S=!0);g&&!S;){var x=g.getAttribute("data-type");if(x==="li-marker"||x==="blockquote-marker"||x==="task-marker"||x==="padding"){var A=g.textContent;if(x==="li-marker"&&(d==="code-block-open-marker"||d==="code-block-info"))w=A.replace(/\S/g," ")+w;else if(d==="code-block-close-marker"&&g.nextElementSibling.isSameNode(f)){var I=is(f,"code-block-open-marker");I&&I.previousElementSibling&&(g=I.previousElementSibling,w=A+w)}else w=A+w}else x==="newline"&&(S=!0);g=g.previousElementSibling}return w},Ct=function(f,d){d===void 0&&(d={enableAddUndoStack:!0,enableHint:!1,enableInput:!0}),d.enableHint&&f.hint.render(f),f.preview.render(f);var g=u(f);typeof f.options.input=="function"&&d.enableInput&&f.options.input(g),f.options.counter.enable&&f.counter.render(f,g),f.options.cache.enable&&(0,h.pK)()&&(localStorage.setItem(f.options.cache.id,g),f.options.cache.after&&f.options.cache.after(g)),f.devtools&&f.devtools.renderEchart(f),clearTimeout(f.sv.processTimeoutId),f.sv.processTimeoutId=window.setTimeout(function(){d.enableAddUndoStack&&!f.sv.composingLock&&f.undo.addToUndoStack(f)},f.options.undoDelay)},np=function(f,d){var g=(0,V.zh)(f),w=(0,E.S)(g.startContainer,"SPAN");w&&w.textContent.trim()!==""&&(d=`
`+d),g.collapse(!0),document.execCommand("insertHTML",!1,d)},Ow=function(f,d,g,w){var S=(0,V.zh)(f),x=d.getAttribute("data-type");f.sv.element.childNodes.length===0&&(f.sv.element.innerHTML=`<span data-type="p" data-block="0"><span data-type="text"><wbr></span></span><span data-type="newline"><br><span style="display: none">
</span></span>`,(0,V.ib)(f.sv.element,S));var A=(0,T.F9)(S.startContainer),I=(0,E.S)(S.startContainer,"SPAN");if(A){if(x==="link"){var R=void 0;S.toString()===""?R="".concat(g).concat(Lute.Caret).concat(w):R="".concat(g).concat(S.toString()).concat(w.replace(")",Lute.Caret+")")),document.execCommand("insertHTML",!1,R);return}else if(x==="italic"||x==="bold"||x==="strike"||x==="inline-code"||x==="code"||x==="table"||x==="line"){var R=void 0;S.toString()===""?R="".concat(g).concat(Lute.Caret).concat(x==="code"?"":w):R="".concat(g).concat(S.toString()).concat(Lute.Caret).concat(x==="code"?"":w),x==="table"||x==="code"&&I&&I.textContent!==""?R=`

`+R:x==="line"&&(R=`

`.concat(g,`
`).concat(Lute.Caret)),document.execCommand("insertHTML",!1,R);return}else if((x==="check"||x==="list"||x==="ordered-list"||x==="quote")&&I){var O="* ";x==="check"?O="* [ ] ":x==="ordered-list"?O="1. ":x==="quote"&&(O="> ");var H=is(I,"newline");H?H.insertAdjacentText("afterend",O):A.insertAdjacentText("afterbegin",O),ue(f);return}(0,V.ib)(f.sv.element,S),Ct(f)}},ip=function(f){switch(f.currentMode){case"ir":return f.ir.element;case"wysiwyg":return f.wysiwyg.element;case"sv":return f.sv.element}},ap=function(f,d){f.options.upload.setHeaders&&(f.options.upload.headers=f.options.upload.setHeaders()),f.options.upload.headers&&Object.keys(f.options.upload.headers).forEach(function(g){d.setRequestHeader(g,f.options.upload.headers[g])})},Pw=function(f,d,g,w){function S(x){return x instanceof g?x:new g(function(A){A(x)})}return new(g||(g=Promise))(function(x,A){function I(H){try{O(w.next(H))}catch(j){A(j)}}function R(H){try{O(w.throw(H))}catch(j){A(j)}}function O(H){H.done?x(H.value):S(H.value).then(I,R)}O((w=w.apply(f,d||[])).next())})},Rw=function(f,d){var g={label:0,sent:function(){if(x[0]&1)throw x[1];return x[1]},trys:[],ops:[]},w,S,x,A;return A={next:I(0),throw:I(1),return:I(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function I(O){return function(H){return R([O,H])}}function R(O){if(w)throw new TypeError("Generator is already executing.");for(;A&&(A=0,O[0]&&(g=0)),g;)try{if(w=1,S&&(x=O[0]&2?S.return:O[0]?S.throw||((x=S.return)&&x.call(S),0):S.next)&&!(x=x.call(S,O[1])).done)return x;switch(S=0,x&&(O=[O[0]&2,x.value]),O[0]){case 0:case 1:x=O;break;case 4:return g.label++,{value:O[1],done:!1};case 5:g.label++,S=O[1],O=[0];continue;case 7:O=g.ops.pop(),g.trys.pop();continue;default:if(x=g.trys,!(x=x.length>0&&x[x.length-1])&&(O[0]===6||O[0]===2)){g=0;continue}if(O[0]===3&&(!x||O[1]>x[0]&&O[1]<x[3])){g.label=O[1];break}if(O[0]===6&&g.label<x[1]){g.label=x[1],x=O;break}if(x&&g.label<x[2]){g.label=x[2],g.ops.push(O);break}x[2]&&g.ops.pop(),g.trys.pop();continue}O=d.call(f,g)}catch(H){O=[6,H],S=0}finally{w=x=0}if(O[0]&5)throw O[1];return{value:O[0]?O[1]:void 0,done:!0}}},Nw=(function(){function f(){this.isUploading=!1,this.element=document.createElement("div"),this.element.className="vditor-upload"}return f})(),Bw=function(f,d){f.tip.hide();var g=[],w="",S="";f.options.lang,f.options;for(var x=function(O,H){var j=d[H],ee=!0;j.name||(w+="<li>".concat(window.VditorI18n.nameEmpty,"</li>"),ee=!1),j.size>f.options.upload.max&&(w+="<li>".concat(j.name," ").concat(window.VditorI18n.over," ").concat(f.options.upload.max/1024/1024,"M</li>"),ee=!1);var re=j.name.lastIndexOf("."),Q=j.name.substr(re),se=f.options.upload.filename(j.name.substr(0,re))+Q;if(f.options.upload.accept){var oe=f.options.upload.accept.split(",").some(function(J){var we=J.trim();if(we.indexOf(".")===0){if(Q.toLowerCase()===we.toLowerCase())return!0}else if(j.type.split("/")[0]===we.split("/")[0])return!0;return!1});oe||(w+="<li>".concat(j.name," ").concat(window.VditorI18n.fileTypeError,"</li>"),ee=!1)}ee&&(g.push(j),S+="<li>".concat(se," ").concat(window.VditorI18n.uploading,' <a class="vditorCancelUpload" href="javascript:void(0)">').concat(window.VditorI18n.cancelUpload,"</a></li>"))},A=d.length,I=0;I<A;I++)x(A,I);if(f.tip.show("<ul>".concat(w).concat(S,"</ul>")),f.options.upload.cancel){var R=f.tip.element.querySelector(".vditorCancelUpload");R&&R.addEventListener("click",function(){f.options.upload.cancel(g),f.tip.hide(),f.upload.isUploading=!1})}return g},Hw=function(f,d){var g=ip(d);g.focus();var w=JSON.parse(f),S="";w.code===1&&(S="".concat(w.msg)),w.data.errFiles&&w.data.errFiles.length>0&&(S="<ul><li>".concat(S,"</li>"),w.data.errFiles.forEach(function(A){var I=A.lastIndexOf("."),R=d.options.upload.filename(A.substr(0,I))+A.substr(I);S+="<li>".concat(R," ").concat(window.VditorI18n.uploadError,"</li>")}),S+="</ul>"),S?d.tip.show(S):d.tip.hide();var x="";Object.keys(w.data.succMap).forEach(function(A){var I=w.data.succMap[A],R=A.lastIndexOf("."),O=A.substr(R),H=d.options.upload.filename(A.substr(0,R))+O;O=O.toLowerCase(),O.indexOf(".wav")===0||O.indexOf(".mp3")===0||O.indexOf(".ogg")===0?d.currentMode==="wysiwyg"?x+=`<div class="vditor-wysiwyg__block" data-type="html-block"
 data-block="0"><pre><code>&lt;audio controls="controls" src="`.concat(I,'"&gt;&lt;/audio&gt;</code></pre><pre class="vditor-wysiwyg__preview" data-render="1"><audio controls="controls" src="').concat(I,`"></audio></pre></div>
`):d.currentMode==="ir"?x+='<audio controls="controls" src="'.concat(I,`"></audio>
`):x+="[".concat(H,"](").concat(I,`)
`):O.indexOf(".apng")===0||O.indexOf(".bmp")===0||O.indexOf(".gif")===0||O.indexOf(".ico")===0||O.indexOf(".cur")===0||O.indexOf(".jpg")===0||O.indexOf(".jpeg")===0||O.indexOf(".jfif")===0||O.indexOf(".pjp")===0||O.indexOf(".pjpeg")===0||O.indexOf(".png")===0||O.indexOf(".svg")===0||O.indexOf(".webp")===0?d.currentMode==="wysiwyg"?x+='<img alt="'.concat(H,'" src="').concat(I,`">
`):x+="![".concat(H,"](").concat(I,`)
`):d.currentMode==="wysiwyg"?x+='<a href="'.concat(I,'">').concat(H,`</a>
`):x+="[".concat(H,"](").concat(I,`)
`)}),(0,V.Hc)(d.upload.range),document.execCommand("insertHTML",!1,x),d.upload.range=getSelection().getRangeAt(0).cloneRange()},Ou=function(f,d,g){return Pw(void 0,void 0,void 0,function(){var w,S,Q,x,A,A,I,R,O,H,j,ee,re,Q,se,oe;return Rw(this,function(J){switch(J.label){case 0:for(w=[],S=f.options.upload.multiple===!0?d.length:1,Q=0;Q<S;Q++)x=d[Q],x instanceof DataTransferItem&&(x=x.getAsFile()),w.push(x);return f.options.upload.handler?[4,f.options.upload.handler(w)]:[3,2];case 1:return A=J.sent(),g&&(g.value=""),typeof A=="string"?(f.tip.show(A),[2]):[2];case 2:return!f.options.upload.url||!f.upload?(g&&(g.value=""),f.tip.show("please config: options.upload.url"),[2]):f.options.upload.file?[4,f.options.upload.file(w)]:[3,4];case 3:w=J.sent(),J.label=4;case 4:if(f.options.upload.validate&&(A=f.options.upload.validate(w),typeof A=="string"))return f.tip.show(A),[2];if(I=ip(f),f.upload.range=(0,V.zh)(f),R=Bw(f,w),R.length===0)return g&&(g.value=""),[2];for(O=new FormData,H=f.options.upload.extraData,j=0,ee=Object.keys(H);j<ee.length;j++)re=ee[j],O.append(re,H[re]);for(Q=0,se=R.length;Q<se;Q++)O.append(f.options.upload.fieldName,R[Q]);return oe=new XMLHttpRequest,f.upload.xhr=oe,oe.open("POST",f.options.upload.url),f.options.upload.token&&oe.setRequestHeader("X-Upload-Token",f.options.upload.token),f.options.upload.withCredentials&&(oe.withCredentials=!0),ap(f,oe),f.upload.isUploading=!0,I.setAttribute("contenteditable","false"),oe.onreadystatechange=function(){if(oe.readyState===XMLHttpRequest.DONE){if(f.upload.isUploading=!1,I.setAttribute("contenteditable","true"),oe.status>=200&&oe.status<300)if(f.options.upload.success)f.options.upload.success(I,oe.responseText);else{var we=oe.responseText;f.options.upload.format&&(we=f.options.upload.format(d,oe.responseText)),Hw(we,f)}else f.options.upload.error?f.options.upload.error(oe.responseText):f.tip.show(oe.responseText);g&&(g.value=""),f.upload.element.style.display="none",f.upload.xhr=void 0}},oe.upload.onprogress=function(we){if(we.lengthComputable){var fe=we.loaded/we.total*100;f.upload.element.style.display="block";var Ee=f.upload.element;Ee.style.width=fe+"%"}},oe.send(O),[2]}})})},as=function(f,d,g){var w,S=(0,T.F9)(d.startContainer);if(S||(S=f.wysiwyg.element),g&&g.inputType!=="formatItalic"&&g.inputType!=="deleteByDrag"&&g.inputType!=="insertFromDrop"&&g.inputType!=="formatBold"&&g.inputType!=="formatRemove"&&g.inputType!=="formatStrikeThrough"&&g.inputType!=="insertUnorderedList"&&g.inputType!=="insertOrderedList"&&g.inputType!=="formatOutdent"&&g.inputType!=="formatIndent"&&g.inputType!==""||!g){var x=Sw(d.startContainer);x&&x.remove(),f.wysiwyg.element.querySelectorAll("wbr").forEach(function(fe){fe.remove()}),d.insertNode(document.createElement("wbr")),S.querySelectorAll("[style]").forEach(function(fe){fe.removeAttribute("style")}),S.querySelectorAll(".vditor-comment").forEach(function(fe){fe.textContent.trim()===""&&(fe.classList.remove("vditor-comment","vditor-comment--focus"),fe.removeAttribute("data-cmtids"))}),(w=S.previousElementSibling)===null||w===void 0||w.querySelectorAll(".vditor-comment").forEach(function(fe){fe.textContent.trim()===""&&(fe.classList.remove("vditor-comment","vditor-comment--focus"),fe.removeAttribute("data-cmtids"))});var A="";S.getAttribute("data-type")==="link-ref-defs-block"&&(S=f.wysiwyg.element);var I=S.isEqualNode(f.wysiwyg.element),R=(0,T.a1)(S,"data-type","footnotes-block");if(I)A=S.innerHTML;else{var O=(0,T.O9)(d.startContainer);if(O&&!R){var H=(0,E.S)(d.startContainer,"BLOCKQUOTE");H?S=(0,T.F9)(d.startContainer)||S:S=O}if(R&&(S=R),A=S.outerHTML,S.tagName==="UL"||S.tagName==="OL"){var j=S.previousElementSibling,ee=S.nextElementSibling;j&&(j.tagName==="UL"||j.tagName==="OL")&&(A=j.outerHTML+A,j.remove()),ee&&(ee.tagName==="UL"||ee.tagName==="OL")&&(A=A+ee.outerHTML,ee.remove()),A=A.replace("<div><wbr><br></div>","<li><p><wbr><br></p></li>")}S.innerText.startsWith("```")||(f.wysiwyg.element.querySelectorAll("[data-type='link-ref-defs-block']").forEach(function(fe){fe&&!S.isEqualNode(fe)&&(A+=fe.outerHTML,fe.remove())}),f.wysiwyg.element.querySelectorAll("[data-type='footnotes-block']").forEach(function(fe){fe&&!S.isEqualNode(fe)&&(A+=fe.outerHTML,fe.remove())}))}if(A=A.replace(/<\/(strong|b)><strong data-marker="\W{2}">/g,"").replace(/<\/(em|i)><em data-marker="\W{1}">/g,"").replace(/<\/(s|strike)><s data-marker="~{1,2}">/g,""),A==='<p data-block="0">```<wbr></p>'&&f.hint.recentLanguage&&(A='<p data-block="0">```<wbr></p>'.replace("```","```"+f.hint.recentLanguage)),k("SpinVditorDOM",A,"argument",f.options.debugger),A=f.lute.SpinVditorDOM(A),k("SpinVditorDOM",A,"result",f.options.debugger),I)S.innerHTML=A;else if(S.outerHTML=A,R){var re=(0,T.E2)(f.wysiwyg.element.querySelector("wbr"),"LI");if(re){var Q=f.wysiwyg.element.querySelector('sup[data-type="footnotes-ref"][data-footnotes-label="'.concat(re.getAttribute("data-marker"),'"]'));Q&&Q.setAttribute("aria-label",re.textContent.trim().substr(0,24))}}var se,oe=f.wysiwyg.element.querySelectorAll("[data-type='link-ref-defs-block']");oe.forEach(function(fe,Ee){Ee===0?se=fe:(se.insertAdjacentHTML("beforeend",fe.innerHTML),fe.remove())}),oe.length>0&&f.wysiwyg.element.insertAdjacentElement("beforeend",oe[0]);var J,we=f.wysiwyg.element.querySelectorAll("[data-type='footnotes-block']");we.forEach(function(fe,Ee){Ee===0?J=fe:(J.insertAdjacentHTML("beforeend",fe.innerHTML),fe.remove())}),we.length>0&&f.wysiwyg.element.insertAdjacentElement("beforeend",we[0]),(0,V.ib)(f.wysiwyg.element,d),f.wysiwyg.element.querySelectorAll(".vditor-wysiwyg__preview[data-render='2']").forEach(function(fe){he(fe,f)}),g&&(g.inputType==="deleteContentBackward"||g.inputType==="deleteContentForward")&&f.options.comment.enable&&(f.wysiwyg.triggerRemoveComment(f),f.options.comment.adjustTop(f.wysiwyg.getComments(f,!0)))}Ce(f),ot(f,{enableAddUndoStack:!0,enableHint:!0,enableInput:!0})},Fw=function(f,d){return Object.defineProperty?Object.defineProperty(f,"raw",{value:d}):f.raw=d,f},op=function(f,d,g,w){function S(x){return x instanceof g?x:new g(function(A){A(x)})}return new(g||(g=Promise))(function(x,A){function I(H){try{O(w.next(H))}catch(j){A(j)}}function R(H){try{O(w.throw(H))}catch(j){A(j)}}function O(H){H.done?x(H.value):S(H.value).then(I,R)}O((w=w.apply(f,d||[])).next())})},sp=function(f,d){var g={label:0,sent:function(){if(x[0]&1)throw x[1];return x[1]},trys:[],ops:[]},w,S,x,A;return A={next:I(0),throw:I(1),return:I(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function I(O){return function(H){return R([O,H])}}function R(O){if(w)throw new TypeError("Generator is already executing.");for(;A&&(A=0,O[0]&&(g=0)),g;)try{if(w=1,S&&(x=O[0]&2?S.return:O[0]?S.throw||((x=S.return)&&x.call(S),0):S.next)&&!(x=x.call(S,O[1])).done)return x;switch(S=0,x&&(O=[O[0]&2,x.value]),O[0]){case 0:case 1:x=O;break;case 4:return g.label++,{value:O[1],done:!1};case 5:g.label++,S=O[1],O=[0];continue;case 7:O=g.ops.pop(),g.trys.pop();continue;default:if(x=g.trys,!(x=x.length>0&&x[x.length-1])&&(O[0]===6||O[0]===2)){g=0;continue}if(O[0]===3&&(!x||O[1]>x[0]&&O[1]<x[3])){g.label=O[1];break}if(O[0]===6&&g.label<x[1]){g.label=x[1],x=O;break}if(x&&g.label<x[2]){g.label=x[2],g.ops.push(O);break}x[2]&&g.ops.pop(),g.trys.pop();continue}O=d.call(f,g)}catch(H){O=[6,H],S=0}finally{w=x=0}if(O[0]&5)throw O[1];return{value:O[0]?O[1]:void 0,done:!0}}},lp=function(f,d,g){if(f.keyCode===229&&f.code===""&&f.key==="Unidentified"&&d.currentMode!=="sv"){var w=(0,T.F9)(g);if(w&&w.textContent.trim()==="")return d[d.currentMode].composingLock=!0,!1}return!0},up=function(f,d,g){if(!(g.key==="Enter"||g.key==="Tab"||g.key==="Backspace"||g.key.indexOf("Arrow")>-1||(0,h.yl)(g)||g.key==="Escape"||g.shiftKey||g.altKey)){var w=(0,T.lG)(f.startContainer,"P")||(0,T.lG)(f.startContainer,"LI");if(w&&(0,V.im)(w,d[d.currentMode].element,f).start===0){w.nodeValue&&(w.nodeValue=w.nodeValue.replace(/\u2006/g,""));var S=document.createTextNode(s.g.ZWSP);f.insertNode(S),f.setStartAfter(S)}}},cp=function(f,d){if(d==="ArrowDown"||d==="ArrowUp"){var g=(0,T.a1)(f.startContainer,"data-type","math-inline")||(0,T.a1)(f.startContainer,"data-type","html-entity")||(0,T.a1)(f.startContainer,"data-type","html-inline");g&&(d==="ArrowDown"&&f.setStartAfter(g.parentElement),d==="ArrowUp"&&f.setStartBefore(g.parentElement))}},Ba=function(f,d){var g=(0,V.zh)(f),w=(0,T.F9)(g.startContainer);w&&(w.insertAdjacentHTML(d,'<p data-block="0">'.concat(s.g.ZWSP,`<wbr>
</p>`)),(0,V.ib)(f[f.currentMode].element,g),zi(f),Fe(f))},Vw=function(f){var d=(0,T.lG)(f,"TABLE");return d&&d.rows[0].cells[0].isSameNode(f)?d:!1},zw=function(f){var d=(0,T.lG)(f,"TABLE");return d&&d.lastElementChild.lastElementChild.lastElementChild.isSameNode(f)?d:!1},fp=function(f,d,g){g===void 0&&(g=!0);var w=f.previousElementSibling;return w||(f.parentElement.previousElementSibling?w=f.parentElement.previousElementSibling.lastElementChild:f.parentElement.parentElement.tagName==="TBODY"&&f.parentElement.parentElement.previousElementSibling?w=f.parentElement.parentElement.previousElementSibling.lastElementChild.lastElementChild:w=null),w&&(d.selectNodeContents(w),g||d.collapse(!1),(0,V.Hc)(d)),w},Ha=function(f,d,g,w,S){var x=(0,V.im)(w,f[f.currentMode].element,g);if(d.key==="ArrowDown"&&w.textContent.trimRight().substr(x.start).indexOf(`
`)===-1||d.key==="ArrowRight"&&x.start>=w.textContent.trimRight().length){var A=S.nextElementSibling;return!A||A&&(A.tagName==="TABLE"||A.getAttribute("data-type"))?(S.insertAdjacentHTML("afterend",'<p data-block="0">'.concat(s.g.ZWSP,"<wbr></p>")),(0,V.ib)(f[f.currentMode].element,g)):(g.selectNodeContents(A),g.collapse(!0),(0,V.Hc)(g)),d.preventDefault(),!0}return!1},Ui=function(f,d,g,w,S){var x=(0,V.im)(w,f[f.currentMode].element,g);if(d.key==="ArrowUp"&&w.textContent.substr(0,x.start).indexOf(`
`)===-1||(d.key==="ArrowLeft"||d.key==="Backspace"&&g.toString()==="")&&x.start===0){var A=S.previousElementSibling;return!A||A&&(A.tagName==="TABLE"||A.getAttribute("data-type"))?(S.insertAdjacentHTML("beforebegin",'<p data-block="0">'.concat(s.g.ZWSP,"<wbr></p>")),(0,V.ib)(f[f.currentMode].element,g)):(g.selectNodeContents(A),g.collapse(!1),(0,V.Hc)(g)),d.preventDefault(),!0}return!1},os=function(f,d,g,w){w===void 0&&(w=!0);var S=(0,T.lG)(d.startContainer,"LI");if(f[f.currentMode].element.querySelectorAll("wbr").forEach(function(H){H.remove()}),d.insertNode(document.createElement("wbr")),w&&S){for(var x="",A=0;A<S.parentElement.childElementCount;A++){var I=S.parentElement.children[A].querySelector("input");I&&I.remove(),x+='<p data-block="0">'.concat(S.parentElement.children[A].innerHTML.trimLeft(),"</p>")}S.parentElement.insertAdjacentHTML("beforebegin",x),S.parentElement.remove()}else if(S)if(g==="check")S.parentElement.querySelectorAll("li").forEach(function(H){H.insertAdjacentHTML("afterbegin",'<input type="checkbox" />'.concat(H.textContent.indexOf(" ")===0?"":" ")),H.classList.add("vditor-task")});else{S.querySelector("input")&&S.parentElement.querySelectorAll("li").forEach(function(H){H.querySelector("input").remove(),H.classList.remove("vditor-task")});var O=void 0;g==="list"?(O=document.createElement("ul"),O.setAttribute("data-marker","*")):(O=document.createElement("ol"),O.setAttribute("data-marker","1.")),O.setAttribute("data-block","0"),O.setAttribute("data-tight",S.parentElement.getAttribute("data-tight")),O.innerHTML=S.parentElement.innerHTML,S.parentElement.parentNode.replaceChild(O,S.parentElement)}else{var R=(0,T.a1)(d.startContainer,"data-block","0");R||(f[f.currentMode].element.querySelector("wbr").remove(),R=f[f.currentMode].element.querySelector("p"),R.innerHTML="<wbr>"),g==="check"?(R.insertAdjacentHTML("beforebegin",'<ul data-block="0"><li class="vditor-task"><input type="checkbox" /> '.concat(R.innerHTML,"</li></ul>")),R.remove()):g==="list"?(R.insertAdjacentHTML("beforebegin",'<ul data-block="0"><li>'.concat(R.innerHTML,"</li></ul>")),R.remove()):g==="ordered-list"&&(R.insertAdjacentHTML("beforebegin",'<ol data-block="0"><li>'.concat(R.innerHTML,"</li></ol>")),R.remove())}},hp=function(f,d,g){var w=d.previousElementSibling;if(d&&w){var S=[d];Array.from(g.cloneContents().children).forEach(function(R,O){R.nodeType!==3&&d&&R.textContent.trim()!==""&&d.getAttribute("data-node-id")===R.getAttribute("data-node-id")&&(O!==0&&S.push(d),d=d.nextElementSibling)}),f[f.currentMode].element.querySelectorAll("wbr").forEach(function(R){R.remove()}),g.insertNode(document.createElement("wbr"));var x=w.parentElement,A="";S.forEach(function(R){var O=R.getAttribute("data-marker");O.length!==1&&(O="1".concat(O.slice(-1))),A+='<li data-node-id="'.concat(R.getAttribute("data-node-id"),'" data-marker="').concat(O,'">').concat(R.innerHTML,"</li>"),R.remove()}),w.insertAdjacentHTML("beforeend","<".concat(x.tagName,' data-block="0">').concat(A,"</").concat(x.tagName,">")),f.currentMode==="wysiwyg"?x.outerHTML=f.lute.SpinVditorDOM(x.outerHTML):x.outerHTML=f.lute.SpinVditorIRDOM(x.outerHTML),(0,V.ib)(f[f.currentMode].element,g);var I=(0,T.O9)(g.startContainer);I&&I.querySelectorAll(".vditor-".concat(f.currentMode,"__preview[data-render='2']")).forEach(function(R){he(R,f),f.currentMode==="wysiwyg"&&R.previousElementSibling.setAttribute("style","display:none")}),Fe(f),zi(f)}else f[f.currentMode].element.focus()},Pu=function(f,d,g,w){var S=(0,T.lG)(d.parentElement,"LI");if(S){f[f.currentMode].element.querySelectorAll("wbr").forEach(function(j){j.remove()}),g.insertNode(document.createElement("wbr"));var x=d.parentElement,A=x.cloneNode(),I=[d];Array.from(g.cloneContents().children).forEach(function(j,ee){j.nodeType!==3&&d&&j.textContent.trim()!==""&&d.getAttribute("data-node-id")===j.getAttribute("data-node-id")&&(ee!==0&&I.push(d),d=d.nextElementSibling)});var R=!1,O="";x.querySelectorAll("li").forEach(function(j){R&&(O+=j.outerHTML,!j.nextElementSibling&&!j.previousElementSibling?j.parentElement.remove():j.remove()),j.isSameNode(I[I.length-1])&&(R=!0)}),I.reverse().forEach(function(j){S.insertAdjacentElement("afterend",j)}),O&&(A.innerHTML=O,I[0].insertAdjacentElement("beforeend",A)),f.currentMode==="wysiwyg"?w.outerHTML=f.lute.SpinVditorDOM(w.outerHTML):w.outerHTML=f.lute.SpinVditorIRDOM(w.outerHTML),(0,V.ib)(f[f.currentMode].element,g);var H=(0,T.O9)(g.startContainer);H&&H.querySelectorAll(".vditor-".concat(f.currentMode,"__preview[data-render='2']")).forEach(function(j){he(j,f),f.currentMode==="wysiwyg"&&j.previousElementSibling.setAttribute("style","display:none")}),Fe(f),zi(f)}else f[f.currentMode].element.focus()},ss=function(f,d){for(var g=getSelection().getRangeAt(0).startContainer.parentElement,w=f.rows[0].cells.length,S=f.rows.length,x=0,A=0;A<S;A++)for(var I=0;I<w;I++)if(f.rows[A].cells[I].isSameNode(g)){x=I;break}for(var R=0;R<S;R++)f.rows[R].cells[x].setAttribute("align",d)},Ru=function(f){var d=f.trimRight().split(`
`).pop();return d===""?!1:(d.replace(/ |-/g,"")===""||d.replace(/ |_/g,"")===""||d.replace(/ |\*/g,"")==="")&&d.replace(/ /g,"").length>2?!(d.indexOf("-")>-1&&d.trimLeft().indexOf(" ")===-1&&f.trimRight().split(`
`).length>1||d.indexOf("    ")===0||d.indexOf("	")===0):!1},Nu=function(f){var d=f.trimRight().split(`
`);return f=d.pop(),f.indexOf("    ")===0||f.indexOf("	")===0||(f=f.trimLeft(),f===""||d.length===0)?!1:f.replace(/-/g,"")===""||f.replace(/=/g,"")===""},Fe=function(f,d){d===void 0&&(d={enableAddUndoStack:!0,enableHint:!1,enableInput:!0}),f.currentMode==="wysiwyg"?ot(f,d):f.currentMode==="ir"?en(f,d):f.currentMode==="sv"&&Ct(f,d)},dp=function(f,d,g,w){var S,x=f.startContainer,A=(0,T.lG)(x,"LI");if(A){if(!(0,h.yl)(w)&&!w.altKey&&w.key==="Enter"&&!w.shiftKey&&g&&A.contains(g)&&g.nextElementSibling)return A&&!A.textContent.endsWith(`
`)&&A.insertAdjacentText("beforeend",`
`),f.insertNode(document.createTextNode(`

`)),f.collapse(!1),Fe(d),w.preventDefault(),!0;if(!(0,h.yl)(w)&&!w.shiftKey&&!w.altKey&&w.key==="Backspace"&&!A.previousElementSibling&&f.toString()===""&&(0,V.im)(A,d[d.currentMode].element,f).start===0)return A.nextElementSibling?(A.parentElement.insertAdjacentHTML("beforebegin",'<p data-block="0"><wbr>'.concat(A.innerHTML,"</p>")),A.remove()):A.parentElement.outerHTML='<p data-block="0"><wbr>'.concat(A.innerHTML,"</p>"),(0,V.ib)(d[d.currentMode].element,f),Fe(d),w.preventDefault(),!0;if(!(0,h.yl)(w)&&!w.shiftKey&&!w.altKey&&w.key==="Backspace"&&A.textContent.trim().replace(s.g.ZWSP,"")===""&&f.toString()===""&&((S=A.previousElementSibling)===null||S===void 0?void 0:S.tagName)==="LI")return A.previousElementSibling.insertAdjacentText("beforeend",`

`),f.selectNodeContents(A.previousElementSibling),f.collapse(!1),A.remove(),(0,V.ib)(d[d.currentMode].element,f),Fe(d),w.preventDefault(),!0;if(!(0,h.yl)(w)&&!w.altKey&&w.key==="Tab"){var I=!1;if((f.startOffset===0&&(x.nodeType===3&&!x.previousSibling||x.nodeType!==3&&x.nodeName==="LI")||A.classList.contains("vditor-task")&&f.startOffset===1&&x.previousSibling.nodeType!==3&&x.previousSibling.tagName==="INPUT")&&(I=!0),I||f.toString()!=="")return w.shiftKey?Pu(d,A,f,A.parentElement):hp(d,A,f),w.preventDefault(),!0}}return!1},Bu=function(f,d,g){if(f.options.tab&&g.key==="Tab")return g.shiftKey||(d.toString()===""?(d.insertNode(document.createTextNode(f.options.tab)),d.collapse(!1)):(d.extractContents(),d.insertNode(document.createTextNode(f.options.tab)),d.collapse(!1))),(0,V.Hc)(d),Fe(f),g.preventDefault(),!0},pp=function(f,d,g,w){if(g){if(!(0,h.yl)(f)&&!f.altKey&&f.key==="Enter"){var S=String.raw(Mp||(Mp=Fw(["",""],["",""])),g.textContent).replace(/\\\|/g,"").trim(),x=S.split("|");if(S.startsWith("|")&&S.endsWith("|")&&x.length>3){var A=x.map(function(){return"---"}).join("|");return A=g.textContent+`
`+A.substring(3,A.length-3)+`
|<wbr>`,g.outerHTML=d.lute.SpinVditorDOM(A),(0,V.ib)(d[d.currentMode].element,w),Fe(d),yt(d),f.preventDefault(),!0}if(Ru(g.innerHTML)&&g.previousElementSibling){var I="",R=g.innerHTML.trimRight().split(`
`);return R.length>1&&(R.pop(),I='<p data-block="0">'.concat(R.join(`
`),"</p>")),g.insertAdjacentHTML("afterend","".concat(I,`<hr data-block="0"><p data-block="0"><wbr>
</p>`)),g.remove(),(0,V.ib)(d[d.currentMode].element,w),Fe(d),yt(d),f.preventDefault(),!0}if(Nu(g.innerHTML))return d.currentMode==="wysiwyg"?g.outerHTML=d.lute.SpinVditorDOM(g.innerHTML+`<p data-block="0"><wbr>
</p>`):g.outerHTML=d.lute.SpinVditorIRDOM(g.innerHTML+`<p data-block="0"><wbr>
</p>`),(0,V.ib)(d[d.currentMode].element,w),Fe(d),yt(d),f.preventDefault(),!0}if(w.collapsed&&g.previousElementSibling&&f.key==="Backspace"&&!(0,h.yl)(f)&&!f.altKey&&!f.shiftKey&&g.textContent.trimRight().split(`
`).length>1&&(0,V.im)(g,d[d.currentMode].element,w).start===0){var O=(0,T.DX)(g.previousElementSibling);return O.textContent.endsWith(`
`)||(O.textContent=O.textContent+`
`),O.parentElement.insertAdjacentHTML("beforeend","<wbr>".concat(g.innerHTML)),g.remove(),(0,V.ib)(d[d.currentMode].element,w),!1}return!1}},vp=function(f,d,g){for(var w="",S=0;S<g.parentElement.childElementCount;S++)w+='<td align="'.concat(g.parentElement.children[S].getAttribute("align"),'"> </td>');g.tagName==="TH"?g.parentElement.parentElement.insertAdjacentHTML("afterend","<tbody><tr>".concat(w,"</tr></tbody>")):g.parentElement.insertAdjacentHTML("afterend","<tr>".concat(w,"</tr>")),Fe(f)},gp=function(f,d,g){for(var w="",S=0;S<g.parentElement.childElementCount;S++)g.tagName==="TH"?w+='<th align="'.concat(g.parentElement.children[S].getAttribute("align"),'"> </th>'):w+='<td align="'.concat(g.parentElement.children[S].getAttribute("align"),'"> </td>');if(g.tagName==="TH"){g.parentElement.parentElement.insertAdjacentHTML("beforebegin","<thead><tr>".concat(w,"</tr></thead>")),d.insertNode(document.createElement("wbr"));var x=g.parentElement.innerHTML.replace(/<th>/g,"<td>").replace(/<\/th>/g,"</td>");g.parentElement.parentElement.nextElementSibling.insertAdjacentHTML("afterbegin",x),g.parentElement.parentElement.remove(),(0,V.ib)(f.ir.element,d)}else g.parentElement.insertAdjacentHTML("beforebegin","<tr>".concat(w,"</tr>"));Fe(f)},ls=function(f,d,g,w){w===void 0&&(w="afterend");for(var S=0,x=g.previousElementSibling;x;)S++,x=x.previousElementSibling;for(var A=0;A<d.rows.length;A++)A===0?d.rows[A].cells[S].insertAdjacentHTML(w,"<th> </th>"):d.rows[A].cells[S].insertAdjacentHTML(w,"<td> </td>");Fe(f)},mp=function(f,d,g){if(g.tagName==="TD"){var w=g.parentElement.parentElement;g.parentElement.previousElementSibling?d.selectNodeContents(g.parentElement.previousElementSibling.lastElementChild):d.selectNodeContents(w.previousElementSibling.lastElementChild.lastElementChild),w.childElementCount===1?w.remove():g.parentElement.remove(),d.collapse(!1),(0,V.Hc)(d),Fe(f)}},yp=function(f,d,g,w){for(var S=0,x=w.previousElementSibling;x;)S++,x=x.previousElementSibling;(w.previousElementSibling||w.nextElementSibling)&&(d.selectNodeContents(w.previousElementSibling||w.nextElementSibling),d.collapse(!0));for(var A=0;A<g.rows.length;A++){var I=g.rows[A].cells;if(I.length===1){g.remove(),zi(f);break}I[S].remove()}(0,V.Hc)(d),Fe(f)},_p=function(f,d,g){var w=g.startContainer,S=(0,T.lG)(w,"TD")||(0,T.lG)(w,"TH");if(S){if(!(0,h.yl)(d)&&!d.altKey&&d.key==="Enter"){(!S.lastElementChild||S.lastElementChild&&(!S.lastElementChild.isSameNode(S.lastChild)||S.lastElementChild.tagName!=="BR"))&&S.insertAdjacentHTML("beforeend","<br>");var x=document.createElement("br");return g.insertNode(x),g.setStartAfter(x),Fe(f),yt(f),d.preventDefault(),!0}if(d.key==="Tab"){if(d.shiftKey)return fp(S,g),d.preventDefault(),!0;var A=S.nextElementSibling;return A||(S.parentElement.nextElementSibling?A=S.parentElement.nextElementSibling.firstElementChild:S.parentElement.parentElement.tagName==="THEAD"&&S.parentElement.parentElement.nextElementSibling?A=S.parentElement.parentElement.nextElementSibling.firstElementChild.firstElementChild:A=null),A&&(g.selectNodeContents(A),(0,V.Hc)(g)),d.preventDefault(),!0}var I=S.parentElement.parentElement.parentElement;if(d.key==="ArrowUp"){if(d.preventDefault(),S.tagName==="TH")return I.previousElementSibling?(g.selectNodeContents(I.previousElementSibling),g.collapse(!1),(0,V.Hc)(g)):Ba(f,"beforebegin"),!0;for(var R=0,O=S.parentElement;R<O.cells.length&&!O.cells[R].isSameNode(S);R++);var H=O.previousElementSibling;return H||(H=O.parentElement.previousElementSibling.firstChild),g.selectNodeContents(H.cells[R]),g.collapse(!1),(0,V.Hc)(g),!0}if(d.key==="ArrowDown"){d.preventDefault();var O=S.parentElement;if(!O.nextElementSibling&&S.tagName==="TD")return I.nextElementSibling?(g.selectNodeContents(I.nextElementSibling),g.collapse(!0),(0,V.Hc)(g)):Ba(f,"afterend"),!0;for(var R=0;R<O.cells.length&&!O.cells[R].isSameNode(S);R++);var A=O.nextElementSibling;return A||(A=O.parentElement.nextElementSibling.firstChild),g.selectNodeContents(A.cells[R]),g.collapse(!0),(0,V.Hc)(g),!0}if(f.currentMode==="wysiwyg"&&!(0,h.yl)(d)&&d.key==="Enter"&&!d.shiftKey&&d.altKey){var j=f.wysiwyg.popover.querySelector(".vditor-input");return j.focus(),j.select(),d.preventDefault(),!0}if(!(0,h.yl)(d)&&!d.shiftKey&&!d.altKey&&d.key==="Backspace"&&g.startOffset===0&&g.toString()===""){var ee=fp(S,g,!1);return!ee&&I&&(I.textContent.trim()===""?(I.outerHTML=`<p data-block="0"><wbr>
</p>`,(0,V.ib)(f[f.currentMode].element,g)):(g.setStartBefore(I),g.collapse(!0)),Fe(f)),d.preventDefault(),!0}if(X("⇧⌘F",d))return gp(f,g,S),d.preventDefault(),!0;if(X("⌘=",d))return vp(f,g,S),d.preventDefault(),!0;if(X("⇧⌘G",d))return ls(f,I,S,"beforebegin"),d.preventDefault(),!0;if(X("⇧⌘=",d))return ls(f,I,S),d.preventDefault(),!0;if(X("⌘-",d))return mp(f,g,S),d.preventDefault(),!0;if(X("⇧⌘-",d))return yp(f,g,I,S),d.preventDefault(),!0;if(X("⇧⌘L",d)){if(f.currentMode==="ir")return ss(I,"left"),Fe(f),d.preventDefault(),!0;var re=f.wysiwyg.popover.querySelector('[data-type="left"]');if(re)return re.click(),d.preventDefault(),!0}if(X("⇧⌘C",d)){if(f.currentMode==="ir")return ss(I,"center"),Fe(f),d.preventDefault(),!0;var re=f.wysiwyg.popover.querySelector('[data-type="center"]');if(re)return re.click(),d.preventDefault(),!0}if(X("⇧⌘R",d)){if(f.currentMode==="ir")return ss(I,"right"),Fe(f),d.preventDefault(),!0;var re=f.wysiwyg.popover.querySelector('[data-type="right"]');if(re)return re.click(),d.preventDefault(),!0}}return!1},bp=function(f,d,g,w){if(g.tagName==="PRE"&&X("⌘A",d))return w.selectNodeContents(g.firstElementChild),d.preventDefault(),!0;if(f.options.tab&&d.key==="Tab"&&!d.shiftKey&&w.toString()==="")return w.insertNode(document.createTextNode(f.options.tab)),w.collapse(!1),Fe(f),d.preventDefault(),!0;if(d.key==="Backspace"&&!(0,h.yl)(d)&&!d.shiftKey&&!d.altKey){var S=(0,V.im)(g,f[f.currentMode].element,w);if((S.start===0||S.start===1&&g.innerText===`
`)&&w.toString()==="")return g.parentElement.outerHTML='<p data-block="0"><wbr>'.concat(g.firstElementChild.innerHTML,"</p>"),(0,V.ib)(f[f.currentMode].element,w),Fe(f),d.preventDefault(),!0}return!(0,h.yl)(d)&&!d.altKey&&d.key==="Enter"?(g.firstElementChild.textContent.endsWith(`
`)||g.firstElementChild.insertAdjacentText("beforeend",`
`),w.extractContents(),w.insertNode(document.createTextNode(`
`)),w.collapse(!1),(0,V.Hc)(w),(0,h.vU)()||(f.currentMode==="wysiwyg"?as(f,w):Qe(f,w)),yt(f),d.preventDefault(),!0):!1},wp=function(f,d,g,w){var S=d.startContainer,x=(0,T.lG)(S,"BLOCKQUOTE");if(x&&d.toString()===""){if(g.key==="Backspace"&&!(0,h.yl)(g)&&!g.shiftKey&&!g.altKey&&(0,V.im)(x,f[f.currentMode].element,d).start===0)return d.insertNode(document.createElement("wbr")),x.outerHTML=x.innerHTML,(0,V.ib)(f[f.currentMode].element,d),Fe(f),g.preventDefault(),!0;if(w&&g.key==="Enter"&&!(0,h.yl)(g)&&!g.shiftKey&&!g.altKey&&w.parentElement.tagName==="BLOCKQUOTE"){var A=!1;if(w.innerHTML.replace(s.g.ZWSP,"")===`
`||w.innerHTML.replace(s.g.ZWSP,"")===""?(A=!0,w.remove()):w.innerHTML.endsWith(`

`)&&(0,V.im)(w,f[f.currentMode].element,d).start===w.textContent.length-1&&(w.innerHTML=w.innerHTML.substr(0,w.innerHTML.length-2),A=!0),A)return x.insertAdjacentHTML("afterend",'<p data-block="0">'.concat(s.g.ZWSP,`<wbr>
</p>`)),(0,V.ib)(f[f.currentMode].element,d),Fe(f),g.preventDefault(),!0}var I=(0,T.F9)(S);if(f.currentMode==="wysiwyg"&&I&&X("⇧⌘;",g))return d.insertNode(document.createElement("wbr")),I.outerHTML='<blockquote data-block="0">'.concat(I.outerHTML,"</blockquote>"),(0,V.ib)(f.wysiwyg.element,d),ot(f),g.preventDefault(),!0;if(Ha(f,g,d,x,x)||Ui(f,g,d,x,x))return!0}return!1},Sp=function(f,d,g){var w=d.startContainer,S=(0,T.lG)(w,"LI");if(S&&S.classList.contains("vditor-task")){if(X("⇧⌘J",g)){var x=S.firstElementChild;return x.checked?x.removeAttribute("checked"):x.setAttribute("checked","checked"),Fe(f),g.preventDefault(),!0}if(g.key==="Backspace"&&!(0,h.yl)(g)&&!g.shiftKey&&!g.altKey&&d.toString()===""&&d.startOffset===1&&(w.nodeType===3&&w.previousSibling&&w.previousSibling.tagName==="INPUT"||w.nodeType!==3)){var A=S.previousElementSibling;if(S.querySelector("input").remove(),A){var I=(0,T.DX)(A);I.parentElement.insertAdjacentHTML("beforeend","<wbr>"+S.innerHTML.trim()),S.remove()}else S.parentElement.insertAdjacentHTML("beforebegin",'<p data-block="0"><wbr>'.concat(S.innerHTML.trim()||`
`,"</p>")),S.nextElementSibling?S.remove():S.parentElement.remove();return(0,V.ib)(f[f.currentMode].element,d),Fe(f),g.preventDefault(),!0}if(g.key==="Enter"&&!(0,h.yl)(g)&&!g.shiftKey&&!g.altKey){if(S.textContent.trim()==="")if((0,T.fb)(S.parentElement,"vditor-task")){var R=(0,T.O9)(w);R&&Pu(f,S,d,R)}else if(S.nextElementSibling){var O="",H="",j=!1;Array.from(S.parentElement.children).forEach(function(se){S.isSameNode(se)?j=!0:j?O+=se.outerHTML:H+=se.outerHTML});var ee=S.parentElement.tagName,re=S.parentElement.tagName==="OL"?"":' data-marker="'.concat(S.parentElement.getAttribute("data-marker"),'"'),Q="";H&&(Q=S.parentElement.tagName==="UL"?"":' start="1"',H="<".concat(ee,' data-tight="true"').concat(re,' data-block="0">').concat(H,"</").concat(ee,">")),S.parentElement.outerHTML="".concat(H,`<p data-block="0"><wbr>
</p><`).concat(ee,`
 data-tight="true"`).concat(re,' data-block="0"').concat(Q,">").concat(O,"</").concat(ee,">")}else S.parentElement.insertAdjacentHTML("afterend",`<p data-block="0"><wbr>
</p>`),S.parentElement.querySelectorAll("li").length===1?S.parentElement.remove():S.remove();else w.nodeType!==3&&d.startOffset===0&&w.firstChild.tagName==="INPUT"?d.setStart(w.childNodes[1],1):(d.setEndAfter(S.lastChild),S.insertAdjacentHTML("afterend",'<li class="vditor-task" data-marker="'.concat(S.getAttribute("data-marker"),'"><input type="checkbox"> <wbr></li>')),document.querySelector("wbr").after(d.extractContents()));return(0,V.ib)(f[f.currentMode].element,d),Fe(f),yt(f),g.preventDefault(),!0}}return!1},Cp=function(f,d,g,w){if(d.startContainer.nodeType!==3){var S=d.startContainer.children[d.startOffset];if(S&&S.tagName==="HR")return d.selectNodeContents(S.previousElementSibling),d.collapse(!1),g.preventDefault(),!0}if(w){var x=w.previousElementSibling;if(x&&(0,V.im)(w,f[f.currentMode].element,d).start===0&&((0,h.vU)()&&x.tagName==="HR"||x.tagName==="TABLE")){if(x.tagName==="TABLE"){var A=x.lastElementChild.lastElementChild.lastElementChild;A.innerHTML=A.innerHTML.trimLeft()+"<wbr>"+w.textContent.trim(),w.remove()}else x.remove();return(0,V.ib)(f[f.currentMode].element,d),Fe(f),g.preventDefault(),!0}}return!1},Tp=function(f){(0,h.vU)()&&f.startContainer.nodeType!==3&&f.startContainer.tagName==="HR"&&f.setStartBefore(f.startContainer)},xp=function(f,d,g){var w,S;if(!(0,h.vU)())return!1;if(f.key==="ArrowUp"&&d&&((w=d.previousElementSibling)===null||w===void 0?void 0:w.tagName)==="TABLE"){var x=d.previousElementSibling;return g.selectNodeContents(x.rows[x.rows.length-1].lastElementChild),g.collapse(!1),f.preventDefault(),!0}return f.key==="ArrowDown"&&d&&((S=d.nextElementSibling)===null||S===void 0?void 0:S.tagName)==="TABLE"?(g.selectNodeContents(d.nextElementSibling.rows[0].cells[0]),g.collapse(!0),f.preventDefault(),!0):!1},us=function(f,d,g){return op(void 0,void 0,void 0,function(){var w,S,x,A,I,R,O,H,j,ee,re,Q,se,J,oe,J,we;return sp(this,function(fe){switch(fe.label){case 0:return f[f.currentMode].element.getAttribute("contenteditable")!=="true"?[2]:(d.stopPropagation(),d.preventDefault(),"clipboardData"in d?(w=d.clipboardData.getData("text/html"),S=d.clipboardData.getData("text/plain"),x=d.clipboardData.files):(w=d.dataTransfer.getData("text/html"),S=d.dataTransfer.getData("text/plain"),d.dataTransfer.types.includes("Files")&&(x=d.dataTransfer.items)),A={},I=function(Ee,rt){if(!rt)return["",Lute.WalkContinue];if(f.options.upload.renderLinkDest)return f.options.upload.renderLinkDest(f,Ee,rt);var Je=Ee.TokensStr();if(Ee.__internal_object__.Parent.Type===34&&Je&&Je.indexOf("file://")===-1&&f.options.upload.linkToImgUrl){var st=new XMLHttpRequest;st.open("POST",f.options.upload.linkToImgUrl),f.options.upload.token&&st.setRequestHeader("X-Upload-Token",f.options.upload.token),f.options.upload.withCredentials&&(st.withCredentials=!0),ap(f,st),st.setRequestHeader("Content-Type","application/json; charset=utf-8"),st.onreadystatechange=function(){if(st.readyState===XMLHttpRequest.DONE){if(st.status===200){var Wt=st.responseText;f.options.upload.linkToImgFormat&&(Wt=f.options.upload.linkToImgFormat(st.responseText));var It=JSON.parse(Wt);if(It.code!==0){f.tip.show(It.msg);return}var jt=It.data.originalURL;if(f.currentMode==="sv")f.sv.element.querySelectorAll(".vditor-sv__marker--link").forEach(function(_t){_t.textContent===jt&&(_t.textContent=It.data.url)});else{var Ne=f[f.currentMode].element.querySelector('img[src="'.concat(jt,'"]'));Ne.src=It.data.url,f.currentMode==="ir"&&(Ne.previousElementSibling.previousElementSibling.innerHTML=It.data.url)}Fe(f)}else f.tip.show(st.responseText);f.options.upload.linkToImgCallback&&f.options.upload.linkToImgCallback(st.responseText)}},st.send(JSON.stringify({url:Je}))}return f.currentMode==="ir"?['<span class="vditor-ir__marker vditor-ir__marker--link">'.concat(Lute.EscapeHTMLStr(Je),"</span>"),Lute.WalkContinue]:f.currentMode==="wysiwyg"?["",Lute.WalkContinue]:['<span class="vditor-sv__marker--link">'.concat(Lute.EscapeHTMLStr(Je),"</span>"),Lute.WalkContinue]},(w.replace(/&amp;/g,"&").replace(/<(|\/)(html|body|meta)[^>]*?>/ig,"").trim()==='<a href="'.concat(S,'">').concat(S,"</a>")||w.replace(/&amp;/g,"&").replace(/<(|\/)(html|body|meta)[^>]*?>/ig,"").trim()==='<!--StartFragment--><a href="'.concat(S,'">').concat(S,"</a><!--EndFragment-->"))&&(w=""),R=new DOMParser().parseFromString(w,"text/html"),R.body&&(w=R.body.innerHTML),w=Lute.Sanitize(w),f.wysiwyg.getComments(f),O=f[f.currentMode].element.scrollHeight,H=le(w,S,f.currentMode),j=f.currentMode==="sv"?(0,T.a1)(d.target,"data-type","code-block"):(0,T.lG)(d.target,"CODE"),j?(f.currentMode==="sv"?document.execCommand("insertHTML",!1,S.replace(/&/g,"&amp;").replace(/</g,"&lt;")):(ee=(0,V.im)(d.target,f[f.currentMode].element),j.parentElement.tagName!=="PRE"&&(S+=s.g.ZWSP),j.textContent=j.textContent.substring(0,ee.start)+S+j.textContent.substring(ee.end),(0,V.$j)(ee.start+S.length,ee.start+S.length,j.parentElement),!((we=j.parentElement)===null||we===void 0)&&we.nextElementSibling.classList.contains("vditor-".concat(f.currentMode,"__preview"))&&(j.parentElement.nextElementSibling.innerHTML=j.outerHTML,he(j.parentElement.nextElementSibling,f))),[3,10]):[3,1]);case 1:return H?(g.pasteCode(H),[3,10]):[3,2];case 2:return w.trim()===""?[3,5]:(re=document.createElement("div"),re.innerHTML=w,f.options.upload.base64ToLink?[3,4]:[4,Uw(f,re,("clipboardData"in d?d.clipboardData:d.dataTransfer).getData("text/rtf"))]);case 3:fe.sent(),fe.label=4;case 4:return re.querySelectorAll("[style]").forEach(function(Ee){Ee.removeAttribute("style")}),re.querySelectorAll(".vditor-copy").forEach(function(Ee){Ee.remove()}),f.currentMode==="ir"?(A.HTML2VditorIRDOM={renderLinkDest:I},f.lute.SetJSRenderers({renderers:A}),(0,V.oC)(f.lute.HTML2VditorIRDOM(re.innerHTML),f)):f.currentMode==="wysiwyg"?(A.HTML2VditorDOM={renderLinkDest:I},f.lute.SetJSRenderers({renderers:A}),(0,V.oC)(f.lute.HTML2VditorDOM(re.innerHTML),f)):(A.Md2VditorSVDOM={renderLinkDest:I},f.lute.SetJSRenderers({renderers:A}),Iu(f,f.lute.HTML2Md(re.innerHTML).trimRight())),f.outline.render(f),[3,10];case 5:return x.length>0?f.options.upload.url||f.options.upload.handler?[4,Ou(f,x)]:[3,7]:[3,9];case 6:return fe.sent(),[3,8];case 7:Q=new FileReader,"clipboardData"in d?(x=d.clipboardData.files,se=x[0]):d.dataTransfer.types.includes("Files")&&(x=d.dataTransfer.items,se=x[0].getAsFile()),se&&se.type.startsWith("image")&&(Q.readAsDataURL(se),Q.onload=function(){var Ee="";f.currentMode==="wysiwyg"?Ee+='<img alt="'.concat(se.name,'" src="').concat(Q.result.toString(),`">
`):Ee+="![".concat(se.name,"](").concat(Q.result.toString(),`)
`),document.execCommand("insertHTML",!1,Ee)}),fe.label=8;case 8:return[3,10];case 9:S.trim()!==""&&x.length===0&&(J=(0,V.zh)(f),J.toString()!==""&&f.lute.IsValidLinkDest(S)&&(S="[".concat(J.toString(),"](").concat(S,")")),f.currentMode==="ir"?(A.Md2VditorIRDOM={renderLinkDest:I},f.lute.SetJSRenderers({renderers:A}),(0,V.oC)(Lute.Sanitize(f.lute.Md2VditorIRDOM(S)),f)):f.currentMode==="wysiwyg"?(A.Md2VditorDOM={renderLinkDest:I},f.lute.SetJSRenderers({renderers:A}),(0,V.oC)(Lute.Sanitize(f.lute.Md2VditorDOM(S)),f)):(A.Md2VditorSVDOM={renderLinkDest:I},f.lute.SetJSRenderers({renderers:A}),Iu(f,S)),f.outline.render(f)),fe.label=10;case 10:return f.currentMode!=="sv"&&(oe=(0,T.F9)((0,V.zh)(f).startContainer),oe&&(J=(0,V.zh)(f),f[f.currentMode].element.querySelectorAll("wbr").forEach(function(Ee){Ee.remove()}),J.insertNode(document.createElement("wbr")),f.currentMode==="wysiwyg"?oe.outerHTML=f.lute.SpinVditorDOM(oe.outerHTML):oe.outerHTML=f.lute.SpinVditorIRDOM(oe.outerHTML),(0,V.ib)(f[f.currentMode].element,J)),f[f.currentMode].element.querySelectorAll(".vditor-".concat(f.currentMode,"__preview[data-render='2']")).forEach(function(Ee){he(Ee,f)})),f.wysiwyg.triggerRemoveComment(f),Fe(f),f[f.currentMode].element.scrollHeight-O>Math.min(f[f.currentMode].element.clientHeight,window.innerHeight)/2&&yt(f),[2]}})})},Uw=function(f,d,g){return op(void 0,void 0,void 0,function(){var w,S,x,A,I,R,O,H,j,se,ee,re,Q,se,oe,J;return sp(this,function(we){switch(we.label){case 0:if(!g)return[2];if(w=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,S=new RegExp("(?:("+w.source+"))([\\da-fA-F\\s]+)\\}","g"),x=g.match(S),A=[],x)for(I=0,R=x;I<R.length;I++)O=R[I],H=void 0,O.includes("\\pngblip")?H="image/png":O.includes("\\jpegblip")&&(H="image/jpeg"),H&&A.push({hex:O.replace(w,"").replace(/[^\da-fA-F]/g,""),type:H});for(j=[],Hu(d,function(fe){if(fe.tagName==="V:SHAPE")return Hu(fe,function(Ee){Ee.tagName==="V:IMAGEDATA"&&j.push({shape:fe,img:Ee})}),!1}),se=0;se<j.length;se++)ee=document.createElement("img"),re="data:"+A[se].type+";base64,"+btoa((A[se].hex.match(/\w{2}/g)||[]).map(function(fe){return String.fromCharCode(parseInt(fe,16))}).join("")),ee.src=re,ee.title=j[se].img.getAttribute("title"),j[se].shape.parentNode.replaceChild(ee,j[se].shape);Q=d.querySelectorAll("img"),se=0,we.label=1;case 1:return se<Q.length?(oe=Q[se].src||"",oe?(J=Q[se],[4,f.options.upload.base64ToLink(oe)]):[3,3]):[3,4];case 2:J.src=we.sent(),we.label=3;case 3:return se++,[3,1];case 4:return[2]}})})},Hu=function(f,d){var g=d(f);if(g!==!1)for(var w=0;w<f.children.length;w++)Hu(f.children[w],d)},Mp,Lp=function(f){var d,g;f.hint.render(f);var w=(0,V.zh)(f).startContainer,S=(0,T.a1)(w,"data-type","code-block-info");if(S)if(S.textContent.replace(s.g.ZWSP,"")===""&&f.hint.recentLanguage){S.textContent=s.g.ZWSP+f.hint.recentLanguage;var x=(0,V.zh)(f);x.selectNodeContents(S)}else{var A=[],I=S.textContent.substring(0,(0,V.im)(S,f.ir.element).start).replace(s.g.ZWSP,"");(f.options.preview.hljs.langs||s.g.ALIAS_CODE_LANGUAGES.concat(((g=(d=window.hljs)===null||d===void 0?void 0:d.listLanguages())!==null&&g!==void 0?g:[]).sort())).forEach(function(R){R.indexOf(I.toLowerCase())>-1&&A.push({html:R,value:R})}),f.hint.genHTML(A,I,f)}},en=function(f,d){d===void 0&&(d={enableAddUndoStack:!0,enableHint:!1,enableInput:!0}),d.enableHint&&Lp(f),clearTimeout(f.ir.processTimeoutId),f.ir.processTimeoutId=window.setTimeout(function(){if(!f.ir.composingLock){var g=u(f);typeof f.options.input=="function"&&d.enableInput&&f.options.input(g),f.options.counter.enable&&f.counter.render(f,g),f.options.cache.enable&&(0,h.pK)()&&(localStorage.setItem(f.options.cache.id,g),f.options.cache.after&&f.options.cache.after(g)),f.devtools&&f.devtools.renderEchart(f),d.enableAddUndoStack&&f.undo.addToUndoStack(f)}},f.options.undoDelay)},Fa=function(f,d){var g=(0,V.zh)(f),w=(0,T.F9)(g.startContainer)||g.startContainer;if(w){var S=w.querySelector(".vditor-ir__marker--heading");S?S.innerHTML=d:(w.insertAdjacentText("afterbegin",d),g.selectNodeContents(w),g.collapse(!1)),Qe(f,g.cloneRange()),Oa(f)}},cs=function(f,d,g){var w=(0,T.a1)(f.startContainer,"data-type",g);if(w){w.firstElementChild.remove(),w.lastElementChild.remove(),f.insertNode(document.createElement("wbr"));var S=document.createElement("div");S.innerHTML=d.lute.SpinVditorIRDOM(w.outerHTML),w.outerHTML=S.firstElementChild.innerHTML.trim()}},Gw=function(f,d,g,w){var S=(0,V.zh)(f),x=d.getAttribute("data-type"),A=S.startContainer;A.nodeType===3&&(A=A.parentElement);var I=!0;if(d.classList.contains("vditor-menu--current"))if(x==="quote"){var R=(0,T.lG)(A,"BLOCKQUOTE");R&&(S.insertNode(document.createElement("wbr")),R.outerHTML=R.innerHTML.trim()===""?'<p data-block="0">'.concat(R.innerHTML,"</p>"):R.innerHTML)}else if(x==="link"){var O=(0,T.a1)(S.startContainer,"data-type","a");if(O){var H=(0,T.fb)(S.startContainer,"vditor-ir__link");H?(S.insertNode(document.createElement("wbr")),O.outerHTML=H.innerHTML):O.outerHTML=O.querySelector(".vditor-ir__link").innerHTML+"<wbr>"}}else x==="italic"?cs(S,f,"em"):x==="bold"?cs(S,f,"strong"):x==="strike"?cs(S,f,"s"):x==="inline-code"?cs(S,f,"code"):(x==="check"||x==="list"||x==="ordered-list")&&(os(f,S,x),I=!1,d.classList.remove("vditor-menu--current"));else{f.ir.element.childNodes.length===0&&(f.ir.element.innerHTML='<p data-block="0"><wbr></p>',(0,V.ib)(f.ir.element,S));var j=(0,T.F9)(S.startContainer);if(x==="line"){if(j){var ee=`<hr data-block="0"><p data-block="0"><wbr>
</p>`;j.innerHTML.trim()===""?j.outerHTML=ee:j.insertAdjacentHTML("afterend",ee)}}else if(x==="quote")j&&(S.insertNode(document.createElement("wbr")),j.outerHTML='<blockquote data-block="0">'.concat(j.outerHTML,"</blockquote>"),I=!1,d.classList.add("vditor-menu--current"));else if(x==="link"){var re=void 0;S.toString()===""?re="".concat(g,"<wbr>").concat(w):re="".concat(g).concat(S.toString()).concat(w.replace(")","<wbr>)")),document.execCommand("insertHTML",!1,re),I=!1,d.classList.add("vditor-menu--current")}else if(x==="italic"||x==="bold"||x==="strike"||x==="inline-code"||x==="code"||x==="table"){var re=void 0;S.toString()===""?re="".concat(g,"<wbr>").concat(w):(x==="code"?re="".concat(g,`
`).concat(S.toString(),"<wbr>").concat(w):x==="table"?re="".concat(g).concat(S.toString(),"<wbr>").concat(w):re="".concat(g).concat(S.toString()).concat(w,"<wbr>"),S.deleteContents()),(x==="table"||x==="code")&&(re=`
`+re+`

`);var Q=document.createElement("span");Q.innerHTML=re,S.insertNode(Q),Qe(f,S),x==="table"&&(S.selectNodeContents(getSelection().getRangeAt(0).startContainer.parentElement),(0,V.Hc)(S))}else(x==="check"||x==="list"||x==="ordered-list")&&(os(f,S,x,!1),I=!1,v(f.toolbar.elements,["check","list","ordered-list"]),d.classList.add("vditor-menu--current"))}(0,V.ib)(f.ir.element,S),en(f),I&&Oa(f)},Ww=function(f,d,g,w){function S(x){return x instanceof g?x:new g(function(A){A(x)})}return new(g||(g=Promise))(function(x,A){function I(H){try{O(w.next(H))}catch(j){A(j)}}function R(H){try{O(w.throw(H))}catch(j){A(j)}}function O(H){H.done?x(H.value):S(H.value).then(I,R)}O((w=w.apply(f,d||[])).next())})},jw=function(f,d){var g={label:0,sent:function(){if(x[0]&1)throw x[1];return x[1]},trys:[],ops:[]},w,S,x,A;return A={next:I(0),throw:I(1),return:I(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function I(O){return function(H){return R([O,H])}}function R(O){if(w)throw new TypeError("Generator is already executing.");for(;A&&(A=0,O[0]&&(g=0)),g;)try{if(w=1,S&&(x=O[0]&2?S.return:O[0]?S.throw||((x=S.return)&&x.call(S),0):S.next)&&!(x=x.call(S,O[1])).done)return x;switch(S=0,x&&(O=[O[0]&2,x.value]),O[0]){case 0:case 1:x=O;break;case 4:return g.label++,{value:O[1],done:!1};case 5:g.label++,S=O[1],O=[0];continue;case 7:O=g.ops.pop(),g.trys.pop();continue;default:if(x=g.trys,!(x=x.length>0&&x[x.length-1])&&(O[0]===6||O[0]===2)){g=0;continue}if(O[0]===3&&(!x||O[1]>x[0]&&O[1]<x[3])){g.label=O[1];break}if(O[0]===6&&g.label<x[1]){g.label=x[1],x=O;break}if(x&&g.label<x[2]){g.label=x[2],g.ops.push(O);break}x[2]&&g.ops.pop(),g.trys.pop();continue}O=d.call(f,g)}catch(H){O=[6,H],S=0}finally{w=x=0}if(O[0]&5)throw O[1];return{value:O[0]?O[1]:void 0,done:!0}}},qw=(function(){function f(d){var g=this;this.splitChar="",this.lastIndex=-1,this.fillEmoji=function(w,S){g.element.style.display="none";var x=decodeURIComponent(w.getAttribute("data-value")),A=window.getSelection().getRangeAt(0);if(S.currentMode==="ir"){var I=(0,T.a1)(A.startContainer,"data-type","code-block-info");if(I){I.textContent=s.g.ZWSP+x.trimRight(),A.selectNodeContents(I),A.collapse(!1),en(S),I.parentElement.querySelectorAll("code").forEach(function(j){j.className="language-"+x.trimRight()}),he(I.parentElement.querySelector(".vditor-ir__preview"),S),g.recentLanguage=x.trimRight();return}}if(S.currentMode==="wysiwyg"&&A.startContainer.nodeType!==3){var R=A.startContainer,O=void 0;if(R.classList.contains("vditor-input")?O=R:O=R.firstElementChild,O&&O.classList.contains("vditor-input")){O.value=x.trimRight(),A.selectNodeContents(O),A.collapse(!1),O.dispatchEvent(new CustomEvent("input",{detail:1})),g.recentLanguage=x.trimRight();return}}if(A.setStart(A.startContainer,g.lastIndex),A.deleteContents(),S.options.hint.parse?S.currentMode==="sv"?(0,V.oC)(S.lute.SpinVditorSVDOM(x),S):S.currentMode==="wysiwyg"?(0,V.oC)(S.lute.SpinVditorDOM(x),S):(0,V.oC)(S.lute.SpinVditorIRDOM(x),S):(0,V.oC)(x,S),g.splitChar===":"&&x.indexOf(":")>-1&&S.currentMode!=="sv"&&A.insertNode(document.createTextNode(" ")),A.collapse(!1),(0,V.Hc)(A),S.currentMode==="wysiwyg"){var H=(0,T.fb)(A.startContainer,"vditor-wysiwyg__block");H&&H.lastElementChild.classList.contains("vditor-wysiwyg__preview")&&(H.lastElementChild.innerHTML=H.firstElementChild.innerHTML,he(H.lastElementChild,S))}else if(S.currentMode==="ir"){var H=(0,T.fb)(A.startContainer,"vditor-ir__marker--pre");H&&H.nextElementSibling.classList.contains("vditor-ir__preview")&&(H.nextElementSibling.innerHTML=H.innerHTML,he(H.nextElementSibling,S))}Fe(S)},this.timeId=-1,this.element=document.createElement("div"),this.element.className="vditor-hint",this.recentLanguage="",d.push({key:":"})}return f.prototype.render=function(d){var g=this;if(window.getSelection().focusNode){var w,S=getSelection().getRangeAt(0);w=S.startContainer.textContent.substring(0,S.startOffset)||"";var x=this.getKey(w,d.options.hint.extend);if(typeof x>"u")this.element.style.display="none",clearTimeout(this.timeId);else if(this.splitChar===":"){var A=x===""?d.options.hint.emoji:d.lute.GetEmojis(),I=[];Object.keys(A).forEach(function(R){R.indexOf(x.toLowerCase())===0&&(A[R].indexOf(".")>-1?I.push({html:'<img src="'.concat(A[R],'" title=":').concat(R,':"/> :').concat(R,":"),value:":".concat(R,":")}):I.push({html:'<span class="vditor-hint__emoji">'.concat(A[R],"</span>").concat(R),value:A[R]}))}),this.genHTML(I,x,d)}else d.options.hint.extend.forEach(function(R){R.key===g.splitChar&&(clearTimeout(g.timeId),g.timeId=window.setTimeout(function(){return Ww(g,void 0,void 0,function(){var O;return jw(this,function(H){switch(H.label){case 0:return O=this.genHTML,[4,R.hint(x)];case 1:return O.apply(this,[H.sent(),x,d]),[2]}})})},d.options.hint.delay))})}},f.prototype.genHTML=function(d,g,w){var S=this;if(d.length===0){this.element.style.display="none";return}var x=w[w.currentMode].element,A=(0,V.Ny)(x),I=A.left+(w.options.outline.position==="left"?w.outline.element.offsetWidth:0),R=A.top,O="";d.forEach(function(j,ee){if(!(ee>7)){var re=j.html;if(g!==""){var Q=re.lastIndexOf(">")+1,se=re.substr(Q),oe=se.toLowerCase().indexOf(g.toLowerCase());oe>-1&&(se=se.substring(0,oe)+"<b>"+se.substring(oe,oe+g.length)+"</b>"+se.substring(oe+g.length),re=re.substr(0,Q)+se)}O+='<button type="button" data-value="'.concat(encodeURIComponent(j.value),` "
`).concat(ee===0?"class='vditor-hint--current'":"","> ").concat(re,"</button>")}}),this.element.innerHTML=O;var H=parseInt(document.defaultView.getComputedStyle(x,null).getPropertyValue("line-height"),10);this.element.style.top="".concat(R+(H||22),"px"),this.element.style.left="".concat(I,"px"),this.element.style.display="block",this.element.style.right="auto",this.element.querySelectorAll("button").forEach(function(j){j.addEventListener("click",function(ee){S.fillEmoji(j,w),ee.preventDefault()})}),this.element.getBoundingClientRect().bottom>window.innerHeight&&(this.element.style.top="".concat(R-this.element.offsetHeight,"px")),this.element.getBoundingClientRect().right>window.innerWidth&&(this.element.style.left="auto",this.element.style.right="0")},f.prototype.select=function(d,g){if(this.element.querySelectorAll("button").length===0||this.element.style.display==="none")return!1;var w=this.element.querySelector(".vditor-hint--current");if(d.key==="ArrowDown")return d.preventDefault(),d.stopPropagation(),w.removeAttribute("class"),w.nextElementSibling?w.nextElementSibling.className="vditor-hint--current":this.element.children[0].className="vditor-hint--current",!0;if(d.key==="ArrowUp"){if(d.preventDefault(),d.stopPropagation(),w.removeAttribute("class"),w.previousElementSibling)w.previousElementSibling.className="vditor-hint--current";else{var S=this.element.children.length;this.element.children[S-1].className="vditor-hint--current"}return!0}else if(!(0,h.yl)(d)&&!d.shiftKey&&!d.altKey&&d.key==="Enter"&&!d.isComposing)return d.preventDefault(),d.stopPropagation(),this.fillEmoji(w,g),!0;return!1},f.prototype.getKey=function(d,g){var w=this;this.lastIndex=-1,this.splitChar="",g.forEach(function(O){var H=d.lastIndexOf(O.key);w.lastIndex<H&&(w.splitChar=O.key,w.lastIndex=H)});var S;if(this.lastIndex===-1)return S;var x=d.split(this.splitChar),A=x[x.length-1],I=32;if(x.length>1&&A.trim()===A)if(x.length===2&&x[0]===""&&x[1].length<I)S=x[1];else{var R=x[x.length-2].slice(-1);(0,l.X)(R)===" "&&A.length<I&&(S=A)}return S},f})(),$w=(function(){function f(d){this.composingLock=!1;var g=document.createElement("div");g.className="vditor-ir",g.innerHTML='<pre class="vditor-reset" placeholder="'.concat(d.options.placeholder,`"
 contenteditable="true" spellcheck="false"></pre>`),this.element=g.firstElementChild,this.bindEvent(d),xu(d,this.element),tp(d,this.element),Mu(d,this.element),ku(d,this.element),Du(d,this.element),Lu(d,this.element),Eu(d,this.element,this.copy),Au(d,this.element,this.copy)}return f.prototype.copy=function(d,g){var w=getSelection().getRangeAt(0);if(w.toString()!==""){d.stopPropagation(),d.preventDefault();var S=document.createElement("div");S.appendChild(w.cloneContents()),d.clipboardData.setData("text/plain",g.lute.VditorIRDOM2Md(S.innerHTML).trim()),d.clipboardData.setData("text/html","")}},f.prototype.bindEvent=function(d){var g=this;this.element.addEventListener("paste",function(w){us(d,w,{pasteCode:function(S){document.execCommand("insertHTML",!1,S)}})}),this.element.addEventListener("scroll",function(){M(d,["hint"])}),this.element.addEventListener("compositionstart",function(w){g.composingLock=!0}),this.element.addEventListener("compositionend",function(w){(0,h.vU)()||Qe(d,getSelection().getRangeAt(0).cloneRange()),g.composingLock=!1}),this.element.addEventListener("input",function(w){if(!(w.inputType==="deleteByDrag"||w.inputType==="insertFromDrop")){if(g.preventInput){g.preventInput=!1,en(d,{enableAddUndoStack:!0,enableHint:!0,enableInput:!0});return}g.composingLock||w.data==="‘"||w.data==="“"||w.data==="《"||Qe(d,getSelection().getRangeAt(0).cloneRange(),!1,w)}}),this.element.addEventListener("click",function(w){if(w.target.tagName==="INPUT"){w.target.checked?w.target.setAttribute("checked","checked"):w.target.removeAttribute("checked"),g.preventInput=!0,en(d);return}var S=(0,V.zh)(d),x=(0,T.fb)(w.target,"vditor-ir__preview");if(x||(x=(0,T.fb)(S.startContainer,"vditor-ir__preview")),x&&(x.previousElementSibling.firstElementChild?S.selectNodeContents(x.previousElementSibling.firstElementChild):S.selectNodeContents(x.previousElementSibling),S.collapse(!0),(0,V.Hc)(S),yt(d)),w.target.tagName==="IMG"){var A=w.target.parentElement.querySelector(".vditor-ir__marker--link");A&&(S.selectNode(A),(0,V.Hc)(S))}var I=(0,T.a1)(w.target,"data-type","a");if(I&&!I.classList.contains("vditor-ir__node--expand")){d.options.link.click?d.options.link.click(I.querySelector(":scope > .vditor-ir__marker--link")):d.options.link.isOpen&&window.open(I.querySelector(":scope > .vditor-ir__marker--link").textContent);return}if(w.target.isEqualNode(g.element)&&g.element.lastElementChild&&S.collapsed){var R=g.element.lastElementChild.getBoundingClientRect();w.y>R.top+R.height&&(g.element.lastElementChild.tagName==="P"&&g.element.lastElementChild.textContent.trim().replace(s.g.ZWSP,"")===""?(S.selectNodeContents(g.element.lastElementChild),S.collapse(!1)):(g.element.insertAdjacentHTML("beforeend",'<p data-block="0">'.concat(s.g.ZWSP,"<wbr></p>")),(0,V.ib)(g.element,S)))}S.toString()===""?Z(S,d):setTimeout(function(){Z((0,V.zh)(d),d)}),Re(w,d),Oa(d)}),this.element.addEventListener("keyup",function(w){if(!(w.isComposing||(0,h.yl)(w))){if(w.key==="Enter"&&yt(d),Oa(d),(w.key==="Backspace"||w.key==="Delete")&&d.ir.element.innerHTML!==""&&d.ir.element.childNodes.length===1&&d.ir.element.firstElementChild&&d.ir.element.firstElementChild.tagName==="P"&&d.ir.element.firstElementChild.childElementCount===0&&(d.ir.element.textContent===""||d.ir.element.textContent===`
`)){d.ir.element.innerHTML="";return}var S=(0,V.zh)(d);w.key==="Backspace"?((0,h.vU)()&&S.startContainer.textContent===`
`&&S.startOffset===1&&(S.startContainer.textContent="",Z(S,d)),g.element.querySelectorAll(".language-math").forEach(function(A){var I=A.querySelector("br");I&&I.remove()})):w.key.indexOf("Arrow")>-1?((w.key==="ArrowLeft"||w.key==="ArrowRight")&&Lp(d),Z(S,d)):w.keyCode===229&&w.code===""&&w.key==="Unidentified"&&Z(S,d);var x=(0,T.fb)(S.startContainer,"vditor-ir__preview");if(x){if(w.key==="ArrowUp"||w.key==="ArrowLeft")return x.previousElementSibling.firstElementChild?S.selectNodeContents(x.previousElementSibling.firstElementChild):S.selectNodeContents(x.previousElementSibling),S.collapse(!1),w.preventDefault(),!0;if(x.tagName==="SPAN"&&(w.key==="ArrowDown"||w.key==="ArrowRight"))return x.parentElement.getAttribute("data-type")==="html-entity"?(x.parentElement.insertAdjacentText("afterend",s.g.ZWSP),S.setStart(x.parentElement.nextSibling,1)):S.selectNodeContents(x.parentElement.lastElementChild),S.collapse(!1),w.preventDefault(),!0}}})},f})(),Ep=function(f){if(f.currentMode==="sv")return f.lute.Md2HTML(u(f));if(f.currentMode==="wysiwyg")return f.lute.VditorDOM2HTML(f.wysiwyg.element.innerHTML);if(f.currentMode==="ir")return f.lute.VditorIRDOM2HTML(f.ir.element.innerHTML)},Yw=i(214),Ap=i(436),Kw=(function(){function f(d){this.element=document.createElement("div"),this.element.className="vditor-outline",this.element.innerHTML='<div class="vditor-outline__title">'.concat(d,`</div>
<div class="vditor-outline__content"></div>`)}return f.prototype.render=function(d){var g="";return d.preview.element.style.display==="block"?g=(0,Ap.k)(d.preview.previewElement,this.element.lastElementChild,d):g=(0,Ap.k)(d[d.currentMode].element,this.element.lastElementChild,d),g},f.prototype.toggle=function(d,g,w){var S;g===void 0&&(g=!0),w===void 0&&(w=!0);var x=(S=d.toolbar.elements.outline)===null||S===void 0?void 0:S.firstElementChild;if(g&&window.innerWidth>=s.g.MOBILE_WIDTH?(this.element.style.display="block",this.render(d),x?.classList.add("vditor-menu--current")):(this.element.style.display="none",x?.classList.remove("vditor-menu--current")),w&&getSelection().rangeCount>0){var A=getSelection().getRangeAt(0);d[d.currentMode].element.contains(A.startContainer)&&(0,V.Hc)(A)}sr(d)},f})(),Xw=i(280),Zw=(function(){function f(d){var g=this;this.element=document.createElement("div"),this.element.className="vditor-preview",this.previewElement=document.createElement("div"),this.previewElement.className="vditor-reset",d.options.classes.preview&&this.previewElement.classList.add(d.options.classes.preview),this.previewElement.style.maxWidth=d.options.preview.maxWidth+"px",this.previewElement.addEventListener("copy",function(R){if(R.target.tagName!=="TEXTAREA"){var O=document.createElement("div");O.className="vditor-reset",O.appendChild(getSelection().getRangeAt(0).cloneContents()),g.copyToX(d,O,"default"),R.preventDefault()}}),this.previewElement.addEventListener("click",function(R){var O=(0,T.lG)(R.target,"SPAN");if(O&&(0,T.fb)(O,"vditor-toc")){var H=g.previewElement.querySelector("#"+O.getAttribute("data-target-id"));H&&(g.element.scrollTop=H.offsetTop);return}if(R.target.tagName==="A"){d.options.link.click?d.options.link.click(R.target):d.options.link.isOpen&&window.open(R.target.getAttribute("href")),R.preventDefault();return}R.target.tagName==="IMG"&&(d.options.image.preview?d.options.image.preview(R.target):d.options.image.isPreview&&(0,W.E)(R.target,d.options.lang,d.options.theme))}),this.element.appendChild(this.previewElement);var w=d.options.preview.actions;if(w.length!==0){var S=document.createElement("div");S.className="vditor-preview__action";for(var x=[],A=0;A<w.length;A++){var I=w[A];if(typeof I=="object"){x.push('<button type="button" data-type="'.concat(I.key,'" class="').concat(I.className,'"').concat(I.tooltip?' aria-label="'.concat(I.tooltip,'"'):"",'">').concat(I.text,"</button>"));continue}switch(I){case"desktop":x.push('<button type="button" class="vditor-preview__action--current" data-type="desktop">Desktop</button>');break;case"tablet":x.push('<button type="button" data-type="tablet">Tablet</button>');break;case"mobile":x.push('<button type="button" data-type="mobile">Mobile/Wechat</button>');break;case"mp-wechat":x.push('<button type="button" data-type="mp-wechat" class="vditor-tooltipped vditor-tooltipped__w" aria-label="复制到公众号"><svg><use xlink:href="#vditor-icon-mp-wechat"></use></svg></button>');break;case"zhihu":x.push('<button type="button" data-type="zhihu" class="vditor-tooltipped vditor-tooltipped__w" aria-label="复制到知乎"><svg><use xlink:href="#vditor-icon-zhihu"></use></svg></button>');break}}S.innerHTML=x.join(""),S.addEventListener((0,h.Le)(),function(R){var O=(0,E.S)(R.target,"BUTTON");if(O){var H=O.getAttribute("data-type"),j=w.find(function(ee){return ee?.key===H});if(j){j.click(H);return}if(H==="mp-wechat"||H==="zhihu"){g.copyToX(d,g.previewElement.cloneNode(!0),H);return}H==="desktop"?g.previewElement.style.width="auto":H==="tablet"?g.previewElement.style.width="780px":g.previewElement.style.width="360px",g.previewElement.scrollWidth>g.previewElement.parentElement.clientWidth&&(g.previewElement.style.width="auto"),g.render(d),S.querySelectorAll("button").forEach(function(ee){ee.classList.remove("vditor-preview__action--current")}),O.classList.add("vditor-preview__action--current")}}),this.element.insertBefore(S,this.previewElement)}}return f.prototype.render=function(d,g){var w=this;if(clearTimeout(this.mdTimeoutId),this.element.style.display==="none"){this.element.getAttribute("data-type")==="renderPerformance"&&d.tip.hide();return}if(g){this.previewElement.innerHTML=g;return}if(u(d).replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")===""){this.previewElement.innerHTML="";return}var S=new Date().getTime(),x=u(d);this.mdTimeoutId=window.setTimeout(function(){if(d.options.preview.url){var A=new XMLHttpRequest;A.open("POST",d.options.preview.url),A.setRequestHeader("Content-Type","application/json;charset=UTF-8"),A.onreadystatechange=function(){if(A.readyState===XMLHttpRequest.DONE)if(A.status===200){var R=JSON.parse(A.responseText);if(R.code!==0){d.tip.show(R.msg);return}d.options.preview.transform&&(R.data=d.options.preview.transform(R.data)),w.previewElement.innerHTML=R.data,w.afterRender(d,S)}else{var O=d.lute.Md2HTML(x);d.options.preview.transform&&(O=d.options.preview.transform(O)),w.previewElement.innerHTML=O,w.afterRender(d,S)}},A.send(JSON.stringify({markdownText:x}))}else{var I=d.lute.Md2HTML(x);d.options.preview.transform&&(I=d.options.preview.transform(I)),w.previewElement.innerHTML=I,w.afterRender(d,S)}},d.options.preview.delay)},f.prototype.afterRender=function(d,g){d.options.preview.parse&&d.options.preview.parse(this.element);var w=new Date().getTime()-g;new Date().getTime()-g>2600?(d.tip.show(window.VditorI18n.performanceTip.replace("${x}",w.toString())),d.preview.element.setAttribute("data-type","renderPerformance")):d.preview.element.getAttribute("data-type")==="renderPerformance"&&(d.tip.hide(),d.preview.element.removeAttribute("data-type"));var S=d.preview.element.querySelector(".vditor-comment--focus");S&&S.classList.remove("vditor-comment--focus"),(0,N.O)(d.preview.previewElement,d.options.preview.hljs),(0,F.s)(d.options.preview.hljs,d.preview.previewElement,d.options.cdn),(0,Y.i)(d.preview.previewElement,d.options.cdn,d.options.theme),(0,K.K)(d.preview.previewElement,d.options.cdn),(0,ae.J)(d.preview.previewElement,d.options.cdn,d.options.theme),(0,B.P)(d.preview.previewElement,d.options.cdn),(0,U.v)(d.preview.previewElement,d.options.cdn),(0,D.p)(d.preview.previewElement,d.options.cdn,d.options.theme),(0,ne.P)(d.preview.previewElement,d.options.cdn,d.options.theme),(0,te.B)(d.preview.previewElement,d.options.cdn),(0,P.Q)(d.preview.previewElement,d.options.cdn),d.options.preview.render.media.enable&&(0,Xw.Y)(d.preview.previewElement),d.options.customRenders.forEach(function(I){I.render(d.preview.previewElement,d)});var x=d.preview.element,A=d.outline.render(d);A===""&&(A="[ToC]"),x.querySelectorAll('[data-type="toc-block"]').forEach(function(I){I.innerHTML=A,(0,G.H)(I,{cdn:d.options.cdn,math:d.options.preview.math})}),(0,G.H)(d.preview.previewElement,{cdn:d.options.cdn,math:d.options.preview.math})},f.prototype.copyToX=function(d,g,w){w===void 0&&(w="mp-wechat"),w!=="zhihu"?g.querySelectorAll(".katex-html .base").forEach(function(x){x.style.display="initial"}):g.querySelectorAll(".language-math").forEach(function(x){x.outerHTML='<img class="Formula-image" data-eeimg="true" src="//www.zhihu.com/equation?tex=" alt="'.concat(x.getAttribute("data-math"),'\\" style="display: block; margin: 0 auto; max-width: 100%;">')}),g.style.backgroundColor="#fff",g.querySelectorAll("code").forEach(function(x){x.style.backgroundImage="none"}),this.element.append(g);var S=g.ownerDocument.createRange();S.selectNode(g),(0,V.Hc)(S),document.execCommand("copy"),g.remove(),d.tip.show(["zhihu","mp-wechat"].includes(w)?"已复制，可到".concat(w==="zhihu"?"知乎":"微信公众号平台","进行粘贴"):"已复制到剪切板")},f})(),Qw=(function(){function f(d){this.element=document.createElement("div"),this.element.className="vditor-resize vditor-resize--".concat(d.options.resize.position),this.element.innerHTML='<div><svg><use xlink:href="#vditor-icon-resize"></use></svg></div>',this.bindEvent(d)}return f.prototype.bindEvent=function(d){var g=this;this.element.addEventListener("mousedown",function(w){var S=document,x=w.clientY,A=d.element.offsetHeight,I=63+d.element.querySelector(".vditor-toolbar").clientHeight;S.ondragstart=function(){return!1},window.captureEvents&&window.captureEvents(),g.element.classList.add("vditor-resize--selected"),S.onmousemove=function(R){d.options.resize.position==="top"?d.element.style.height=Math.max(I,A+(x-R.clientY))+"px":d.element.style.height=Math.max(I,A+(R.clientY-x))+"px",d.options.typewriterMode&&(d.sv.element.style.paddingBottom=d.sv.element.parentElement.offsetHeight/2+"px")},S.onmouseup=function(){d.options.resize.after&&d.options.resize.after(d.element.offsetHeight-A),window.captureEvents&&window.captureEvents(),S.onmousemove=null,S.onmouseup=null,S.ondragstart=null,S.onselectstart=null,S.onselect=null,g.element.classList.remove("vditor-resize--selected")}})},f})(),Jw=(function(){function f(d){this.composingLock=!1,this.element=document.createElement("pre"),this.element.className="vditor-sv vditor-reset",this.element.setAttribute("placeholder",d.options.placeholder),this.element.setAttribute("contenteditable","true"),this.element.setAttribute("spellcheck","false"),this.bindEvent(d),xu(d,this.element),Mu(d,this.element),ku(d,this.element),Du(d,this.element),Lu(d,this.element),Eu(d,this.element,this.copy),Au(d,this.element,this.copy)}return f.prototype.copy=function(d,g){d.stopPropagation(),d.preventDefault(),d.clipboardData.setData("text/plain",Na(g[g.currentMode].element))},f.prototype.bindEvent=function(d){var g=this;this.element.addEventListener("paste",function(w){us(d,w,{pasteCode:function(S){document.execCommand("insertHTML",!1,S)}})}),this.element.addEventListener("scroll",function(){if(d.preview.element.style.display==="block"){var w=g.element.scrollTop,S=g.element.clientHeight,x=g.element.scrollHeight-parseFloat(g.element.style.paddingBottom||"0"),A=d.preview.element;w/S>.5?A.scrollTop=(w+S)*A.scrollHeight/x-S:A.scrollTop=w*A.scrollHeight/x}}),this.element.addEventListener("compositionstart",function(w){g.composingLock=!0}),this.element.addEventListener("compositionend",function(w){(0,h.vU)()||ue(d,w),g.composingLock=!1}),this.element.addEventListener("input",function(w){if(!(w.inputType==="deleteByDrag"||w.inputType==="insertFromDrop")&&!(g.composingLock||w.data==="‘"||w.data==="“"||w.data==="《")){if(g.preventInput){g.preventInput=!1,Ct(d,{enableAddUndoStack:!0,enableHint:!0,enableInput:!0});return}ue(d,w)}}),this.element.addEventListener("keyup",function(w){if(!(w.isComposing||(0,h.yl)(w))){if((w.key==="Backspace"||w.key==="Delete")&&d.sv.element.innerHTML!==""&&d.sv.element.childNodes.length===1&&d.sv.element.firstElementChild&&d.sv.element.firstElementChild.tagName==="DIV"&&d.sv.element.firstElementChild.childElementCount===2&&(d.sv.element.firstElementChild.textContent===""||d.sv.element.textContent===`
`)){d.sv.element.innerHTML="";return}w.key==="Enter"&&yt(d)}})},f})(),kp=(function(){function f(){this.element=document.createElement("div"),this.element.className="vditor-tip"}return f.prototype.show=function(d,g){var w=this;g===void 0&&(g=6e3),this.element.className="vditor-tip vditor-tip--show",g===0?(this.element.innerHTML='<div class="vditor-tip__content">'.concat(d,`
<div class="vditor-tip__close">X</div></div>`),this.element.querySelector(".vditor-tip__close").addEventListener("click",function(){w.hide()})):(this.element.innerHTML='<div class="vditor-tip__content">'.concat(d,"</div>"),setTimeout(function(){w.hide()},g)),this.element.removeAttribute("style"),setTimeout(function(){var S=w.element.getBoundingClientRect();S.top<46&&(w.element.style.position="fixed",w.element.style.top="46px")},150)},f.prototype.hide=function(){this.element.className="vditor-messageElementtip",this.element.innerHTML=""},f})(),Fu=function(f,d){if(d.options.preview.mode!==f){switch(d.options.preview.mode=f,f){case"both":d.sv.element.style.display="block",d.preview.element.style.display="block",d.preview.render(d),m(d.toolbar.elements,["both"]);break;case"editor":d.sv.element.style.display="block",d.preview.element.style.display="none",v(d.toolbar.elements,["both"]);break}d.devtools&&d.devtools.renderEchart(d)}},e1=(function(){var f=function(d,g){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,S){w.__proto__=S}||function(w,S){for(var x in S)Object.prototype.hasOwnProperty.call(S,x)&&(w[x]=S[x])},f(d,g)};return function(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");f(d,g);function w(){this.constructor=d}d.prototype=g===null?Object.create(g):(w.prototype=g.prototype,new w)}})(),t1=(function(f){e1(d,f);function d(g,w){var S=f.call(this,g,w)||this;return g.options.preview.mode==="both"&&S.element.children[0].classList.add("vditor-menu--current"),S.element.children[0].addEventListener((0,h.Le)(),function(x){var A=S.element.firstElementChild;A.classList.contains(s.g.CLASS_MENU_DISABLED)||(x.preventDefault(),g.currentMode==="sv"&&(g.options.preview.mode==="both"?Fu("editor",g):Fu("both",g)))}),S}return d})(dt),r1=(function(){function f(){this.element=document.createElement("div"),this.element.className="vditor-toolbar__br"}return f})(),Dp=i(580),n1=(function(){var f=function(d,g){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,S){w.__proto__=S}||function(w,S){for(var x in S)Object.prototype.hasOwnProperty.call(S,x)&&(w[x]=S[x])},f(d,g)};return function(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");f(d,g);function w(){this.constructor=d}d.prototype=g===null?Object.create(g):(w.prototype=g.prototype,new w)}})(),i1=(function(f){n1(d,f);function d(g,w){var S=f.call(this,g,w)||this,x=S.element.children[0],A=document.createElement("div");A.className="vditor-hint".concat(w.level===2?"":" vditor-panel--arrow");var I="";return s.g.CODE_THEME.forEach(function(R){I+="<button>".concat(R,"</button>")}),A.innerHTML='<div style="overflow: auto;max-height:'.concat(window.innerHeight/2,'px">').concat(I,"</div>"),A.addEventListener((0,h.Le)(),function(R){R.target.tagName==="BUTTON"&&(M(g,["subToolbar"]),g.options.preview.hljs.style=R.target.textContent,(0,Dp.Y)(R.target.textContent,g.options.cdn),R.preventDefault(),R.stopPropagation())}),S.element.appendChild(A),L(g,A,x,w.level),S}return d})(dt),a1=(function(){var f=function(d,g){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,S){w.__proto__=S}||function(w,S){for(var x in S)Object.prototype.hasOwnProperty.call(S,x)&&(w[x]=S[x])},f(d,g)};return function(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");f(d,g);function w(){this.constructor=d}d.prototype=g===null?Object.create(g):(w.prototype=g.prototype,new w)}})(),o1=(function(f){a1(d,f);function d(g,w){var S=f.call(this,g,w)||this,x=S.element.children[0],A=document.createElement("div");A.className="vditor-hint".concat(w.level===2?"":" vditor-panel--arrow");var I="";return Object.keys(g.options.preview.theme.list).forEach(function(R){I+='<button data-type="'.concat(R,'">').concat(g.options.preview.theme.list[R],"</button>")}),A.innerHTML='<div style="overflow: auto;max-height:'.concat(window.innerHeight/2,'px">').concat(I,"</div>"),A.addEventListener((0,h.Le)(),function(R){R.target.tagName==="BUTTON"&&(M(g,["subToolbar"]),g.options.preview.theme.current=R.target.getAttribute("data-type"),(0,ce.Z)(g.options.preview.theme.current,g.options.preview.theme.path),R.preventDefault(),R.stopPropagation())}),S.element.appendChild(A),L(g,A,x,w.level),S}return d})(dt),s1=(function(){function f(d){this.element=document.createElement("span"),this.element.className="vditor-counter vditor-tooltipped vditor-tooltipped__nw",this.render(d,"")}return f.prototype.render=function(d,g){var w=g.endsWith(`
`)?g.length-1:g.length;if(d.options.counter.type==="text"&&d[d.currentMode]){var S=d[d.currentMode].element.cloneNode(!0);S.querySelectorAll(".vditor-wysiwyg__preview").forEach(function(x){x.remove()}),w=S.textContent.length}typeof d.options.counter.max=="number"?(w>d.options.counter.max?this.element.className="vditor-counter vditor-counter--error":this.element.className="vditor-counter",this.element.innerHTML="".concat(w,"/").concat(d.options.counter.max)):this.element.innerHTML="".concat(w),this.element.setAttribute("aria-label",d.options.counter.type),d.options.counter.after&&d.options.counter.after(w,{enable:d.options.counter.enable,max:d.options.counter.max,type:d.options.counter.type})},f})(),l1=(function(){var f=function(d,g){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,S){w.__proto__=S}||function(w,S){for(var x in S)Object.prototype.hasOwnProperty.call(S,x)&&(w[x]=S[x])},f(d,g)};return function(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");f(d,g);function w(){this.constructor=d}d.prototype=g===null?Object.create(g):(w.prototype=g.prototype,new w)}})(),u1=(function(f){l1(d,f);function d(g,w){var S=f.call(this,g,w)||this;return S.element.children[0].innerHTML=w.icon,S.element.children[0].addEventListener((0,h.Le)(),function(x){x.preventDefault(),!x.currentTarget.classList.contains(s.g.CLASS_MENU_DISABLED)&&w.click(x,g)}),S}return d})(dt),c1=(function(){var f=function(d,g){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,S){w.__proto__=S}||function(w,S){for(var x in S)Object.prototype.hasOwnProperty.call(S,x)&&(w[x]=S[x])},f(d,g)};return function(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");f(d,g);function w(){this.constructor=d}d.prototype=g===null?Object.create(g):(w.prototype=g.prototype,new w)}})(),f1=(function(f){c1(d,f);function d(g,w){var S=f.call(this,g,w)||this;return S.element.firstElementChild.addEventListener((0,h.Le)(),function(x){var A=S.element.firstElementChild;A.classList.contains(s.g.CLASS_MENU_DISABLED)||(x.preventDefault(),A.classList.contains("vditor-menu--current")?(A.classList.remove("vditor-menu--current"),g.devtools.element.style.display="none",sr(g)):(A.classList.add("vditor-menu--current"),g.devtools.element.style.display="block",sr(g),g.devtools.renderEchart(g)))}),S}return d})(dt),h1=(function(){function f(){this.element=document.createElement("div"),this.element.className="vditor-toolbar__divider"}return f})(),d1=(function(){var f=function(d,g){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,S){w.__proto__=S}||function(w,S){for(var x in S)Object.prototype.hasOwnProperty.call(S,x)&&(w[x]=S[x])},f(d,g)};return function(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");f(d,g);function w(){this.constructor=d}d.prototype=g===null?Object.create(g):(w.prototype=g.prototype,new w)}})(),p1=(function(f){d1(d,f);function d(g,w){var S=f.call(this,g,w)||this,x=document.createElement("div");x.className="vditor-panel vditor-panel--arrow";var A="";return Object.keys(g.options.hint.emoji).forEach(function(I){var R=g.options.hint.emoji[I];R.indexOf(".")>-1?A+='<button data-value=":'.concat(I,': " data-key=":').concat(I,`:"><img
data-value=":`).concat(I,': " data-key=":').concat(I,':" class="vditor-emojis__icon" src="').concat(R,'"/></button>'):A+='<button data-value="'.concat(R,` "
 data-key="`).concat(I,'"><span class="vditor-emojis__icon">').concat(R,"</span></button>")}),x.innerHTML='<div class="vditor-emojis" style="max-height: '.concat(g.options.height==="auto"?"auto":g.options.height-80,'px">').concat(A,`</div><div class="vditor-emojis__tail">
    <span class="vditor-emojis__tip"></span><span>`).concat(g.options.hint.emojiTail||"",`</span>
</div>`),S.element.appendChild(x),L(g,x,S.element.firstElementChild,w.level),S.bindEvent(g),S}return d.prototype.bindEvent=function(g){var w=this;this.element.lastElementChild.addEventListener((0,h.Le)(),function(S){var x=(0,E.S)(S.target,"BUTTON");if(x){S.preventDefault();var A=x.getAttribute("data-value"),I=(0,V.zh)(g),R=A;if(g.currentMode==="wysiwyg"?R=g.lute.SpinVditorDOM(A):g.currentMode==="ir"&&(R=g.lute.SpinVditorIRDOM(A)),A.indexOf(":")>-1&&g.currentMode!=="sv"){var O=document.createElement("div");O.innerHTML=R,R=O.firstElementChild.firstElementChild.outerHTML+" ",(0,V.oC)(R,g)}else I.extractContents(),I.insertNode(document.createTextNode(A)),(0,T.F9)(I.startContainer)||Su(g,I);I.collapse(!1),(0,V.Hc)(I),w.element.lastElementChild.style.display="none",Fe(g)}}),this.element.lastElementChild.addEventListener("mouseover",function(S){var x=(0,E.S)(S.target,"BUTTON");x&&(w.element.querySelector(".vditor-emojis__tip").innerHTML=x.getAttribute("data-key"))})},d})(dt),Ip=function(f,d,g){var w=document.createElement("a");"download"in w?(w.download=g,w.style.display="none",w.href=URL.createObjectURL(new Blob([d])),document.body.appendChild(w),w.click(),w.remove()):f.tip.show(window.VditorI18n.downloadTip,0)},v1=function(f){var d=u(f);Ip(f,d,d.substr(0,10)+".md")},g1=function(f){f.tip.show(window.VditorI18n.generate,3800);var d=document.querySelector("#vditorExportIframe");d.contentDocument.open(),d.contentDocument.write('<link rel="stylesheet" href="'.concat(f.options.cdn,`/dist/index.css"/>
<script src="`).concat(f.options.cdn,`/dist/method.min.js"><\/script>
<div id="preview" style="width: 800px"></div>
<script>
window.addEventListener("message", (e) => {
  if(!e.data) {
    return;
  }
  Vditor.preview(document.getElementById('preview'), e.data, {
    cdn: "`).concat(f.options.cdn,`",
    markdown: {
      theme: `).concat(JSON.stringify(f.options.preview.theme),`
    },
    hljs: {
      style: "`).concat(f.options.preview.hljs.style,`"
    }
  });
  setTimeout(() => {
        window.print();
    }, 3600);
}, false);
<\/script>`)),d.contentDocument.close(),setTimeout(function(){d.contentWindow.postMessage(u(f),"*")},200)},m1=function(f){var d=Ep(f),g='<html><head><link rel="stylesheet" type="text/css" href="'.concat(f.options.cdn,`/dist/index.css"/>
<script src="`).concat(f.options.cdn,"/dist/js/i18n/").concat(f.options.lang,`.js"><\/script>
<script src="`).concat(f.options.cdn,`/dist/method.min.js"><\/script></head>
<body><div class="vditor-reset" id="preview">`).concat(d,`</div>
<script>
    const previewElement = document.getElementById('preview')
    Vditor.setContentTheme('`).concat(f.options.preview.theme.current,"', '").concat(f.options.preview.theme.path,`');
    Vditor.codeRender(previewElement);
    Vditor.highlightRender(`).concat(JSON.stringify(f.options.preview.hljs),", previewElement, '").concat(f.options.cdn,`');
    Vditor.mathRender(previewElement, {
        cdn: '`).concat(f.options.cdn,`',
        math: `).concat(JSON.stringify(f.options.preview.math),`,
    });
    Vditor.mermaidRender(previewElement, '`).concat(f.options.cdn,"', '").concat(f.options.theme,`');
    Vditor.SMILESRender(previewElement, '`).concat(f.options.cdn,"', '").concat(f.options.theme,`');
    Vditor.markmapRender(previewElement, '`).concat(f.options.cdn,`');
    Vditor.flowchartRender(previewElement, '`).concat(f.options.cdn,`');
    Vditor.graphvizRender(previewElement, '`).concat(f.options.cdn,`');
    Vditor.chartRender(previewElement, '`).concat(f.options.cdn,"', '").concat(f.options.theme,`');
    Vditor.mindmapRender(previewElement, '`).concat(f.options.cdn,"', '").concat(f.options.theme,`');
    Vditor.abcRender(previewElement, '`).concat(f.options.cdn,`');
    `).concat(f.options.preview.render.media.enable?"Vditor.mediaRender(previewElement);":"",`
    Vditor.speechRender(previewElement);
<\/script>
<script src="`).concat(f.options.cdn,"/dist/js/icons/").concat(f.options.icon,'.js"><\/script></body></html>');Ip(f,g,d.substr(0,10)+".html")},y1=(function(){var f=function(d,g){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,S){w.__proto__=S}||function(w,S){for(var x in S)Object.prototype.hasOwnProperty.call(S,x)&&(w[x]=S[x])},f(d,g)};return function(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");f(d,g);function w(){this.constructor=d}d.prototype=g===null?Object.create(g):(w.prototype=g.prototype,new w)}})(),_1=(function(f){y1(d,f);function d(g,w){var S=f.call(this,g,w)||this,x=S.element.children[0],A=document.createElement("div");return A.className="vditor-hint".concat(w.level===2?"":" vditor-panel--arrow"),A.innerHTML=`<button data-type="markdown">Markdown</button>
<button data-type="pdf">PDF</button>
<button data-type="html">HTML</button>`,A.addEventListener((0,h.Le)(),function(I){var R=I.target;if(R.tagName==="BUTTON"){switch(R.getAttribute("data-type")){case"markdown":v1(g);break;case"pdf":g1(g);break;case"html":m1(g);break}M(g,["subToolbar"]),I.preventDefault(),I.stopPropagation()}}),S.element.appendChild(A),L(g,A,x,w.level),S}return d})(dt),b1=(function(){var f=function(d,g){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,S){w.__proto__=S}||function(w,S){for(var x in S)Object.prototype.hasOwnProperty.call(S,x)&&(w[x]=S[x])},f(d,g)};return function(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");f(d,g);function w(){this.constructor=d}d.prototype=g===null?Object.create(g):(w.prototype=g.prototype,new w)}})(),w1=(function(f){b1(d,f);function d(g,w){var S=f.call(this,g,w)||this;return S._bindEvent(g,w),S}return d.prototype._bindEvent=function(g,w){this.element.children[0].addEventListener((0,h.Le)(),function(S){S.preventDefault(),g.element.className.includes("vditor--fullscreen")?(w.level||(this.innerHTML=w.icon),g.element.style.zIndex="",document.body.style.overflow="",g.element.classList.remove("vditor--fullscreen"),Object.keys(g.toolbar.elements).forEach(function(x){var A=g.toolbar.elements[x].firstChild;A&&(A.className=A.className.replace("__s","__n"),g.options.toolbar.forEach(function(I){typeof I!="string"&&I.tipPosition&&I.name===A.dataset.type&&(A.className="vditor-tooltipped vditor-tooltipped__".concat(I.tipPosition))}))}),g.counter&&(g.counter.element.className=g.counter.element.className.replace("__s","__n"))):(w.level||(this.innerHTML='<svg><use xlink:href="#vditor-icon-contract"></use></svg>'),g.element.style.zIndex=g.options.fullscreen.index.toString(),document.body.style.overflow="hidden",g.element.classList.add("vditor--fullscreen"),Object.keys(g.toolbar.elements).forEach(function(x){var A=g.toolbar.elements[x].firstChild;A&&(A.className=A.className.replace("__n","__s"))}),g.counter&&(g.counter.element.className=g.counter.element.className.replace("__n","__s"))),g.devtools&&g.devtools.renderEchart(g),w.click&&w.click(S,g),sr(g),rs(g)})},d})(dt),S1=(function(){var f=function(d,g){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,S){w.__proto__=S}||function(w,S){for(var x in S)Object.prototype.hasOwnProperty.call(S,x)&&(w[x]=S[x])},f(d,g)};return function(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");f(d,g);function w(){this.constructor=d}d.prototype=g===null?Object.create(g):(w.prototype=g.prototype,new w)}})(),C1=(function(f){S1(d,f);function d(g,w){var S=f.call(this,g,w)||this,x=document.createElement("div");return x.className="vditor-hint vditor-panel--arrow",x.innerHTML='<button data-tag="h1" data-value="# ">'.concat(window.VditorI18n.heading1," ").concat((0,h.ns)("&lt;⌥⌘1>"),`</button>
<button data-tag="h2" data-value="## ">`).concat(window.VditorI18n.heading2," &lt;").concat((0,h.ns)("⌥⌘2"),`></button>
<button data-tag="h3" data-value="### ">`).concat(window.VditorI18n.heading3," &lt;").concat((0,h.ns)("⌥⌘3"),`></button>
<button data-tag="h4" data-value="#### ">`).concat(window.VditorI18n.heading4," &lt;").concat((0,h.ns)("⌥⌘4"),`></button>
<button data-tag="h5" data-value="##### ">`).concat(window.VditorI18n.heading5," &lt;").concat((0,h.ns)("⌥⌘5"),`></button>
<button data-tag="h6" data-value="###### ">`).concat(window.VditorI18n.heading6," &lt;").concat((0,h.ns)("⌥⌘6"),"></button>"),S.element.appendChild(x),S._bindEvent(g,x),S}return d.prototype._bindEvent=function(g,w){var S=this.element.children[0];S.addEventListener((0,h.Le)(),function(A){A.preventDefault(),clearTimeout(g.wysiwyg.afterRenderTimeoutId),clearTimeout(g.ir.processTimeoutId),clearTimeout(g.sv.processTimeoutId),!S.classList.contains(s.g.CLASS_MENU_DISABLED)&&(S.blur(),S.classList.contains("vditor-menu--current")?(g.currentMode==="wysiwyg"?(Cu(g),ot(g)):g.currentMode==="ir"&&Fa(g,""),S.classList.remove("vditor-menu--current")):(M(g,["subToolbar"]),w.style.display="block"))});for(var x=0;x<6;x++)w.children.item(x).addEventListener((0,h.Le)(),function(A){A.preventDefault(),g.currentMode==="wysiwyg"?(ns(g,A.target.getAttribute("data-tag")),ot(g),S.classList.add("vditor-menu--current")):g.currentMode==="ir"?(Fa(g,A.target.getAttribute("data-value")),S.classList.add("vditor-menu--current")):np(g,A.target.getAttribute("data-value")),w.style.display="none"})},d})(dt),T1=(function(){var f=function(d,g){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,S){w.__proto__=S}||function(w,S){for(var x in S)Object.prototype.hasOwnProperty.call(S,x)&&(w[x]=S[x])},f(d,g)};return function(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");f(d,g);function w(){this.constructor=d}d.prototype=g===null?Object.create(g):(w.prototype=g.prototype,new w)}})(),x1=(function(f){T1(d,f);function d(g,w){var S=f.call(this,g,w)||this;return S.element.children[0].addEventListener((0,h.Le)(),function(x){x.preventDefault(),g.tip.show(`<div style="margin-bottom:14px;font-size: 14px;line-height: 22px;min-width:300px;max-width: 360px;display: flex;">
<div style="margin-top: 14px;flex: 1">
    <div>Markdown 使用指南</div>
    <ul style="list-style: none">
        <li><a href="https://ld246.com/article/1583308420519" target="_blank">语法速查手册</a></li>
        <li><a href="https://ld246.com/article/1583129520165" target="_blank">基础语法</a></li>
        <li><a href="https://ld246.com/article/1583305480675" target="_blank">扩展语法</a></li>
        <li><a href="https://ld246.com/article/1582778815353" target="_blank">键盘快捷键</a></li>
    </ul>
</div>
<div style="margin-top: 14px;flex: 1">
    <div>Vditor 支持</div>
    <ul style="list-style: none">
        <li><a href="https://github.com/Vanessa219/vditor/issues" target="_blank">Issues</a></li>
        <li><a href="https://ld246.com/tag/vditor" target="_blank">官方讨论区</a></li>
        <li><a href="https://ld246.com/article/1549638745630" target="_blank">开发手册</a></li>
        <li><a href="https://ld246.com/guide/markdown" target="_blank">演示地址</a></li>
    </ul>
</div></div>`,0)}),S}return d})(dt),M1=(function(){var f=function(d,g){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,S){w.__proto__=S}||function(w,S){for(var x in S)Object.prototype.hasOwnProperty.call(S,x)&&(w[x]=S[x])},f(d,g)};return function(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");f(d,g);function w(){this.constructor=d}d.prototype=g===null?Object.create(g):(w.prototype=g.prototype,new w)}})(),L1=(function(f){M1(d,f);function d(g,w){var S=f.call(this,g,w)||this;return S.element.children[0].addEventListener((0,h.Le)(),function(x){if(x.preventDefault(),!(S.element.firstElementChild.classList.contains(s.g.CLASS_MENU_DISABLED)||g.currentMode==="sv")){var A=(0,V.zh)(g),I=(0,T.lG)(A.startContainer,"LI");I&&hp(g,I,A)}}),S}return d})(dt),E1=(function(){var f=function(d,g){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,S){w.__proto__=S}||function(w,S){for(var x in S)Object.prototype.hasOwnProperty.call(S,x)&&(w[x]=S[x])},f(d,g)};return function(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");f(d,g);function w(){this.constructor=d}d.prototype=g===null?Object.create(g):(w.prototype=g.prototype,new w)}})(),A1=(function(f){E1(d,f);function d(g,w){var S=f.call(this,g,w)||this;return S.element.children[0].addEventListener((0,h.Le)(),function(x){x.preventDefault(),g.tip.show(`<div style="max-width: 520px; font-size: 14px;line-height: 22px;margin-bottom: 14px;">
<p style="text-align: center;margin: 14px 0">
    <em>下一代的 Markdown 编辑器，为未来而构建</em>
</p>
<div style="display: flex;margin-bottom: 14px;flex-wrap: wrap;align-items: center">
    <img src="https://unpkg.com/vditor/dist/images/logo.png" style="margin: 0 auto;height: 68px"/>
    <div>&nbsp;&nbsp;</div>
    <div style="flex: 1;min-width: 250px">
        Vditor 是一款浏览器端的 Markdown 编辑器，支持所见即所得、即时渲染（类似 Typora）和分屏预览模式。
        它使用 TypeScript 实现，支持原生 JavaScript 以及 Vue、React、Angular 和 Svelte 等框架。
    </div>
</div>
<div style="display: flex;flex-wrap: wrap;">
    <ul style="list-style: none;flex: 1;min-width:148px">
        <li>
        项目地址：<a href="https://b3log.org/vditor" target="_blank">b3log.org/vditor</a>
        </li>
        <li>
        开源协议：MIT
        </li>
    </ul>
    <ul style="list-style: none;margin-right: 18px">
        <li>
        组件版本：Vditor v`.concat(s.H," / Lute v").concat(Lute.Version,`
        </li>
        <li>
        赞助捐赠：<a href="https://ld246.com/sponsor" target="_blank">https://ld246.com/sponsor</a>
        </li>
    </ul>
</div>
</div>`),0)}),S}return d})(dt),k1=(function(){var f=function(d,g){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,S){w.__proto__=S}||function(w,S){for(var x in S)Object.prototype.hasOwnProperty.call(S,x)&&(w[x]=S[x])},f(d,g)};return function(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");f(d,g);function w(){this.constructor=d}d.prototype=g===null?Object.create(g):(w.prototype=g.prototype,new w)}})(),D1=(function(f){k1(d,f);function d(g,w){var S=f.call(this,g,w)||this;return S.element.children[0].addEventListener((0,h.Le)(),function(x){x.preventDefault(),!(S.element.firstElementChild.classList.contains(s.g.CLASS_MENU_DISABLED)||g.currentMode==="sv")&&Ba(g,"afterend")}),S}return d})(dt),I1=(function(){var f=function(d,g){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,S){w.__proto__=S}||function(w,S){for(var x in S)Object.prototype.hasOwnProperty.call(S,x)&&(w[x]=S[x])},f(d,g)};return function(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");f(d,g);function w(){this.constructor=d}d.prototype=g===null?Object.create(g):(w.prototype=g.prototype,new w)}})(),O1=(function(f){I1(d,f);function d(g,w){var S=f.call(this,g,w)||this;return S.element.children[0].addEventListener((0,h.Le)(),function(x){x.preventDefault(),!(S.element.firstElementChild.classList.contains(s.g.CLASS_MENU_DISABLED)||g.currentMode==="sv")&&Ba(g,"beforebegin")}),S}return d})(dt),P1=(function(){var f=function(d,g){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,S){w.__proto__=S}||function(w,S){for(var x in S)Object.prototype.hasOwnProperty.call(S,x)&&(w[x]=S[x])},f(d,g)};return function(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");f(d,g);function w(){this.constructor=d}d.prototype=g===null?Object.create(g):(w.prototype=g.prototype,new w)}})(),R1=(function(f){P1(d,f);function d(g,w){var S=f.call(this,g,w)||this;return S.element.children[0].addEventListener((0,h.Le)(),function(x){if(x.preventDefault(),!(S.element.firstElementChild.classList.contains(s.g.CLASS_MENU_DISABLED)||g.currentMode==="sv")){var A=(0,V.zh)(g),I=(0,T.lG)(A.startContainer,"LI");I&&Pu(g,I,A,I.parentElement)}}),S}return d})(dt),N1=(function(){var f=function(d,g){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,S){w.__proto__=S}||function(w,S){for(var x in S)Object.prototype.hasOwnProperty.call(S,x)&&(w[x]=S[x])},f(d,g)};return function(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");f(d,g);function w(){this.constructor=d}d.prototype=g===null?Object.create(g):(w.prototype=g.prototype,new w)}})(),B1=(function(f){N1(d,f);function d(g,w){var S=f.call(this,g,w)||this;return g.options.outline&&S.element.firstElementChild.classList.add("vditor-menu--current"),S.element.children[0].addEventListener((0,h.Le)(),function(x){x.preventDefault();var A=g.toolbar.elements.outline.firstElementChild;A.classList.contains(s.g.CLASS_MENU_DISABLED)||(g.options.outline.enable=!S.element.firstElementChild.classList.contains("vditor-menu--current"),g.outline.toggle(g,g.options.outline.enable))}),S}return d})(dt),H1=(function(){var f=function(d,g){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,S){w.__proto__=S}||function(w,S){for(var x in S)Object.prototype.hasOwnProperty.call(S,x)&&(w[x]=S[x])},f(d,g)};return function(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");f(d,g);function w(){this.constructor=d}d.prototype=g===null?Object.create(g):(w.prototype=g.prototype,new w)}})(),F1=(function(f){H1(d,f);function d(g,w){var S=f.call(this,g,w)||this;return S._bindEvent(g),S}return d.prototype._bindEvent=function(g){var w=this;this.element.children[0].addEventListener((0,h.Le)(),function(S){S.preventDefault();var x=w.element.firstElementChild;if(!x.classList.contains(s.g.CLASS_MENU_DISABLED)){var A=s.g.EDIT_TOOLBARS.concat(["both","edit-mode","devtools"]);x.classList.contains("vditor-menu--current")?(x.classList.remove("vditor-menu--current"),g.currentMode==="sv"?(g.sv.element.style.display="block",g.options.preview.mode==="both"?g.preview.element.style.display="block":g.preview.element.style.display="none"):(g[g.currentMode].element.parentElement.style.display="block",g.preview.element.style.display="none"),_(g.toolbar.elements,A),g.outline.render(g)):(y(g.toolbar.elements,A),g.preview.element.style.display="block",g.currentMode==="sv"?g.sv.element.style.display="none":g[g.currentMode].element.parentElement.style.display="none",g.preview.render(g),x.classList.add("vditor-menu--current"),M(g,["subToolbar","hint","popover"]),setTimeout(function(){g.outline.render(g)},g.options.preview.delay+10)),sr(g)}})},d})(dt),V1=(function(){function f(d){this.SAMPLE_RATE=5e3,this.isRecording=!1,this.readyFlag=!1,this.leftChannel=[],this.rightChannel=[],this.recordingLength=0;var g;if(typeof AudioContext<"u")g=new AudioContext;else if(webkitAudioContext)g=new webkitAudioContext;else return;this.DEFAULT_SAMPLE_RATE=g.sampleRate;var w=g.createGain(),S=g.createMediaStreamSource(d);S.connect(w),this.recorder=g.createScriptProcessor(2048,2,1),this.recorder.onaudioprocess=null,w.connect(this.recorder),this.recorder.connect(g.destination),this.readyFlag=!0}return f.prototype.cloneChannelData=function(d,g){this.leftChannel.push(new Float32Array(d)),this.rightChannel.push(new Float32Array(g)),this.recordingLength+=2048},f.prototype.startRecordingNewWavFile=function(){this.readyFlag&&(this.isRecording=!0,this.leftChannel.length=this.rightChannel.length=0,this.recordingLength=0)},f.prototype.stopRecording=function(){this.isRecording=!1},f.prototype.buildWavFileBlob=function(){for(var d=this.mergeBuffers(this.leftChannel),g=this.mergeBuffers(this.rightChannel),w=new Float32Array(d.length),S=0;S<d.length;++S)w[S]=.5*(d[S]+g[S]);this.DEFAULT_SAMPLE_RATE>this.SAMPLE_RATE&&(w=this.downSampleBuffer(w,this.SAMPLE_RATE));var x=44+w.length*2,A=new ArrayBuffer(x),I=new DataView(A);this.writeUTFBytes(I,0,"RIFF"),I.setUint32(4,x,!0),this.writeUTFBytes(I,8,"WAVE"),this.writeUTFBytes(I,12,"fmt "),I.setUint32(16,16,!0),I.setUint16(20,1,!0),I.setUint16(22,1,!0),I.setUint32(24,this.SAMPLE_RATE,!0),I.setUint32(28,this.SAMPLE_RATE*2,!0),I.setUint16(32,2,!0),I.setUint16(34,16,!0);var R=w.length*2;this.writeUTFBytes(I,36,"data"),I.setUint32(40,R,!0);for(var O=w.length,H=44,j=1,ee=0;ee<O;ee++)I.setInt16(H,w[ee]*(32767*j),!0),H+=2;return new Blob([I],{type:"audio/wav"})},f.prototype.downSampleBuffer=function(d,g){if(g===this.DEFAULT_SAMPLE_RATE||g>this.DEFAULT_SAMPLE_RATE)return d;for(var w=this.DEFAULT_SAMPLE_RATE/g,S=Math.round(d.length/w),x=new Float32Array(S),A=0,I=0;A<x.length;){for(var R=Math.round((A+1)*w),O=0,H=0,j=I;j<R&&j<d.length;j++)O+=d[j],H++;x[A]=O/H,A++,I=R}return x},f.prototype.mergeBuffers=function(d){for(var g=new Float32Array(this.recordingLength),w=0,S=d.length,x=0;x<S;++x){var A=d[x];g.set(A,w),w+=A.length}return g},f.prototype.writeUTFBytes=function(d,g,w){for(var S=w.length,x=0;x<S;x++)d.setUint8(g+x,w.charCodeAt(x))},f})(),z1=(function(){var f=function(d,g){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,S){w.__proto__=S}||function(w,S){for(var x in S)Object.prototype.hasOwnProperty.call(S,x)&&(w[x]=S[x])},f(d,g)};return function(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");f(d,g);function w(){this.constructor=d}d.prototype=g===null?Object.create(g):(w.prototype=g.prototype,new w)}})(),U1=(function(f){z1(d,f);function d(g,w){var S=f.call(this,g,w)||this;return S._bindEvent(g),S}return d.prototype._bindEvent=function(g){var w=this,S;this.element.children[0].addEventListener((0,h.Le)(),function(x){if(x.preventDefault(),!w.element.firstElementChild.classList.contains(s.g.CLASS_MENU_DISABLED)){var A=g[g.currentMode].element;if(!S){navigator.mediaDevices.getUserMedia({audio:!0}).then(function(R){S=new V1(R),S.recorder.onaudioprocess=function(O){if(S.isRecording){var H=O.inputBuffer.getChannelData(0),j=O.inputBuffer.getChannelData(1);S.cloneChannelData(H,j)}},S.startRecordingNewWavFile(),g.tip.show(window.VditorI18n.recording),A.setAttribute("contenteditable","false"),w.element.children[0].classList.add("vditor-menu--current")}).catch(function(){g.tip.show(window.VditorI18n["record-tip"])});return}if(S.isRecording){S.stopRecording(),g.tip.hide();var I=new File([S.buildWavFileBlob()],"record".concat(new Date().getTime(),".wav"),{type:"video/webm"});Ou(g,[I]),w.element.children[0].classList.remove("vditor-menu--current")}else g.tip.show(window.VditorI18n.recording),A.setAttribute("contenteditable","false"),S.startRecordingNewWavFile(),w.element.children[0].classList.add("vditor-menu--current")}})},d})(dt),G1=(function(){var f=function(d,g){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,S){w.__proto__=S}||function(w,S){for(var x in S)Object.prototype.hasOwnProperty.call(S,x)&&(w[x]=S[x])},f(d,g)};return function(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");f(d,g);function w(){this.constructor=d}d.prototype=g===null?Object.create(g):(w.prototype=g.prototype,new w)}})(),W1=(function(f){G1(d,f);function d(g,w){var S=f.call(this,g,w)||this;return y({redo:S.element},["redo"]),S.element.children[0].addEventListener((0,h.Le)(),function(x){x.preventDefault(),!S.element.firstElementChild.classList.contains(s.g.CLASS_MENU_DISABLED)&&g.undo.redo(g)}),S}return d})(dt),j1=(function(){var f=function(d,g){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,S){w.__proto__=S}||function(w,S){for(var x in S)Object.prototype.hasOwnProperty.call(S,x)&&(w[x]=S[x])},f(d,g)};return function(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");f(d,g);function w(){this.constructor=d}d.prototype=g===null?Object.create(g):(w.prototype=g.prototype,new w)}})(),q1=(function(f){j1(d,f);function d(g,w){var S=f.call(this,g,w)||this;return y({undo:S.element},["undo"]),S.element.children[0].addEventListener((0,h.Le)(),function(x){x.preventDefault(),!S.element.firstElementChild.classList.contains(s.g.CLASS_MENU_DISABLED)&&g.undo.undo(g)}),S}return d})(dt),$1=(function(){var f=function(d,g){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,S){w.__proto__=S}||function(w,S){for(var x in S)Object.prototype.hasOwnProperty.call(S,x)&&(w[x]=S[x])},f(d,g)};return function(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");f(d,g);function w(){this.constructor=d}d.prototype=g===null?Object.create(g):(w.prototype=g.prototype,new w)}})(),Y1=(function(f){$1(d,f);function d(g,w){var S=f.call(this,g,w)||this,x='<input type="file"';return g.options.upload.multiple&&(x+=' multiple="multiple"'),g.options.upload.accept&&(x+=' accept="'.concat(g.options.upload.accept,'"')),S.element.children[0].innerHTML="".concat(w.icon||'<svg><use xlink:href="#vditor-icon-upload"></use></svg>').concat(x,">"),S._bindEvent(g),S}return d.prototype._bindEvent=function(g){var w=this;this.element.children[0].addEventListener((0,h.Le)(),function(S){if(w.element.firstElementChild.classList.contains(s.g.CLASS_MENU_DISABLED)){S.stopPropagation(),S.preventDefault();return}}),this.element.querySelector("input").addEventListener("change",function(S){if(w.element.firstElementChild.classList.contains(s.g.CLASS_MENU_DISABLED)){S.stopPropagation(),S.preventDefault();return}S.target.files.length!==0&&Ou(g,S.target.files,S.target)})},d})(dt),K1=(function(){function f(d){var g=this,w=d.options;this.elements={},this.element=document.createElement("div"),this.element.className="vditor-toolbar",w.toolbar.forEach(function(S,x){var A=g.genItem(d,S,x);if(g.element.appendChild(A),S.toolbar){var I=document.createElement("div");I.className="vditor-hint vditor-panel--arrow",I.addEventListener((0,h.Le)(),function(R){I.style.display="none"}),S.toolbar.forEach(function(R,O){R.level=2,I.appendChild(g.genItem(d,R,x+O))}),A.appendChild(I),L(d,I,A.children[0])}}),d.options.toolbarConfig.hide&&this.element.classList.add("vditor-toolbar--hide"),d.options.toolbarConfig.pin&&this.element.classList.add("vditor-toolbar--pin"),d.options.counter.enable&&(d.counter=new s1(d),this.element.appendChild(d.counter.element))}return f.prototype.updateConfig=function(d,g){d.options.toolbarConfig=Object.assign({hide:!1,pin:!1},g),d.options.toolbarConfig.hide?this.element.classList.add("vditor-toolbar--hide"):this.element.classList.remove("vditor-toolbar--hide"),d.options.toolbarConfig.pin?this.element.classList.add("vditor-toolbar--pin"):this.element.classList.remove("vditor-toolbar--pin")},f.prototype.genItem=function(d,g,w){var S;switch(g.name){case"bold":case"italic":case"more":case"strike":case"line":case"quote":case"list":case"ordered-list":case"check":case"code":case"inline-code":case"link":case"table":S=new dt(d,g);break;case"emoji":S=new p1(d,g);break;case"headings":S=new C1(d,g);break;case"|":S=new h1;break;case"br":S=new r1;break;case"undo":S=new q1(d,g);break;case"redo":S=new W1(d,g);break;case"help":S=new x1(d,g);break;case"both":S=new t1(d,g);break;case"preview":S=new F1(d,g);break;case"fullscreen":S=new w1(d,g);break;case"upload":S=new Y1(d,g);break;case"record":S=new U1(d,g);break;case"info":S=new A1(d,g);break;case"edit-mode":S=new Dw(d,g);break;case"devtools":S=new f1(d,g);break;case"outdent":S=new R1(d,g);break;case"indent":S=new L1(d,g);break;case"outline":S=new B1(d,g);break;case"insert-after":S=new D1(d,g);break;case"insert-before":S=new O1(d,g);break;case"code-theme":S=new i1(d,g);break;case"content-theme":S=new o1(d,g);break;case"export":S=new _1(d,g);break;default:S=new u1(d,g);break}if(S){var x=g.name;return(x==="br"||x==="|")&&(x=x+w),this.elements[x]=S.element,S.element}},f})(),X1=i(173),Z1=(function(){function f(){this.stackSize=50,this.resetStack(),this.dmp=new X1}return f.prototype.clearStack=function(d){this.resetStack(),this.resetIcon(d)},f.prototype.resetIcon=function(d){d.toolbar&&(this[d.currentMode].undoStack.length>1?_(d.toolbar.elements,["undo"]):y(d.toolbar.elements,["undo"]),this[d.currentMode].redoStack.length!==0?_(d.toolbar.elements,["redo"]):y(d.toolbar.elements,["redo"]))},f.prototype.undo=function(d){if(d[d.currentMode].element.getAttribute("contenteditable")!=="false"&&!(this[d.currentMode].undoStack.length<2)){var g=this[d.currentMode].undoStack.pop();g&&(this[d.currentMode].redoStack.push(g),this.renderDiff(g,d),this[d.currentMode].hasUndo=!0,M(d,["hint"]))}},f.prototype.redo=function(d){if(d[d.currentMode].element.getAttribute("contenteditable")!=="false"){var g=this[d.currentMode].redoStack.pop();g&&(this[d.currentMode].undoStack.push(g),this.renderDiff(g,d,!0))}},f.prototype.recordFirstPosition=function(d,g){if(getSelection().rangeCount!==0&&!(this[d.currentMode].undoStack.length!==1||this[d.currentMode].undoStack[0].length===0||this[d.currentMode].redoStack.length>0)&&!((0,h.vU)()&&g.key==="Backspace")&&!(0,h.G6)()){var w=this.addCaret(d);w.replace("<wbr>","").replace(" vditor-ir__node--expand","")===this[d.currentMode].undoStack[0][0].diffs[0][1].replace("<wbr>","")&&(this[d.currentMode].undoStack[0][0].diffs[0][1]=w,this[d.currentMode].lastText=w)}},f.prototype.addToUndoStack=function(d){var g=this.addCaret(d,!0),w=this.dmp.diff_main(g,this[d.currentMode].lastText,!0),S=this.dmp.patch_make(g,this[d.currentMode].lastText,w);S.length===0&&this[d.currentMode].undoStack.length>0||(this[d.currentMode].lastText=g,this[d.currentMode].undoStack.push(S),this[d.currentMode].undoStack.length>this.stackSize&&this[d.currentMode].undoStack.shift(),this[d.currentMode].hasUndo&&(this[d.currentMode].redoStack=[],this[d.currentMode].hasUndo=!1,y(d.toolbar.elements,["redo"])),this[d.currentMode].undoStack.length>1&&_(d.toolbar.elements,["undo"]))},f.prototype.renderDiff=function(d,g,w){w===void 0&&(w=!1);var S;if(w){var x=this.dmp.patch_deepCopy(d).reverse();x.forEach(function(I){I.diffs.forEach(function(R){R[0]=-R[0]})}),S=this.dmp.patch_apply(x,this[g.currentMode].lastText)[0]}else S=this.dmp.patch_apply(d,this[g.currentMode].lastText)[0];if(this[g.currentMode].lastText=S,g[g.currentMode].element.innerHTML=S,g.currentMode!=="sv"&&(g[g.currentMode].element.querySelectorAll(".vditor-".concat(g.currentMode,"__preview")).forEach(function(I){I.parentElement.querySelector(".language-echarts")&&(g.currentMode==="ir"?I.parentElement.outerHTML=g.lute.SpinVditorIRDOM(I.parentElement.outerHTML):I.parentElement.outerHTML=g.lute.SpinVditorDOM(I.parentElement.outerHTML))}),g[g.currentMode].element.querySelectorAll(".vditor-".concat(g.currentMode,"__preview[data-render='2']")).forEach(function(I){he(I,g)})),g[g.currentMode].element.querySelector("wbr"))(0,V.ib)(g[g.currentMode].element,g[g.currentMode].element.ownerDocument.createRange()),yt(g);else{var A=getSelection().getRangeAt(0);A.setEndBefore(g[g.currentMode].element),A.collapse(!1)}Ce(g),Fe(g,{enableAddUndoStack:!1,enableHint:!1,enableInput:!0}),zi(g),g[g.currentMode].element.querySelectorAll(".vditor-".concat(g.currentMode,"__preview[data-render='2']")).forEach(function(I){he(I,g)}),this[g.currentMode].undoStack.length>1?_(g.toolbar.elements,["undo"]):y(g.toolbar.elements,["undo"]),this[g.currentMode].redoStack.length!==0?_(g.toolbar.elements,["redo"]):y(g.toolbar.elements,["redo"])},f.prototype.resetStack=function(){this.ir={hasUndo:!1,lastText:"",redoStack:[],undoStack:[]},this.sv={hasUndo:!1,lastText:"",redoStack:[],undoStack:[]},this.wysiwyg={hasUndo:!1,lastText:"",redoStack:[],undoStack:[]}},f.prototype.addCaret=function(d,g){g===void 0&&(g=!1);var w;if(getSelection().rangeCount!==0&&!d[d.currentMode].element.querySelector("wbr")){var S=getSelection().getRangeAt(0);if(d[d.currentMode].element.contains(S.startContainer)){w=S.cloneRange();var x=document.createElement("span");x.className="vditor-wbr",S.insertNode(x)}}var A=d[d.currentMode].element.cloneNode(!0);A.querySelectorAll(".vditor-".concat(d.currentMode,"__preview[data-render='1']")).forEach(function(R){R.firstElementChild&&(R.firstElementChild.classList.contains("language-echarts")||R.firstElementChild.classList.contains("language-plantuml")||R.firstElementChild.classList.contains("language-mindmap")?(R.firstElementChild.removeAttribute("_echarts_instance_"),R.firstElementChild.removeAttribute("data-processed"),R.firstElementChild.innerHTML=R.previousElementSibling.firstElementChild.innerHTML,R.setAttribute("data-render","2")):R.firstElementChild.classList.contains("language-math")&&(R.setAttribute("data-render","2"),R.firstElementChild.textContent=R.firstElementChild.getAttribute("data-math"),R.firstElementChild.removeAttribute("data-math")))});var I=A.innerHTML;return d[d.currentMode].element.querySelectorAll(".vditor-wbr").forEach(function(R){R.remove()}),g&&w&&(0,V.Hc)(w),I.replace('<span class="vditor-wbr"></span>',"<wbr>")},f})(),Q1=i(673),J1=(function(){function f(d){this.defaultOptions={rtl:!1,after:void 0,cache:{enable:!0},cdn:s.g.CDN,classes:{preview:""},comment:{enable:!1},counter:{enable:!1,type:"markdown"},customRenders:[],debugger:!1,fullscreen:{index:90},height:"auto",hint:{delay:200,emoji:{"+1":"👍","-1":"👎",confused:"😕",eyes:"👀️",heart:"❤️",rocket:"🚀️",smile:"😄",tada:"🎉️"},emojiPath:"".concat(s.g.CDN,"/dist/images/emoji"),extend:[],parse:!0},icon:"ant",lang:"zh_CN",mode:"ir",outline:{enable:!1,position:"left"},placeholder:"",preview:{actions:["desktop","tablet","mobile","mp-wechat","zhihu"],delay:1e3,hljs:s.g.HLJS_OPTIONS,markdown:s.g.MARKDOWN_OPTIONS,math:s.g.MATH_OPTIONS,maxWidth:800,mode:"both",theme:s.g.THEME_OPTIONS,render:{media:{enable:!0}}},link:{isOpen:!0},image:{isPreview:!0},resize:{enable:!1,position:"bottom"},theme:"classic",toolbar:["emoji","headings","bold","italic","strike","link","|","list","ordered-list","check","outdent","indent","|","quote","line","code","inline-code","insert-before","insert-after","|","upload","record","table","|","undo","redo","|","fullscreen","edit-mode",{name:"more",toolbar:["both","code-theme","content-theme","export","outline","preview","devtools","info","help"]}],toolbarConfig:{hide:!1,pin:!1},typewriterMode:!1,undoDelay:800,upload:{extraData:{},fieldName:"file[]",filename:function(g){return g.replace(/\W/g,"")},linkToImgUrl:"",max:10*1024*1024,multiple:!0,url:"",withCredentials:!1},value:"",width:"auto"},this.options=d}return f.prototype.merge=function(){var d,g,w,S,x,A,I,R,O;this.options&&(this.options.toolbar?this.options.toolbar=this.mergeToolbar(this.options.toolbar):this.options.toolbar=this.mergeToolbar(this.defaultOptions.toolbar),!((g=(d=this.options.preview)===null||d===void 0?void 0:d.theme)===null||g===void 0)&&g.list&&(this.defaultOptions.preview.theme.list=this.options.preview.theme.list),!((x=(S=(w=this.options.preview)===null||w===void 0?void 0:w.render)===null||S===void 0?void 0:S.media)===null||x===void 0)&&x.enable&&(this.defaultOptions.preview.render.media.enable=this.options.preview.render.media.enable),!((A=this.options.hint)===null||A===void 0)&&A.emoji&&(this.defaultOptions.hint.emoji=this.options.hint.emoji),this.options.comment&&(this.defaultOptions.comment=this.options.comment),this.options.cdn&&(!((R=(I=this.options.preview)===null||I===void 0?void 0:I.theme)===null||R===void 0)&&R.path||(this.defaultOptions.preview.theme.path="".concat(this.options.cdn,"/dist/css/content-theme")),!((O=this.options.hint)===null||O===void 0)&&O.emojiPath||(this.defaultOptions.hint.emojiPath="".concat(this.options.cdn,"/dist/images/emoji"))));var H=(0,Q1.T)(this.defaultOptions,this.options);if(H.cache.enable&&!H.cache.id)throw new Error("need options.cache.id, see https://ld246.com/article/1549638745630#options");return H},f.prototype.mergeToolbar=function(d){var g=this,w=[{icon:'<svg><use xlink:href="#vditor-icon-export"></use></svg>',name:"export",tipPosition:"ne"},{hotkey:"⌘E",icon:'<svg><use xlink:href="#vditor-icon-emoji"></use></svg>',name:"emoji",tipPosition:"ne"},{hotkey:"⌘H",icon:'<svg><use xlink:href="#vditor-icon-headings"></use></svg>',name:"headings",tipPosition:"ne"},{hotkey:"⌘B",icon:'<svg><use xlink:href="#vditor-icon-bold"></use></svg>',name:"bold",prefix:"**",suffix:"**",tipPosition:"ne"},{hotkey:"⌘I",icon:'<svg><use xlink:href="#vditor-icon-italic"></use></svg>',name:"italic",prefix:"*",suffix:"*",tipPosition:"ne"},{hotkey:"⌘D",icon:'<svg><use xlink:href="#vditor-icon-strike"></use></svg>',name:"strike",prefix:"~~",suffix:"~~",tipPosition:"ne"},{hotkey:"⌘K",icon:'<svg><use xlink:href="#vditor-icon-link"></use></svg>',name:"link",prefix:"[",suffix:"](https://)",tipPosition:"n"},{name:"|"},{hotkey:"⌘L",icon:'<svg><use xlink:href="#vditor-icon-list"></use></svg>',name:"list",prefix:"* ",tipPosition:"n"},{hotkey:"⌘O",icon:'<svg><use xlink:href="#vditor-icon-ordered-list"></use></svg>',name:"ordered-list",prefix:"1. ",tipPosition:"n"},{hotkey:"⌘J",icon:'<svg><use xlink:href="#vditor-icon-check"></use></svg>',name:"check",prefix:"* [ ] ",tipPosition:"n"},{hotkey:"⇧⌘I",icon:'<svg><use xlink:href="#vditor-icon-outdent"></use></svg>',name:"outdent",tipPosition:"n"},{hotkey:"⇧⌘O",icon:'<svg><use xlink:href="#vditor-icon-indent"></use></svg>',name:"indent",tipPosition:"n"},{name:"|"},{hotkey:"⌘;",icon:'<svg><use xlink:href="#vditor-icon-quote"></use></svg>',name:"quote",prefix:"> ",tipPosition:"n"},{hotkey:"⇧⌘H",icon:'<svg><use xlink:href="#vditor-icon-line"></use></svg>',name:"line",prefix:"---",tipPosition:"n"},{hotkey:"⌘U",icon:'<svg><use xlink:href="#vditor-icon-code"></use></svg>',name:"code",prefix:"```",suffix:"\n```",tipPosition:"n"},{hotkey:"⌘G",icon:'<svg><use xlink:href="#vditor-icon-inline-code"></use></svg>',name:"inline-code",prefix:"`",suffix:"`",tipPosition:"n"},{hotkey:"⇧⌘B",icon:'<svg><use xlink:href="#vditor-icon-before"></use></svg>',name:"insert-before",tipPosition:"n"},{hotkey:"⇧⌘E",icon:'<svg><use xlink:href="#vditor-icon-after"></use></svg>',name:"insert-after",tipPosition:"n"},{name:"|"},{icon:'<svg><use xlink:href="#vditor-icon-upload"></use></svg>',name:"upload",tipPosition:"n"},{icon:'<svg><use xlink:href="#vditor-icon-record"></use></svg>',name:"record",tipPosition:"n"},{hotkey:"⌘M",icon:'<svg><use xlink:href="#vditor-icon-table"></use></svg>',name:"table",prefix:"| col1",suffix:` | col2 | col3 |
| --- | --- | --- |
|  |  |  |
|  |  |  |`,tipPosition:"n"},{name:"|"},{hotkey:"⌘Z",icon:'<svg><use xlink:href="#vditor-icon-undo"></use></svg>',name:"undo",tipPosition:"nw"},{hotkey:"⌘Y",icon:'<svg><use xlink:href="#vditor-icon-redo"></use></svg>',name:"redo",tipPosition:"nw"},{name:"|"},{icon:'<svg><use xlink:href="#vditor-icon-more"></use></svg>',name:"more",tipPosition:"e"},{hotkey:"⌘'",icon:'<svg><use xlink:href="#vditor-icon-fullscreen"></use></svg>',name:"fullscreen",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-edit"></use></svg>',name:"edit-mode",tipPosition:"nw"},{hotkey:"⌘P",icon:'<svg><use xlink:href="#vditor-icon-both"></use></svg>',name:"both",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-preview"></use></svg>',name:"preview",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-align-center"></use></svg>',name:"outline",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-theme"></use></svg>',name:"content-theme",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-code-theme"></use></svg>',name:"code-theme",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-bug"></use></svg>',name:"devtools",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-info"></use></svg>',name:"info",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-help"></use></svg>',name:"help",tipPosition:"nw"},{name:"br"}],S=[];return d.forEach(function(x){var A=x;w.forEach(function(I){typeof x=="string"&&I.name===x&&(A=I),typeof x=="object"&&I.name===x.name&&(A=Object.assign({},I,x))}),x.toolbar&&(A.toolbar=g.mergeToolbar(x.toolbar)),S.push(A)}),S},f})(),eS=(function(){function f(d){var g=this;this.composingLock=!1,this.commentIds=[];var w=document.createElement("div");w.className="vditor-wysiwyg",w.innerHTML='<pre class="vditor-reset" placeholder="'.concat(d.options.placeholder,`"
 contenteditable="true" spellcheck="false"></pre>
<div class="vditor-panel vditor-panel--none"></div>
<div class="vditor-panel vditor-panel--none">
    <button type="button" aria-label="`).concat(window.VditorI18n.comment,`" class="vditor-icon vditor-tooltipped vditor-tooltipped__n">
        <svg><use xlink:href="#vditor-icon-comment"></use></svg>
    </button>
</div>`),this.element=w.firstElementChild,this.popover=w.firstElementChild.nextElementSibling,this.selectPopover=w.lastElementChild,this.bindEvent(d),xu(d,this.element),tp(d,this.element),Mu(d,this.element),ku(d,this.element),Du(d,this.element),Lu(d,this.element),Eu(d,this.element,this.copy),Au(d,this.element,this.copy),d.options.comment.enable&&(this.selectPopover.querySelector("button").onclick=function(){var S=Lute.NewNodeID(),x=getSelection().getRangeAt(0),A=x.cloneRange(),I=x.extractContents(),R,O,H=!1,j=!1;I.childNodes.forEach(function(Q,se){var oe=!1;if(Q.nodeType===3?oe=!0:Q.classList.contains("vditor-comment")?Q.classList.contains("vditor-comment")&&Q.setAttribute("data-cmtids",Q.getAttribute("data-cmtids")+" "+S):oe=!0,oe)if(Q.nodeType!==3&&Q.getAttribute("data-block")==="0"&&se===0&&A.startOffset>0)Q.innerHTML='<span class="vditor-comment" data-cmtids="'.concat(S,'">').concat(Q.innerHTML,"</span>"),R=Q;else if(Q.nodeType!==3&&Q.getAttribute("data-block")==="0"&&se===I.childNodes.length-1&&A.endOffset<A.endContainer.textContent.length)Q.innerHTML='<span class="vditor-comment" data-cmtids="'.concat(S,'">').concat(Q.innerHTML,"</span>"),O=Q;else if(Q.nodeType!==3&&Q.getAttribute("data-block")==="0")se===0?H=!0:se===I.childNodes.length-1&&(j=!0),Q.innerHTML='<span class="vditor-comment" data-cmtids="'.concat(S,'">').concat(Q.innerHTML,"</span>");else{var J=document.createElement("span");J.classList.add("vditor-comment"),J.setAttribute("data-cmtids",S),Q.parentNode.insertBefore(J,Q),J.appendChild(Q)}});var ee=(0,T.F9)(A.startContainer);ee&&(R?(ee.insertAdjacentHTML("beforeend",R.innerHTML),R.remove()):ee.textContent.trim().replace(s.g.ZWSP,"")===""&&H&&ee.remove());var re=(0,T.F9)(A.endContainer);re&&(O?(re.insertAdjacentHTML("afterbegin",O.innerHTML),O.remove()):re.textContent.trim().replace(s.g.ZWSP,"")===""&&j&&re.remove()),x.insertNode(I),d.options.comment.add(S,x.toString(),g.getComments(d,!0)),ot(d,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1}),g.hideComment()})}return f.prototype.getComments=function(d,g){var w=this;if(g===void 0&&(g=!1),d.currentMode==="wysiwyg"&&d.options.comment.enable){this.commentIds=[],this.element.querySelectorAll(".vditor-comment").forEach(function(x){w.commentIds=w.commentIds.concat(x.getAttribute("data-cmtids").split(" "))}),this.commentIds=Array.from(new Set(this.commentIds));var S=[];if(g)return this.commentIds.forEach(function(x){S.push({id:x,top:w.element.querySelector('.vditor-comment[data-cmtids="'.concat(x,'"]')).offsetTop})}),S}else return[]},f.prototype.triggerRemoveComment=function(d){var g=function(x,A){var I=new Set(A);return x.filter(function(R){return!I.has(R)})};if(d.currentMode==="wysiwyg"&&d.options.comment.enable&&d.wysiwyg.commentIds.length>0){var w=JSON.parse(JSON.stringify(this.commentIds));this.getComments(d);var S=g(w,this.commentIds);S.length>0&&d.options.comment.remove(S)}},f.prototype.showComment=function(){var d=(0,V.Ny)(this.element);this.selectPopover.setAttribute("style","left:".concat(d.left,"px;display:block;top:").concat(Math.max(-8,d.top-21),"px"))},f.prototype.hideComment=function(){this.selectPopover.setAttribute("style","display:none")},f.prototype.unbindListener=function(){window.removeEventListener("scroll",this.scrollListener)},f.prototype.copy=function(d,g){var w=getSelection().getRangeAt(0);if(w.toString()!==""){d.stopPropagation(),d.preventDefault();var S=(0,T.lG)(w.startContainer,"CODE"),x=(0,T.lG)(w.endContainer,"CODE");if(S&&x&&x.isSameNode(S)){var A="";S.parentElement.tagName==="PRE"?A=w.toString():A="`"+w.toString()+"`",d.clipboardData.setData("text/plain",A),d.clipboardData.setData("text/html","");return}var I=(0,T.lG)(w.startContainer,"A"),R=(0,T.lG)(w.endContainer,"A");if(I&&R&&R.isSameNode(I)){var O=I.getAttribute("title")||"";O&&(O=' "'.concat(O,'"')),d.clipboardData.setData("text/plain","[".concat(w.toString(),"](").concat(I.getAttribute("href")).concat(O,")")),d.clipboardData.setData("text/html","");return}var H=document.createElement("div");H.appendChild(w.cloneContents()),d.clipboardData.setData("text/plain",g.lute.VditorDOM2Md(H.innerHTML).trim()),d.clipboardData.setData("text/html","")}},f.prototype.bindEvent=function(d){var g=this;this.unbindListener(),window.addEventListener("scroll",this.scrollListener=function(){if(M(d,["hint"]),!(g.popover.style.display!=="block"||g.selectPopover.style.display!=="block")){var w=parseInt(g.popover.getAttribute("data-top"),10);if(d.options.height!=="auto"){if(d.options.toolbarConfig.pin&&d.toolbar.element.getBoundingClientRect().top===0){var S=Math.max(window.scrollY-d.element.offsetTop-8,Math.min(w-d.wysiwyg.element.scrollTop,g.element.clientHeight-21))+"px";g.popover.style.display==="block"&&(g.popover.style.top=S),g.selectPopover.style.display==="block"&&(g.selectPopover.style.top=S)}return}else if(!d.options.toolbarConfig.pin)return;var x=Math.max(w,window.scrollY-d.element.offsetTop-8)+"px";g.popover.style.display==="block"&&(g.popover.style.top=x),g.selectPopover.style.display==="block"&&(g.selectPopover.style.top=x)}}),this.element.addEventListener("scroll",function(){if(M(d,["hint"]),d.options.comment&&d.options.comment.enable&&d.options.comment.scroll&&d.options.comment.scroll(d.wysiwyg.element.scrollTop),g.popover.style.display==="block"){var w=parseInt(g.popover.getAttribute("data-top"),10)-d.wysiwyg.element.scrollTop,S=-8;d.options.toolbarConfig.pin&&d.toolbar.element.getBoundingClientRect().top===0&&(S=window.scrollY-d.element.offsetTop+S);var x=Math.max(S,Math.min(w,g.element.clientHeight-21))+"px";g.popover.style.top=x,g.selectPopover.style.top=x}}),this.element.addEventListener("paste",function(w){us(d,w,{pasteCode:function(S){var x=(0,V.zh)(d),A=document.createElement("template");A.innerHTML=S,x.insertNode(A.content.cloneNode(!0));var I=(0,T.a1)(x.startContainer,"data-block","0");I?I.outerHTML=d.lute.SpinVditorDOM(I.outerHTML):d.wysiwyg.element.innerHTML=d.lute.SpinVditorDOM(d.wysiwyg.element.innerHTML),(0,V.ib)(d.wysiwyg.element,x)}})}),this.element.addEventListener("compositionstart",function(){g.composingLock=!0}),this.element.addEventListener("compositionend",function(w){var S=(0,E.W)(getSelection().getRangeAt(0).startContainer);if(S&&S.textContent===""){Ce(d);return}(0,h.vU)()||as(d,getSelection().getRangeAt(0).cloneRange(),w),g.composingLock=!1}),this.element.addEventListener("input",function(w){if(!(w.inputType==="deleteByDrag"||w.inputType==="insertFromDrop")){if(g.preventInput){g.preventInput=!1,ot(d);return}if(g.composingLock||w.data==="‘"||w.data==="“"||w.data==="《"){ot(d);return}var S=getSelection().getRangeAt(0),x=(0,T.F9)(S.startContainer);if(x||(Su(d,S),x=(0,T.F9)(S.startContainer)),!!x){for(var A=(0,V.im)(x,d.wysiwyg.element,S).start,I=!0,R=A-1;R>x.textContent.substr(0,A).lastIndexOf(`
`);R--)if(x.textContent.charAt(R)!==" "&&x.textContent.charAt(R)!=="	"){I=!1;break}A===0&&(I=!1);for(var O=!0,R=A-1;R<x.textContent.length;R++)if(x.textContent.charAt(R)!==" "&&x.textContent.charAt(R)!==`
`){O=!1;break}O&&/^#{1,6} $/.test(x.textContent)&&(O=!1);var H=(0,E.W)(getSelection().getRangeAt(0).startContainer);if(H&&H.textContent===""&&(Ce(d),H.remove()),I&&x.getAttribute("data-type")!=="code-block"||O||Nu(x.innerHTML)||Ru(x.innerHTML)&&x.previousElementSibling){typeof d.options.input=="function"&&d.options.input(u(d));return}w.inputType==="insertParagraph"&&g.element.innerHTML==="<p><br></p><p><br></p>"&&x.previousElementSibling.remove(),as(d,S,w)}}}),this.element.addEventListener("click",function(w){if(w.target.tagName==="INPUT"){var S=w.target;S.checked?S.setAttribute("checked","checked"):S.removeAttribute("checked"),g.preventInput=!0,getSelection().rangeCount>0&&(0,V.Hc)(getSelection().getRangeAt(0)),ot(d);return}if(w.target.tagName==="IMG"&&!w.target.parentElement.classList.contains("vditor-wysiwyg__preview")){w.target.getAttribute("data-type")==="link-ref"?Jd(d,w.target):Lw(w,d);return}var x=(0,T.lG)(w.target,"A");if(x){d.options.link.click?d.options.link.click(x):d.options.link.isOpen&&window.open(x.getAttribute("href")),w.preventDefault();return}var A=(0,V.zh)(d);if(w.target.isEqualNode(g.element)&&g.element.lastElementChild&&A.collapsed){var I=g.element.lastElementChild.getBoundingClientRect();w.y>I.top+I.height&&(g.element.lastElementChild.tagName==="P"&&g.element.lastElementChild.textContent.trim().replace(s.g.ZWSP,"")===""?(A.selectNodeContents(g.element.lastElementChild),A.collapse(!1)):(g.element.insertAdjacentHTML("beforeend",'<p data-block="0">'.concat(s.g.ZWSP,"<wbr></p>")),(0,V.ib)(g.element,A)))}$n(d);var R=(0,T.fb)(w.target,"vditor-wysiwyg__preview");R||(R=(0,T.fb)((0,V.zh)(d).startContainer,"vditor-wysiwyg__preview")),R&&Pa(R,d),Re(w,d)}),this.element.addEventListener("keyup",function(w){if(!(w.isComposing||(0,h.yl)(w))){w.key==="Enter"&&yt(d),(w.key==="Backspace"||w.key==="Delete")&&d.wysiwyg.element.innerHTML!==""&&d.wysiwyg.element.childNodes.length===1&&d.wysiwyg.element.firstElementChild&&d.wysiwyg.element.firstElementChild.tagName==="P"&&d.wysiwyg.element.firstElementChild.childElementCount===0&&(d.wysiwyg.element.textContent===""||d.wysiwyg.element.textContent===`
`)&&(d.wysiwyg.element.innerHTML="");var S=(0,V.zh)(d);if(w.key==="Backspace"&&(0,h.vU)()&&S.startContainer.textContent===`
`&&S.startOffset===1&&(S.startContainer.textContent=""),Su(d,S),$n(d),!(w.key!=="ArrowDown"&&w.key!=="ArrowRight"&&w.key!=="Backspace"&&w.key!=="ArrowLeft"&&w.key!=="ArrowUp")){(w.key==="ArrowLeft"||w.key==="ArrowRight")&&d.hint.render(d);var x=(0,T.fb)(S.startContainer,"vditor-wysiwyg__preview");if(!x&&S.startContainer.nodeType!==3&&S.startOffset>0){var A=S.startContainer;A.classList.contains("vditor-wysiwyg__block")&&(x=A.lastElementChild)}if(x){var I=x.previousElementSibling;if(I.style.display==="none"){w.key==="ArrowDown"||w.key==="ArrowRight"?Pa(x,d):Pa(x,d,!1);return}var R=x.previousElementSibling;if(R.tagName==="PRE"&&(R=R.firstElementChild),w.key==="ArrowDown"||w.key==="ArrowRight"){var A=x.parentElement,O=Tw(A);if(O&&O.nodeType!==3){var H=O.querySelector(".vditor-wysiwyg__preview");if(H){Pa(H,d);return}}if(O.nodeType===3){for(;O.textContent.length===0&&O.nextSibling;)O=O.nextSibling;S.setStart(O,1)}else S.setStart(O.firstChild,0)}else S.selectNodeContents(R),S.collapse(!1)}}}})},f})(),tS=(function(){var f=function(d,g){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,S){w.__proto__=S}||function(w,S){for(var x in S)Object.prototype.hasOwnProperty.call(S,x)&&(w[x]=S[x])},f(d,g)};return function(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");f(d,g);function w(){this.constructor=d}d.prototype=g===null?Object.create(g):(w.prototype=g.prototype,new w)}})(),rS=(function(f){tS(d,f);function d(g,w){var S=f.call(this)||this;if(S.isDestroyed=!1,S.version=s.H,typeof g=="string"){if(w?w.cache?w.cache.id||(w.cache.id="vditor".concat(g)):w.cache={id:"vditor".concat(g)}:w={cache:{id:"vditor".concat(g)}},!document.getElementById(g))return S.showErrorTip("Failed to get element by id: ".concat(g)),S;g=document.getElementById(g)}var x=new J1(w),A=x.merge();if(A.i18n)window.VditorI18n=A.i18n,S.init(g,A);else if(["de_DE","en_US","es_ES","fr_FR","ja_JP","ko_KR","pt_BR","ru_RU","sv_SE","vi_VN","zh_CN","zh_TW"].includes(A.lang)){var I="vditorI18nScript",R=I+A.lang;document.querySelectorAll('head script[id^="'.concat(I,'"]')).forEach(function(O){O.id!==R&&document.head.removeChild(O)}),(0,p.G)("".concat(A.cdn,"/dist/js/i18n/").concat(A.lang,".js"),R).then(function(){S.init(g,A)}).catch(function(O){S.showErrorTip("GET ".concat(A.cdn,"/dist/js/i18n/").concat(A.lang,".js net::ERR_ABORTED 404 (Not Found)"))})}else throw new Error("options.lang error, see https://ld246.com/article/1549638745630#options");return S}return d.prototype.showErrorTip=function(g){var w=new kp;document.body.appendChild(w.element),w.show(g,0)},d.prototype.updateToolbarConfig=function(g){this.vditor.toolbar.updateConfig(this.vditor,g)},d.prototype.setTheme=function(g,w,S,x){this.vditor.options.theme=g,We(this.vditor),w&&(this.vditor.options.preview.theme.current=w,(0,ce.Z)(w,x||this.vditor.options.preview.theme.path)),S&&(this.vditor.options.preview.hljs.style=S,(0,Dp.Y)(S,this.vditor.options.cdn))},d.prototype.getValue=function(){return u(this.vditor)},d.prototype.getCurrentMode=function(){return this.vditor.currentMode},d.prototype.focus=function(){this.vditor.currentMode==="sv"?this.vditor.sv.element.focus():this.vditor.currentMode==="wysiwyg"?this.vditor.wysiwyg.element.focus():this.vditor.currentMode==="ir"&&this.vditor.ir.element.focus()},d.prototype.blur=function(){this.vditor.currentMode==="sv"?this.vditor.sv.element.blur():this.vditor.currentMode==="wysiwyg"?this.vditor.wysiwyg.element.blur():this.vditor.currentMode==="ir"&&this.vditor.ir.element.blur()},d.prototype.disabled=function(){M(this.vditor,["subToolbar","hint","popover"]),y(this.vditor.toolbar.elements,s.g.EDIT_TOOLBARS.concat(["undo","redo","fullscreen","edit-mode"])),this.vditor[this.vditor.currentMode].element.setAttribute("contenteditable","false")},d.prototype.enable=function(){_(this.vditor.toolbar.elements,s.g.EDIT_TOOLBARS.concat(["undo","redo","fullscreen","edit-mode"])),this.vditor.undo.resetIcon(this.vditor),this.vditor[this.vditor.currentMode].element.setAttribute("contenteditable","true")},d.prototype.getSelection=function(){if(this.vditor.currentMode==="wysiwyg")return Na(this.vditor.wysiwyg.element);if(this.vditor.currentMode==="sv")return Na(this.vditor.sv.element);if(this.vditor.currentMode==="ir")return Na(this.vditor.ir.element)},d.prototype.renderPreview=function(g){this.vditor.preview.render(this.vditor,g)},d.prototype.getCursorPosition=function(){return(0,V.Ny)(this.vditor[this.vditor.currentMode].element)},d.prototype.isUploading=function(){return this.vditor.upload.isUploading},d.prototype.clearCache=function(){this.vditor.options.cache.enable&&(0,h.pK)()&&localStorage.removeItem(this.vditor.options.cache.id)},d.prototype.disabledCache=function(){this.vditor.options.cache.enable=!1},d.prototype.enableCache=function(){if(!this.vditor.options.cache.id)throw new Error("need options.cache.id, see https://ld246.com/article/1549638745630#options");this.vditor.options.cache.enable=!0},d.prototype.html2md=function(g){return this.vditor.lute.HTML2Md(g)},d.prototype.exportJSON=function(g){return this.vditor.lute.RenderJSON(g)},d.prototype.getHTML=function(){return Ep(this.vditor)},d.prototype.tip=function(g,w){this.vditor.tip.show(g,w)},d.prototype.setPreviewMode=function(g){Fu(g,this.vditor)},d.prototype.deleteValue=function(){window.getSelection().isCollapsed||document.execCommand("delete",!1)},d.prototype.updateValue=function(g){document.execCommand("insertHTML",!1,g)},d.prototype.insertValue=function(g,w){w===void 0&&(w=!0);var S=(0,V.zh)(this.vditor);S.collapse(!0);var x=document.createElement("template");x.innerHTML=g,S.insertNode(x.content.cloneNode(!0)),S.collapse(!1),this.vditor.currentMode==="sv"?(this.vditor.sv.preventInput=!0,w&&ue(this.vditor)):this.vditor.currentMode==="wysiwyg"?w&&as(this.vditor,getSelection().getRangeAt(0)):this.vditor.currentMode==="ir"&&(this.vditor.ir.preventInput=!0,w&&Qe(this.vditor,getSelection().getRangeAt(0),!0))},d.prototype.insertMD=function(g){this.vditor.currentMode==="ir"?(0,V.oC)(this.vditor.lute.Md2VditorIRDOM(g),this.vditor):this.vditor.currentMode==="wysiwyg"?(0,V.oC)(this.vditor.lute.Md2VditorDOM(g),this.vditor):Iu(this.vditor,g),this.vditor.outline.render(this.vditor),Fe(this.vditor)},d.prototype.setValue=function(g,w){var S=this;w===void 0&&(w=!1),this.vditor.currentMode==="sv"?(this.vditor.sv.element.innerHTML="<div data-block='0'>".concat(this.vditor.lute.SpinVditorSVDOM(g),"</div>"),Ct(this.vditor,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1})):this.vditor.currentMode==="wysiwyg"?ep(this.vditor,g,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1}):(this.vditor.ir.element.innerHTML=this.vditor.lute.Md2VditorIRDOM(g),this.vditor.ir.element.querySelectorAll(".vditor-ir__preview[data-render='2']").forEach(function(x){he(x,S.vditor)}),en(this.vditor,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1})),this.vditor.outline.render(this.vditor),g||(M(this.vditor,["emoji","headings","submenu","hint"]),this.vditor.wysiwyg.popover&&(this.vditor.wysiwyg.popover.style.display="none"),this.clearCache()),w&&this.clearStack()},d.prototype.insertEmptyBlock=function(g){Ba(this.vditor,g)},d.prototype.clearStack=function(){this.vditor.undo.clearStack(this.vditor),this.vditor.undo.addToUndoStack(this.vditor)},d.prototype.destroy=function(){this.vditor.element.innerHTML=this.vditor.originalInnerHTML,this.vditor.element.classList.remove("vditor"),this.vditor.element.removeAttribute("style");var g=document.getElementById("vditorIconScript");g&&g.remove(),this.clearCache(),Xd(),this.vditor.wysiwyg.unbindListener(),this.vditor.options.after=void 0,this.isDestroyed=!0},d.prototype.getCommentIds=function(){return this.vditor.currentMode!=="wysiwyg"?[]:this.vditor.wysiwyg.getComments(this.vditor,!0)},d.prototype.hlCommentIds=function(g){if(this.vditor.currentMode==="wysiwyg"){var w=function(S){S.classList.remove("vditor-comment--hover"),g.forEach(function(x){S.getAttribute("data-cmtids").indexOf(x)>-1&&S.classList.add("vditor-comment--hover")})};this.vditor.wysiwyg.element.querySelectorAll(".vditor-comment").forEach(function(S){w(S)}),this.vditor.preview.element.style.display!=="none"&&this.vditor.preview.element.querySelectorAll(".vditor-comment").forEach(function(S){w(S)})}},d.prototype.unHlCommentIds=function(g){if(this.vditor.currentMode==="wysiwyg"){var w=function(S){g.forEach(function(x){S.getAttribute("data-cmtids").indexOf(x)>-1&&S.classList.remove("vditor-comment--hover")})};this.vditor.wysiwyg.element.querySelectorAll(".vditor-comment").forEach(function(S){w(S)}),this.vditor.preview.element.style.display!=="none"&&this.vditor.preview.element.querySelectorAll(".vditor-comment").forEach(function(S){w(S)})}},d.prototype.removeCommentIds=function(g){var w=this;if(this.vditor.currentMode==="wysiwyg"){var S=function(x,A){var I=x.getAttribute("data-cmtids").split(" ");I.find(function(R,O){if(R===A)return I.splice(O,1),!0}),I.length===0?(x.outerHTML=x.innerHTML,(0,V.zh)(w.vditor).collapse(!0)):x.setAttribute("data-cmtids",I.join(" "))};g.forEach(function(x){w.vditor.wysiwyg.element.querySelectorAll(".vditor-comment").forEach(function(A){S(A,x)}),w.vditor.preview.element.style.display!=="none"&&w.vditor.preview.element.querySelectorAll(".vditor-comment").forEach(function(A){S(A,x)})}),ot(this.vditor,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1})}},d.prototype.init=function(g,w){var S=this;this.isDestroyed||(this.vditor={currentMode:w.mode,element:g,hint:new qw(w.hint.extend),lute:void 0,options:w,originalInnerHTML:g.innerHTML,outline:new Kw(window.VditorI18n.outline),tip:new kp},this.vditor.sv=new Jw(this.vditor),this.vditor.undo=new Z1,this.vditor.wysiwyg=new eS(this.vditor),this.vditor.ir=new $w(this.vditor),this.vditor.toolbar=new K1(this.vditor),w.resize.enable&&(this.vditor.resize=new Qw(this.vditor)),this.vditor.toolbar.elements.devtools&&(this.vditor.devtools=new c),(w.upload.url||w.upload.handler)&&(this.vditor.upload=new Nw),(0,p.G)(w._lutePath||"".concat(w.cdn,"/dist/js/lute/lute.min.js"),"vditorLuteScript").then(function(){S.vditor.lute=(0,Yw.X)({autoSpace:S.vditor.options.preview.markdown.autoSpace,gfmAutoLink:S.vditor.options.preview.markdown.gfmAutoLink,codeBlockPreview:S.vditor.options.preview.markdown.codeBlockPreview,emojiSite:S.vditor.options.hint.emojiPath,emojis:S.vditor.options.hint.emoji,fixTermTypo:S.vditor.options.preview.markdown.fixTermTypo,footnotes:S.vditor.options.preview.markdown.footnotes,headingAnchor:!1,inlineMathDigit:S.vditor.options.preview.math.inlineDigit,linkBase:S.vditor.options.preview.markdown.linkBase,linkPrefix:S.vditor.options.preview.markdown.linkPrefix,listStyle:S.vditor.options.preview.markdown.listStyle,mark:S.vditor.options.preview.markdown.mark,mathBlockPreview:S.vditor.options.preview.markdown.mathBlockPreview,paragraphBeginningSpace:S.vditor.options.preview.markdown.paragraphBeginningSpace,sanitize:S.vditor.options.preview.markdown.sanitize,toc:S.vditor.options.preview.markdown.toc}),S.vditor.preview=new Zw(S.vditor),ht(S.vditor),w.after&&w.after(),w.icon&&(0,p.J)("".concat(w.cdn,"/dist/js/icons/").concat(w.icon,".js"),"vditorIconScript")}))},d})(o.default);const nS=rS})(),a=a.default,a})()})})(ml)),ml.exports}var KP=YP();const XP=vS(KP),ZP={class:"vditor-container"},QP={key:0,class:"word-count"},JP={__name:"ChapterDialog",props:{visible:{type:Boolean,default:!1},treeData:{type:Array,default:()=>[]},editData:{type:Object,default:null},defaultVolumeId:{type:String,default:""}},emits:["update:visible","save"],setup(t,{emit:e}){const r=t,n=e,i=kt({get:()=>r.visible,set:y=>n("update:visible",y)}),a=Ve(null),o=Ve(null),s=kt(()=>!!r.editData);let l=null;const u=Ve({title:"",wordCount:0,content:"",volumeId:"",status:"draft"}),p={title:[{required:!0,message:"请输入章节标题",trigger:"blur"}],volumeId:[{required:!0,message:"请选择所属卷",trigger:"change"}]};Vr(()=>r.visible,y=>{y?setTimeout(()=>{h(u.value.content||"")},100):l&&(l.destroy(),l=null)});const c=()=>{u.value={title:"",wordCount:0,content:"",volumeId:r.defaultVolumeId||"",status:"draft"}};Vr(()=>r.editData,y=>{y?u.value={title:y.title,wordCount:y.wordCount||0,content:y.content||"",volumeId:y.volumeId||r.defaultVolumeId,status:y.status||"draft"}:c()},{immediate:!0});const h=y=>{o.value&&!l&&(l=new XP(o.value,{height:400,value:y||"",mode:"ir",preview:{theme:{current:"auto"},hljs:{enable:!0}},toolbarConfig:{pin:!0,toolbar:["emoji","headings","bold","italic","strike","|","list","ordered-list","check","outdent","indent","|","link","image","table","|","code","code-block","|","undo","redo","|","fullscreen","edit-mode"]},cache:{enable:!1},input:b=>{u.value.wordCount=v(b)}}))},v=y=>y?y.replace(/[\*\_\[\]\(\)\~\`\#\>\!\|\{\}\;\:]/g,"").length:0,m=()=>{i.value=!1,c()},_=async()=>{try{await a.value.validate(),l&&(u.value.content=l.getValue(),u.value.wordCount=u.value.content.replace(/[\*\_\[\]\(\)\~\`\#\>\!\|\{\}\;\:]/g,"").length);const y={id:s.value?r.editData.id:Date.now().toString(),...u.value};n("save",y),i.value=!1,Tt.success(s.value?"章节编辑成功":"章节添加成功"),c()}catch(y){console.error("保存章节失败:",y)}};return Oh(()=>{l&&(l.destroy(),l=null)}),(y,b)=>{const C=ge("el-option"),M=ge("el-select"),L=ge("el-form-item"),T=ge("el-input"),E=ge("el-radio"),k=ge("el-radio-group"),P=ge("el-form"),D=ge("el-button"),N=ge("el-dialog");return Me(),Ge(N,{modelValue:i.value,"onUpdate:modelValue":b[4]||(b[4]=B=>i.value=B),title:s.value?"编辑章节":"添加章节",width:"800px",height:"80vh"},{footer:$(()=>[q(D,{onClick:m},{default:$(()=>[...b[7]||(b[7]=[Te("取消",-1)])]),_:1}),q(D,{type:"primary",onClick:_},{default:$(()=>[...b[8]||(b[8]=[Te("确定",-1)])]),_:1})]),default:$(()=>[q(P,{ref_key:"formRef",ref:a,model:u.value,rules:p,"label-width":"100px"},{default:$(()=>[q(L,{label:"所属卷",prop:"volumeId"},{default:$(()=>[q(M,{modelValue:u.value.volumeId,"onUpdate:modelValue":b[0]||(b[0]=B=>u.value.volumeId=B),placeholder:"选择卷",style:{width:"100%"}},{default:$(()=>[(Me(!0),wt(Ri,null,Ni(t.treeData,B=>(Me(),Ge(C,{key:B.id,label:B.title,value:B.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),q(L,{label:"章节标题",prop:"title"},{default:$(()=>[q(T,{modelValue:u.value.title,"onUpdate:modelValue":b[1]||(b[1]=B=>u.value.title=B),placeholder:"请输入章节标题"},null,8,["modelValue"])]),_:1}),q(L,{label:"章节状态",prop:"status"},{default:$(()=>[q(k,{modelValue:u.value.status,"onUpdate:modelValue":b[2]||(b[2]=B=>u.value.status=B)},{default:$(()=>[q(E,{label:"draft"},{default:$(()=>[...b[5]||(b[5]=[Te("草稿",-1)])]),_:1}),q(E,{label:"published"},{default:$(()=>[...b[6]||(b[6]=[Te("已发布",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),q(L,{label:"章节字数"},{default:$(()=>[q(T,{modelValue:u.value.wordCount,"onUpdate:modelValue":b[3]||(b[3]=B=>u.value.wordCount=B),disabled:"",placeholder:"自动统计"},null,8,["modelValue"])]),_:1}),q(L,{label:"章节内容",prop:"content"},{default:$(()=>[ze("div",ZP,[ze("div",{ref_key:"vditorRef",ref:o,class:"vditor"},null,512),u.value.wordCount>0?(Me(),wt("div",QP,ut(u.value.wordCount)+"字",1)):Et("",!0)])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])}}},eR=wr(JP,[["__scopeId","data-v-cf6df70c"]]),tR={__name:"ContextMenu",props:{visible:{type:Boolean,default:!1},menuNode:{type:Object,default:null},menuStyle:{type:Object,default:()=>({top:"0px",left:"0px"})}},emits:["add-volume","add-chapter","edit","publish","move-up","move-down","delete"],setup(t,{emit:e}){const r=Ve(null);return(n,i)=>{const a=ge("el-icon"),o=ge("el-dropdown-item"),s=ge("el-dropdown-menu");return t.visible?(Me(),Ge(s,{key:0,style:gS(t.menuStyle),ref_key:"menuRef",ref:r},{default:$(()=>[q(o,{onClick:i[0]||(i[0]=l=>n.$emit("add-volume"))},{default:$(()=>[q(a,null,{default:$(()=>[q($e(Nn))]),_:1}),i[7]||(i[7]=Te(" 添加卷 ",-1))]),_:1}),t.menuNode&&t.menuNode.isVolume?(Me(),Ge(o,{key:0,onClick:i[1]||(i[1]=l=>n.$emit("add-chapter",t.menuNode))},{default:$(()=>[q(a,null,{default:$(()=>[q($e(Nn))]),_:1}),i[8]||(i[8]=Te(" 添加章节 ",-1))]),_:1})):Et("",!0),t.menuNode?(Me(),Ge(o,{key:1,onClick:i[2]||(i[2]=l=>n.$emit("edit",t.menuNode))},{default:$(()=>[q(a,null,{default:$(()=>[q($e(Dh))]),_:1}),i[9]||(i[9]=Te(" 编辑 ",-1))]),_:1})):Et("",!0),t.menuNode&&!t.menuNode.isVolume?(Me(),Ge(o,{key:2,onClick:i[3]||(i[3]=l=>n.$emit("publish",t.menuNode))},{default:$(()=>[q(a,null,{default:$(()=>[q($e(Ph))]),_:1}),i[10]||(i[10]=Te(" 发布 ",-1))]),_:1})):Et("",!0),t.menuNode&&!t.menuNode.isVolume?(Me(),Ge(o,{key:3,onClick:i[4]||(i[4]=l=>n.$emit("move-up",t.menuNode)),disabled:t.menuNode.isFirst},{default:$(()=>[q(a,null,{default:$(()=>[q($e(Ly))]),_:1}),i[11]||(i[11]=Te(" 上移 ",-1))]),_:1},8,["disabled"])):Et("",!0),t.menuNode&&!t.menuNode.isVolume?(Me(),Ge(o,{key:4,onClick:i[5]||(i[5]=l=>n.$emit("move-down",t.menuNode)),disabled:t.menuNode.isLast},{default:$(()=>[q(a,null,{default:$(()=>[q($e(Ey))]),_:1}),i[12]||(i[12]=Te(" 下移 ",-1))]),_:1},8,["disabled"])):Et("",!0),t.menuNode?(Me(),Ge(o,{key:5,onClick:i[6]||(i[6]=l=>n.$emit("delete",t.menuNode)),divided:""},{default:$(()=>[q(a,null,{default:$(()=>[q($e(Ql))]),_:1}),i[13]||(i[13]=Te(" 删除 ",-1))]),_:1})):Et("",!0)]),_:1},8,["style"])):Et("",!0)}}},rR=wr(tR,[["__scopeId","data-v-09b7e348"]]),nR={class:"novel-management-container"},iR={class:"novel-info"},aR={class:"toolbar"},oR={class:"toolbar-buttons"},sR={class:"search-wrapper"},lR={class:"chapter-tree-wrapper"},uR={class:"actions"},cR={__name:"ManageChaptersDialog",props:{visible:{type:Boolean,default:!1},novel:{type:Object,default:()=>({id:"",title:"",author:"",volumes:[]})}},emits:["update:visible","save"],setup(t,{emit:e}){const r=t,n=e,i=kt({get:()=>r.visible,set:W=>n("update:visible",W)}),a=Ve([]),o=Ve(""),s=Ve(!1),l=Ve(!1),u=Ve(null),p=Ve(null),c=Ve([]),h=Ve([]),v=Ve(!1),m=Ve(null),_=Ve({top:"0px",left:"0px"}),y=Ve(window.innerWidth<=768),b=Ve(!1),C=()=>{y.value=window.innerWidth<=768},M=()=>{b.value=!b.value},L=()=>{r.novel&&r.novel.volumes?(a.value=JSON.parse(JSON.stringify(r.novel.volumes)),a.value.forEach(W=>{W.isVolume=!0,W.chapters||(W.chapters=[]),W.chapters.forEach(de=>{de.isVolume=!1,de.status||(de.status="draft")})})):a.value=[],c.value=[],h.value=[]};Vr(()=>r.visible,W=>{W&&L()});const T=()=>{i.value=!1,v.value=!1},E=W=>{},k=()=>{},P=({event:W,data:de})=>{m.value=de,_.value={top:`${W.clientY}px`,left:`${W.clientX}px`},v.value=!0},D=()=>{v.value=!1,m.value=null},N=(W,de,ue)=>{if(de)c.value.push(W);else{const Se=c.value.findIndex(ce=>ce.id===W.id);Se>-1&&c.value.splice(Se,1)}},B=(W,de)=>{},U=()=>{u.value=null,s.value=!0},F=()=>{D(),U()},G=W=>{W.sortOrder===0||W.sortOrder>a.value.length?a.value.push(W):a.value.splice(W.sortOrder-1,0,W)},Y=W=>{u.value=null,p.value=W.id,l.value=!0},K=W=>{D(),Y(W)},ne=W=>{u.value=W,W.isVolume?s.value=!0:l.value=!0,D()},te=W=>{D(),ne(W)},ae=W=>{if(W.id)for(let de of a.value){const ue=de.chapters.findIndex(Se=>Se.id===W.id);if(ue>-1){if(de.id!==W.volumeId){const Se=de.chapters.splice(ue,1)[0],ce=a.value.find(We=>We.id===W.volumeId);ce&&ce.chapters.push({...Se,...W})}else de.chapters[ue]={...de.chapters[ue],...W};break}}else{const de=a.value.find(ue=>ue.id===p.value);de&&de.chapters.push(W)}},le=async W=>{try{if(await oo.confirm(`确定要删除${W.isVolume?"卷":"章节"}「${W.title}」吗？`,"确认删除",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"})==="confirm"){if(W.isVolume){const Se=a.value.findIndex(ce=>ce.id===W.id);Se>-1&&a.value.splice(Se,1)}else for(let Se of a.value){const ce=Se.chapters.findIndex(We=>We.id===W.id);if(ce>-1){Se.chapters.splice(ce,1);break}}Tt.success("删除成功");const ue=c.value.findIndex(Se=>Se.id===W.id);ue>-1&&c.value.splice(ue,1)}}catch{}},he=W=>{D(),le(W)},V=async W=>{try{await oo.confirm(`确定要发布章节「${W.title}」吗？`,"确认发布",{confirmButtonText:"确定",cancelButtonText:"取消",type:"info"})==="confirm"&&(W.status="published",Tt.success("章节发布成功"))}catch{}},Ce=W=>{D(),V(W)},Re=async()=>{try{const W=c.value.filter(ue=>!ue.isVolume);if(W.length===0){Tt.warning("请选择要发布的章节");return}await oo.confirm(`确定要发布选中的${W.length}个章节吗？`,"批量发布",{confirmButtonText:"确定",cancelButtonText:"取消",type:"info"})==="confirm"&&(W.forEach(ue=>{ue.status="published"}),Tt.success(`成功发布${W.length}个章节`))}catch{}},qe=async()=>{try{if(c.value.length===0){Tt.warning("请选择要删除的项目");return}const W=c.value.filter(Se=>Se.isVolume).length,de=c.value.length-W;await oo.confirm(`确定要删除选中的${W}个卷和${de}个章节吗？`,"批量删除",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"})==="confirm"&&(c.value.forEach(Se=>{if(Se.isVolume){const ce=a.value.findIndex(We=>We.id===Se.id);ce>-1&&a.value.splice(ce,1)}else for(let ce of a.value){const We=ce.chapters.findIndex(ht=>ht.id===Se.id);if(We>-1){ce.chapters.splice(We,1);break}}}),Tt.success(`成功删除${W}个卷和${de}个章节`),c.value=[],h.value=[])}catch{}},Qe=(W,de)=>{for(const ue of a.value){const Se=ue.chapters.findIndex(ce=>ce.id===W.id);if(Se>0){const ce=ue.chapters[Se-1];ue.chapters[Se-1]=ue.chapters[Se],ue.chapters[Se]=ce,Tt.success("章节已上移");break}}},X=W=>{D(),Qe(W)},Oe=(W,de)=>{for(const ue of a.value){const Se=ue.chapters.findIndex(ce=>ce.id===W.id);if(Se>-1&&Se<ue.chapters.length-1){const ce=ue.chapters[Se+1];ue.chapters[Se+1]=ue.chapters[Se],ue.chapters[Se]=ce,Tt.success("章节已下移");break}}},ie=W=>{D(),Oe(W)},Z=()=>{n("save",{...r.novel,volumes:a.value}),T()},me=()=>{v.value&&D()};return Jl(()=>{L(),document.addEventListener("click",me),window.addEventListener("resize",C)}),Oh(()=>{document.removeEventListener("click",me),window.removeEventListener("resize",C)}),(W,de)=>{const ue=ge("el-icon"),Se=ge("el-button"),ce=ge("el-input"),We=ge("el-dialog");return Me(),Ge(We,{modelValue:i.value,"onUpdate:modelValue":de[3]||(de[3]=ht=>i.value=ht),title:"章节管理",width:y.value?"100%":"900px","before-close":T,class:"novel-management-dialog",fullscreen:b.value},{default:$(()=>[ze("div",nR,[ze("div",iR,[ze("h3",null,ut(t.novel.title),1)]),ze("div",aR,[ze("div",oR,[q(Se,{type:"primary",size:"small",onClick:U},{default:$(()=>[q(ue,null,{default:$(()=>[q($e(Nn))]),_:1}),de[4]||(de[4]=Te(" 添加卷 ",-1))]),_:1}),q(Se,{size:"small",onClick:Re,disabled:c.value.length===0},{default:$(()=>[q(ue,null,{default:$(()=>[q($e(Ph))]),_:1}),de[5]||(de[5]=Te(" 批量发布 ",-1))]),_:1},8,["disabled"]),q(Se,{size:"small",onClick:qe,disabled:c.value.length===0,type:"danger"},{default:$(()=>[q(ue,null,{default:$(()=>[q($e(Ql))]),_:1}),de[6]||(de[6]=Te(" 批量删除 ",-1))]),_:1},8,["disabled"]),q(Se,{size:"small",onClick:M},{default:$(()=>[q(ue,null,{default:$(()=>[q($e(mS))]),_:1}),Te(" "+ut(b.value?"退出全屏":"全屏"),1)]),_:1})]),ze("div",sR,[q(ce,{modelValue:o.value,"onUpdate:modelValue":de[0]||(de[0]=ht=>o.value=ht),placeholder:"搜索章节/卷",size:"small","prefix-icon":$e(Ty),onInput:k},null,8,["modelValue","prefix-icon"])])]),ze("div",lR,[q(WP,{treeData:a.value,searchKeyword:o.value,onNodeClick:E,onCheckChange:N,onCheck:B,onAddChapter:Y,onEditNode:ne,onPublishChapter:V,onDeleteNode:le,onMoveUp:Qe,onMoveDown:Oe,onContextMenu:P},null,8,["treeData","searchKeyword"])]),ze("div",uR,[q(Se,{type:"primary",onClick:Z},{default:$(()=>[...de[7]||(de[7]=[Te("保存",-1)])]),_:1}),q(Se,{onClick:T},{default:$(()=>[...de[8]||(de[8]=[Te("取消",-1)])]),_:1})])]),q(qP,{visible:s.value,"onUpdate:visible":de[1]||(de[1]=ht=>s.value=ht),treeData:a.value,editData:u.value,onSave:G},null,8,["visible","treeData","editData"]),q(eR,{visible:l.value,"onUpdate:visible":de[2]||(de[2]=ht=>l.value=ht),treeData:a.value,editData:u.value,defaultVolumeId:p.value,onSave:ae},null,8,["visible","treeData","editData","defaultVolumeId"]),q(rR,{visible:v.value,menuNode:m.value,menuStyle:_.value,onAddVolume:F,onAddChapter:K,onEdit:te,onPublish:Ce,onMoveUp:X,onMoveDown:ie,onDelete:he},null,8,["visible","menuNode","menuStyle"])]),_:1},8,["modelValue","width","fullscreen"])}}},fR=wr(cR,[["__scopeId","data-v-4370a69f"]]),hR={__name:"index",setup(t){const e=()=>{const T="RLSF",E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let k="";for(let P=0;P<8;P++)k+=E.charAt(Math.floor(Math.random()*E.length));return T+k},r=Ve(!1),n=Ve(!1),i=Ve(!1),a=Ve(!1),o=Ve(""),s=Ve([]),l=Ve(null),u=Ve(null),p=Ve(null),c=()=>{s.value=[{id:"RLSFaBcd1234",title:"我的第一部玄幻巨作",description:"这是一个关于勇气与冒险的史诗故事...",cover:"https://shadow.elemecdn.com/app/element/hamburger.9cf7b091-55e9-11e9-a976-7f4d0b07eef6.png",status:"已发布",wordCount:120500,views:88e3,collections:4500,lastUpdated:"2025-10-03 18:00",serializationStatus:"连载中",tags:["玄幻","热血","穿越"],volumes:[{id:"VOL001",title:"第一卷：觉醒",chapters:[{id:"CH001",title:"第1章：奇怪的梦",wordCount:3200,publishDate:"2025-09-15 10:00"},{id:"CH002",title:"第2章：神秘的力量",wordCount:2800,publishDate:"2025-09-16 10:00"}]},{id:"VOL002",title:"第二卷：历练",chapters:[{id:"CH003",title:"第3章：初次冒险",wordCount:3500,publishDate:"2025-09-17 10:00"}]}]}],console.log("组件已挂载，已加载测试数据。")};Jl(()=>{c()});const h=kt(()=>o.value?s.value.filter(T=>T.title.toLowerCase().includes(o.value.toLowerCase())):s.value),v=()=>{r.value=!0},m=T=>{const E={id:e(),...T,status:"草稿",wordCount:0,views:0,collections:0,lastUpdated:new Date().toLocaleString().replace(/\//g,"-")};s.value.unshift(E),Tt.success(`小说创建成功！作品编号: ${E.id}`)},_=T=>{const E=s.value.find(k=>k.id===T);E&&(l.value=E,n.value=!0)},y=T=>{const E=s.value.findIndex(k=>k.id===T.id);E!==-1&&(s.value[E]=T,Tt.success("小说信息更新成功！"))},b=T=>{const E=s.value.find(k=>k.id===T);E&&(p.value=E,a.value=!0)},C=T=>{const E=s.value.findIndex(k=>k.id===T.id);E!==-1&&(s.value[E]=T,Tt.success("章节信息更新成功！"))},M=T=>{const E=s.value.find(k=>k.id===T);E&&(u.value=E,i.value=!0)},L=T=>{oo.confirm("确定要删除这部小说吗？此操作不可恢复。","警告",{confirmButtonText:"确定删除",cancelButtonText:"取消",type:"warning"}).then(()=>{s.value=s.value.filter(E=>E.id!==T),Tt.success("小说已删除")}).catch(()=>{Tt.info("已取消删除")})};return(T,E)=>{const k=ge("el-header"),P=ge("el-main"),D=ge("el-container");return Me(),Ge(D,{class:"my-novels-container"},{default:$(()=>[q(k,{class:"page-header-section"},{default:$(()=>[q(bS,{onCreateNovel:v}),q(SS,{modelValue:o.value,"onUpdate:modelValue":E[0]||(E[0]=N=>o.value=N)},null,8,["modelValue"])]),_:1}),q(P,{class:"page-main-section"},{default:$(()=>[h.value.length>0?(Me(),Ge(PS,{key:0,novels:h.value,onManageChapters:b,onEdit:_,onAnalytics:M,onDelete:L},null,8,["novels"])):(Me(),Ge(BS,{key:1,onCreateNovel:v}))]),_:1}),q(US,{visible:r.value,"onUpdate:visible":E[1]||(E[1]=N=>r.value=N),onCreate:m},null,8,["visible"]),q($S,{visible:n.value,"onUpdate:visible":E[2]||(E[2]=N=>n.value=N),novel:l.value,onUpdate:y},null,8,["visible","novel"]),q(IP,{visible:i.value,"onUpdate:visible":E[3]||(E[3]=N=>i.value=N),novel:u.value},null,8,["visible","novel"]),q(fR,{visible:a.value,"onUpdate:visible":E[4]||(E[4]=N=>a.value=N),novel:p.value,onSave:C},null,8,["visible","novel"])]),_:1})}}},pR=wr(hR,[["__scopeId","data-v-443fad69"]]);export{pR as default};
